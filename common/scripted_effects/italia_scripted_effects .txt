
#Important to put HIGHEST first
ITALIA_economy_level_up = {
	if = {
		limit = { has_idea = italia_inefficient_economy_3 }
		swap_ideas = {
			remove_idea = italia_inefficient_economy_3
			add_idea = italia_inefficient_economy_4
		}
	}
	else_if = {
		limit = { has_idea = italia_inefficient_economy_2 }
		swap_ideas = {
			remove_idea = italia_inefficient_economy_2
			add_idea = italia_inefficient_economy_3
		}
	}

	else_if = {
		limit = { has_idea = italia_inefficient_economy_1 }
		swap_ideas = {
			remove_idea = italia_inefficient_economy_1
			add_idea = italia_inefficient_economy_2
		}
	}
}


#Important to put HIGHEST first
ITA_remove_inefficient_economy = {
	if = {
		limit = { has_idea = italia_inefficient_economy_1 }
		remove_ideas = italia_inefficient_economy_1
	}
	else_if = {
		limit = { has_idea = italia_inefficient_economy_2 }
		remove_ideas = italia_inefficient_economy_2
	}
	else_if = {
		limit = { has_idea = italia_inefficient_economy_3 }
		remove_ideas = italia_inefficient_economy_3
	}
	else_if = {
		limit = { has_idea = italia_inefficient_economy_4 }
		remove_ideas = italia_inefficient_economy_4
	}
}

#Important to put HIGHEST first
ITALIA_mvsn_level_up = {
	if = {
		limit = { has_tech = mvsn_5 }
		custom_effect_tooltip = mvsn_upgrade_tt
		hidden_effect = {
		set_technology = { mvsn_6 = 1 }
			}
		}
	else_if = {
		limit = { has_tech = mvsn_4 }
		custom_effect_tooltip = mvsn_upgrade_tt
		hidden_effect = {
		set_technology = { mvsn_5 = 1 }
			}
		}
	else_if = {
		limit = { has_tech = mvsn_3 }
		custom_effect_tooltip = mvsn_upgrade_tt
		hidden_effect = {
		set_technology = { mvsn_4 = 1 }
			}
		}
	else_if = {
		limit = { has_tech = mvsn_2 }
		custom_effect_tooltip = mvsn_upgrade_tt
		hidden_effect = {
		set_technology = { mvsn_3 = 1 }
			}
		}
	else_if = {
		limit = { has_tech = mvsn }
		custom_effect_tooltip = mvsn_upgrade_tt
		hidden_effect = {
		set_technology = { mvsn_2 = 1 }
		}
	}
}

ITALIA_fiar_air_bonus = {
	if = {
		limit = { has_idea = macchi }
		swap_ideas = {
			remove_idea = macchi
			add_idea = ITA_fiat_air
		}
	}
	else_if = {
		limit = { has_idea = savoia_marchetti }
		swap_ideas = {
			remove_idea = savoia_marchetti
			add_idea = ITA_fiat_air
		}
	}

	else_if = {
		limit = { has_idea = caproni }
		swap_ideas = {
			remove_idea = caproni
			add_idea = ITA_fiat_air
		}
	}
	else_if = {
		limit = { has_idea = piaggio }
		swap_ideas = {
			remove_idea = caproni
			add_idea = ITA_fiat_air
		}
	}
	else_if = {
		add_ideas = ITA_fiat_air
	}
}

ITALIA_escalate_committment_to_SPA = {
	if = {
		limit = { has_idea = italia_volunteers_in_spain_nationalist_2 }
		swap_ideas = {
			remove_idea = italia_volunteers_in_spain_nationalist_2
			add_idea = italia_volunteers_in_spain_nationalist_3
		}
		send_equipment = {
			equipment = artillery_equipment
			amount = 500
			target = SPA
			}
		send_equipment = {
			equipment = infantry_equipment
			amount = 1000
			target = SPA
			}
	}
	else_if = {
		limit = { has_idea = italia_volunteers_in_spain_nationalist }
		swap_ideas = {
			remove_idea = italia_volunteers_in_spain_nationalist
			add_idea = italia_volunteers_in_spain_nationalist_2
		}
		send_equipment = {
			equipment = artillery_equipment
			amount = 250
			target = SPA
			}
		send_equipment = {
			equipment = infantry_equipment
			amount = 500
			target = SPA
			}
	}
}

ITALIA_bombers_for_SPA = {
	if = {
		limit = { has_country_flag = italia_bombers_for_spain_flag_3 }
		set_country_flag = italia_bombers_for_spain_flag_4
		send_equipment = {
			equipment = tri_engine_bomber_equipment_1
			amount = 30
			target = SPA
				}
		custom_effect_tooltip = ita_franco_influence_10_tt
		add_to_variable = { var = ita_influence_with_franco value = 10 }
	}
	else_if = {
		limit = { has_country_flag = italia_bombers_for_spain_flag_2 }
		set_country_flag = italia_bombers_for_spain_flag_3
		send_equipment = {
			equipment = tri_engine_bomber_equipment_1
			amount = 20
			target = SPA
				}
		custom_effect_tooltip = ita_franco_influence_5_tt
		add_to_variable = { var = ita_influence_with_franco value = 5 }
	}
	else_if = {
		limit = { has_country_flag = italia_bombers_for_spain_flag_1 }
		set_country_flag = italia_bombers_for_spain_flag_2
		send_equipment = {
			equipment = tri_engine_bomber_equipment_1
			amount = 10
			target = SPA
				}
		custom_effect_tooltip = ita_franco_influence_5_tt
		add_to_variable = { var = ita_influence_with_franco value = 5 }
	}
	else_if = {
		set_country_flag = italia_bombers_for_spain_flag_1
		send_equipment = {
			equipment = tri_engine_bomber_equipment_1
			amount = 10
			target = SPA
				}
		custom_effect_tooltip = ita_franco_influence_5_tt
		add_to_variable = { var = ita_influence_with_franco value = 5 }
	}
}

ITALIA_military_ready_plus_5 = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				add_to_variable = { var = ita_ready_military_progress value = 5 }
				}
	}
	
LVN_civil_war_variable_values = {	
	#American Variables
	set_variable = { LVN_quantity_purchased_infantry_equipment = 1000 }
	set_variable = { LVN_quantity_purchased_artillery = 100 }
	set_variable = { LVN_quantity_purchased_motorized = 100 }
	set_variable = { LVN_quantity_purchased_mechanized = 50 }
	set_variable = { LVN_quantity_purchased_armored_car = 50 }
	set_variable = { LVN_quantity_purchased_light_armor = 40 }
	set_variable = { LVN_quantity_purchased_medium_armor = 20 }
	set_variable = { LVN_quantity_purchased_heavy_armor = 10 }
	set_variable = { LVN_quantity_purchased_fighter = 40 }
	set_variable = { LVN_quantity_purchased_naval_bomber = 30 }
	set_variable = { LVN_quantity_purchased_tactical_bomber = 20 }	
}

LVN_set_ref_variable_values = {	
	#Referendum variables. Monarchist variable goes up if Umberto has been a great general for you
	if = {
		limit = {
			is_ai = yes
		}
	set_variable = { LVN_republic_party = 30 } #AI can proceed right away
	set_variable = { LVN_kings_party = 30 }
	
	}
	else_if  = {
		limit = {
			has_unit_leader = 6940
			any_unit_leader = {
				has_id = 6940
				skill > 4
			}
		}
	set_variable = { LVN_kings_party = 15 } #Beginning value for monarchists if you had a great success with Umberto
	set_variable = { LVN_socialists_party = 0 } #Beginning value for socialists (lowest, least historical option )
	set_variable = { LVN_republic_party = 25 } #Beginning value for the Republicans. Just need one option to proceed
	}
	else_if = {
		limit = {
			has_unit_leader = 6940
			any_unit_leader = {
				has_id = 6940
				skill > 3
			}
		}
	set_variable = { LVN_kings_party = 10 } #Beginning value for monarchists if you had a little success with Umberto
	set_variable = { LVN_socialists_party = 0 } #Beginning value for socialists (lowest, least historical option )
	set_variable = { LVN_republic_party = 25 } #Beginning value for the Republicans. Just need one option to proceed
	}
	else = {
		set_variable = { LVN_kings_party = 5 } #Basic historical value
		set_variable = { LVN_socialists_party = 0 } #Beginning value for socialists (lowest, least historical option )
		set_variable = { LVN_republic_party = 25 } #Beginning value for the Republicans. Just need one option to proceed
	}

}

LVN_ita_fra_industry_effect = {
	#Highest first
	if = {
		limit = {
			check_variable = {
				var = LVN_ita_fra_factories
				value = 5
				compares = equals
			}
		}
		random_owned_state = {
			limit = { 
				free_building_slots = {
				building = arms_factory
				size > 5
				include_locked = yes
				} 
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = arms_factory
				level = 5
				instant_build = yes
				}
			}
	}
	
	else_if = {
		limit = {
			check_variable = {
				var = LVN_ita_fra_factories
				value = 4
				compares = equals
			}
		}
		random_owned_state = {
			limit = { 
				free_building_slots = {
				building = arms_factory
				size > 4
				include_locked = yes
				} 
			}
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
				}
			}
	}
	
	else_if = {#Initial Investment
		limit = {
			check_variable = {
				var = LVN_ita_fra_factories
				value = 3
				compares = equals
			}
		}
		random_owned_state = {
			limit = { 
				free_building_slots = {
				building = arms_factory
				size > 3
				include_locked = yes
				} 
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
				}
			}
	}
}

