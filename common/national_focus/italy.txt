focus_tree = {
	id = italian_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 20
			tag = ITA
		}
	}

	default = no

	continuous_focus_position = { x = 100 y = 1500 }

	initial_show_position = {
		x = 60
		y = 0
		offset = {
			x = -26
			y = 0
			trigger = {
				OR = {
					has_country_flag = RSI_tree_completed
					has_country_flag = deposed_mussolini_1
				}
			}
		}

	}
	
############################################	
#############INDUSTRY BRANCH################
############################################	
	focus = {
		id = italia_iri
		icon = GFX_focus_generic_industrytwo
		
		available = { 
		}
		
		x = 6
		y = 0
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		completion_reward = {
			add_political_power = 120
			ITALIA_economy_level_up	= yes
		}
	}	
	
	focus = {
		id = italia_autarchia
		icon = GFX_focus_ITA_autarchia
		prerequisite = { focus = italia_iri  }
		
		available = { has_government = fascism }
		
		x = -4
		y = 1
		relative_position_id = italia_iri
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			ITALIA_economy_level_up	= yes
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			add_ideas = ITA_autarchia_idea
		}
	}
	
	focus = {
		id = italia_austerity_focus
		icon = GFX_focus_ITA_italian_austerity
		prerequisite = { focus = italia_autarchia }
		available = {
			has_government = fascism
			has_war = yes
			any_enemy_country = { is_major = yes }
		}
		
		x = 0
		y = 1
		relative_position_id = italia_autarchia
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_ideas = italia_austerity_idea
			#to be replaced by a propaganda campaign
		}
	}
	
	###SUBSECTION NORMAL INDUSTRY
	
	focus = {
		id = ITA_italian_highways
		icon = GFX_goal_generic_construct_infrastructure
		text = ITA_italian_highways
		prerequisite = { focus = italia_iri  }
		
		x = 0
		y = 1
		relative_position_id = italia_iri
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			117 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			156 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			157 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			158 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			159 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			160 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			161 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			162 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}									
			
		}
	}
	
	focus = {
		id = ITA_industrial_effort
		icon = GFX_focus_ITA_southern_industry
		text = industrial_effort
		prerequisite = { focus = ITA_italian_highways }
		bypass = {
			OR = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
							}
						}
					}
				}
			}
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_italian_highways
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			ITALIA_economy_level_up	= yes		
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_on_continent = europe
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						NOT = { state = PREV }
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}				
			}
		}
	}
	
	focus = {
		id = ITA_modernize_italian_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_italian_highways }
		
		x = 1
		y = 1
		relative_position_id = ITA_italian_highways
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			build_railway = {#Rome - Taranto
				path = { 9904 11846 923 9826 819 955 851 3968 9856 11837 }
			}			
			build_railway = {#Rome - Ancona
				path = { 9904 9794 6926 925 }
			}	
			build_railway = {#Rome - Livorno
				path = { 9904 11751 6862 6875 11833 }
			}
			build_railway = {#Bologna - Firenze
				path = { 9907 1616 6985 6606 }
			}	
			build_railway = {#Istria toward Yugo upgrade
				path = { 6626 599 }
			}	
			build_railway = {#Istria toward Yugo upgrade
				path = { 6626 11735 }
			}			
		}
	}
	
	focus = {
		id = italia_invest_southern_italy
		icon = GFX_focus_ITA_Mezzogiorno
		prerequisite = { focus = ITA_modernize_italian_railways }
		prerequisite = { focus = ITA_industrial_effort  }
		
		x = -1
		y = 2
		relative_position_id = ITA_modernize_italian_railways
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			ITALIA_economy_level_up	= yes
			custom_effect_tooltip = southern_projects_tt
			157 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
			}
			117 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
			}
			156 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
			}
			115 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
			}
		}
	}
	
	focus = {
		id = italia_bella_italia
		icon = GFX_focus_ITA_bella_italia
		prerequisite = { focus = italia_invest_southern_italy }
		available = {
			custom_trigger_tooltip = {
			tooltip = southern_industry_fixed_tt
			all_owned_state = {
				NOT = { has_dynamic_modifier = { modifier = ITA_weak_southern_industry } }
				}
			}
		}
		
		x = 0
		y = 2
		relative_position_id = italia_invest_southern_italy
		cost = 10
		
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
			
		completion_reward = {
			ITA_remove_inefficient_economy = yes
			add_ideas = italia_bella_italia
			if = { 
				limit = {
					amount_research_slots < 5 
				}
				add_research_slot = 1
			}
		}		
	}
	
###QUALITY SUBSECTION###

	focus = {
		id = italia_office_of_war_economy
		icon = GFX_goal_generic_production2
		prerequisite = { focus = italia_iri}
		available = { 
			any_enemy_country = { is_major = yes }
		}
		
		x = -2
		y = 1
		relative_position_id = italia_iri
		cost = 10
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_war_support = 0.05
			if = {
				limit = {
					NOT = { has_idea = war_economy }
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = war_economy
			}
		}
	}	
	
	focus = {
		id = italia_seize_control_production
		icon = GFX_goal_generic_production
		prerequisite = { focus = italia_office_of_war_economy}
		prerequisite = { focus = ITA_industrial_effort}
		
		x = 0
		y = 2
		relative_position_id = italia_office_of_war_economy
		cost = 5
		
		select_effect = {
			add_ideas = LVN_enacting_industrial_reforms
		}
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			set_country_flag = ITA_board_for_quality_control_investigating_flag
			custom_effect_tooltip = ITA_high_command_reorganisation_tt
			effect_tooltip = {
				add_ideas = LVN_enacting_industrial_reforms
			}
			custom_effect_tooltip = ITA_completion_high_command_reorganisation_tt
			add_political_power = 50
			hidden_effect = {
				remove_ideas = LVN_enacting_industrial_reforms
			}
		}
	}
	
	focus = {
		id = italia_industrial_quality_control
		icon = GFX_focus_SOV_organize_wreckers
		prerequisite = { focus = italia_seize_control_production}
		available = {
			has_country_flag = {
				flag = ITA_board_for_quality_control_investigating_flag
				days > 140
			}
			custom_trigger_tooltip = {
				tooltip = ITA_board_for_quality_control_investigating_days_tt
				has_country_flag = {
					flag = ITA_board_for_quality_control_investigating_flag
					days > 140
				}
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_seize_control_production
		cost = 5
		
		select_effect = {
			add_ideas = LVN_enacting_industrial_reforms
		}
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = ITA_high_command_reorganisation_tt
			effect_tooltip = {
				add_ideas = LVN_enacting_industrial_reforms
			}
			custom_effect_tooltip = ITA_completion_high_command_reorganisation_tt
			add_political_power = 25
			army_experience = 5
			air_experience = 5
			navy_experience = 5 
			hidden_effect = {
				remove_ideas = LVN_enacting_industrial_reforms
			}
		}
	}
		
	focus = {
		id = italia_tank_duopoly_focus
		icon = GFX_focus_ITA_fiat
		prerequisite = { focus = italia_industrial_quality_control}
		
		x = 0
		y = 1
		relative_position_id = italia_industrial_quality_control
		cost = 10
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			custom_effect_tooltip = ITA_remove_the_duopoly
			hidden_effect = {
				set_country_flag = ITA_dismantled_tank_duopoly_flag
				if = {
					limit = {
						has_idea = ITA_fiat_duopoly
					}
					remove_ideas = ITA_fiat_duopoly
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ITA_oto_tank
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SPA_tank 
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ITA_ansaldo_tank
		}
	}
	
	###SUBSECTION RESOURCES
	
	focus = {
		id = ITA_land_reclamation
		icon = GFX_goal_generic_construction
		prerequisite = { focus = italia_iri }
		available = {
		}
		
		x = 2
		y = 1
		relative_position_id = italia_iri
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			#unlock clear the swamp propaganda campaign
			2 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		
	}
	
	
	focus = {
		id = ITA_fund_agip
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = ITA_land_reclamation }			

		x = 0
		y = 2
		relative_position_id = ITA_land_reclamation
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		
		completion_reward = { 
			unlock_decision_category_tooltip = LVN_agip_category
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ITA_agip
			add_tech_bonus = {
				name = ITA_research_oil
				bonus = 1.0
				uses = 1
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			160 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			736 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_synthetic_fuels
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_fund_agip }
		
		x = 0
		y = 2
		relative_position_id = ITA_fund_agip
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			unlock_decision_tooltip = ITA_decision_fund_anic_refineries
			add_tech_bonus = {
				name = ITA_anic_bonus
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
			156 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}	
			162 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	###SUBSECTION COLONIES
	
	focus = {
		id = italia_colonial_investment
		icon = GFX_focus_ITA_colonial_investments
		prerequisite = {  focus = italia_iri }
		available = {
			OR = {
				any_owned_state = {
					not = { is_core_of = ROOT }
					not = { is_on_continent = europe }
					is_controlled_by = ROOT
				}
				any_other_country = {
					is_subject_of = ITA
					capital_scope = {
							NOT = { is_on_continent = europe }
						}
				}
			}
		}
		
		x = 5
		y = 1
		
		relative_position_id = italia_iri
		cost = 5

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			every_owned_state = {
				limit = {
					not = { is_core_of = ROOT }
					not = { is_on_continent = europe }
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_compliance = 10
			}
			every_state = {
				limit = {
					controller = { is_subject_of = ROOT }
					NOT = { is_on_continent = europe }
				}
				add_extra_state_shared_building_slots = 1
				add_compliance = 10
			}
		}
	}
	
	focus = {
		id = ITA_libyan_infrastructure
		icon = GFX_goal_generic_construct_civilian
		text = ITA_libyan_infrastructure
		prerequisite = { focus = italia_colonial_investment }
		
		available = {
			OR = {
				450 = { is_controlled_by_ROOT_or_subject = yes }
				662 = { is_controlled_by_ROOT_or_subject = yes }
				449 = { is_controlled_by_ROOT_or_subject = yes }
				451 = { is_controlled_by_ROOT_or_subject = yes }
				448 = { is_controlled_by_ROOT_or_subject = yes }	
			}
		}
		x = -1
		y = 1
		relative_position_id = italia_colonial_investment
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			450  = {
				if = {
					limit = { 
						is_controlled_by_ROOT_or_subject = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			662 = {
				if = {
					limit = { 
						is_controlled_by_ROOT_or_subject = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			449 = {
				if = {
					limit = { 
						is_controlled_by_ROOT_or_subject = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			451 = {
				if = {
					limit = { 
						is_controlled_by_ROOT_or_subject = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			448 = {
				if = {
					limit = { 
						is_controlled_by_ROOT_or_subject = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			
		}
	}

	focus = {
		id = ITA_prospect_for_oil
		icon = GFX_goal_generic_production
		text = ITA_prospect_for_oil
		prerequisite = { focus = ITA_fund_agip  }
		prerequisite = { focus = ITA_libyan_infrastructure }
		
		available = {
			662 = { is_controlled_by_ROOT_or_subject = yes }
		}
		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_libyan_infrastructure
		cost = 10
		
		ai_will_do = {
			factor = 5
		}	

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_resource = {
				type = oil
				amount = 12
				state = 662
			}
			662 = {
				set_state_flag = sirte_oil_developed
			}
			custom_effect_tooltip = LVN_LBA_develop_oil_fields_tt
		}
	}
	
	focus = {
		id = ITA_modernize_libyan_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = italia_colonial_investment }
		bypass = {
			has_global_flag = LBA_libyan_railways_develop_1_flag
		}		
		available = {
			OR = {
				450 = { is_controlled_by_ROOT_or_subject = yes }
				662 = { is_controlled_by_ROOT_or_subject = yes }
				449 = { is_controlled_by_ROOT_or_subject = yes }
				451 = { is_controlled_by_ROOT_or_subject = yes }
				448 = { is_controlled_by_ROOT_or_subject = yes }	
			}
		}
		x = 1
		y = 1
		relative_position_id = italia_colonial_investment
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			build_railway = {#Tripoli - Tunisia
				level = 2
				path = { 1149 1189 12039 }
			}
			build_railway = {#Tripoli - Tripolitania
				path = { 1149 4051 }
			}
			build_railway = {#Tripoli
				path = { 1149 4194 }
			}
			build_railway = {#Benghazi
				path = { 11954 4120 }
			}
			build_railway = {#Benghazi - Derna
				path = { 11954 10123 12094 }
			}
		}
	}
	
	focus = {
		id = ITA_expand_libyan_railways
		icon = GFX_focus_ITA_via_balbia
		prerequisite = { focus = ITA_modernize_libyan_railways }
		
		available = {
			OR = {
				450 = { is_controlled_by_ROOT_or_subject = yes }
				662 = { is_controlled_by_ROOT_or_subject = yes }
				449 = { is_controlled_by_ROOT_or_subject = yes }
				451 = { is_controlled_by_ROOT_or_subject = yes }
				448 = { is_controlled_by_ROOT_or_subject = yes }	
			}
		}
		x = 0
		y = 2
		relative_position_id = ITA_modernize_libyan_railways
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			build_railway = {#Tripoli - Tobruk
				level = 2
				start_state = 448
				target_state = 451
			}
			if = {
				limit = {
					has_full_control_of_state = 452
				}
				build_railway = {#Tobruk-Matrouh extension
					path = { 1130 4136 10120 7079 9989 11967 10061 11910 }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				build_railway = {#Alexandria extension
					path = { 4076 4145 1071 }
				}
			}
		}
	}
	
	focus = {
		id = italia_italian_libya
		icon = GFX_focus_ITA_italian_libya
		prerequisite = { focus = ITA_expand_libyan_railways }
		prerequisite = { focus = ITA_prospect_for_oil }	
		available = {
			OR = {
				AND = {
					LBA = { 
						is_subject_of = ROOT
						has_opinion = {
							target = ROOT
							value > 90
						}						
					}
					custom_trigger_tooltip = {
						tooltip = owns_all_core_states_LBA
						all_of_scopes = {
						array = LBA.core_states
						is_owned_by = LBA
						}
					}					
				}
				AND = {
					custom_trigger_tooltip = {
						tooltip = owns_all_core_states_2
						all_of_scopes = {
							array = LBA.core_states
							is_owned_by = ROOT
						}
					}
					core_compliance = {
						occupied_country_tag = LBA
						value > 50
					}
				}
			}
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_prospect_for_oil
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			if = {
				limit = {
					LBA = { is_subject_of = ROOT }
				}
				annex_country = {
					target = LBA
					transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = LBA
					}
					add_core_of = ITA
				}
			}
			else_if = {
				every_state = {
					limit = {
						is_core_of = LBA
						is_controlled_by = ITA
					}
					add_core_of = ITA
				}
			}
		}
	}	
	
############################################
#########NATIONAL DEFENCE SECTION###########
############################################
	
	focus = {
		id = ITA_border_guard
		icon = GFX_goal_generic_defence
		prerequisite = {  }
		available = { 
		}
		
		x = 10
		y = 0
		relative_position_id = italia_iri
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_MANPOWER}	
		
		completion_reward = {
			if = {
				limit = {
					has_idea = ITALIA_duce_command
				}
				swap_ideas = {
					remove_idea = ITALIA_duce_command
					add_idea = ITALIA_duce_command_2
				}
			}
			else_if = {				
				limit = {
					has_dynamic_modifier = {modifier = ITA_comando_supremo_modifier}
				}
				hidden_effect = {set_variable = { ITA_conscription_factor = 0.01 }}
				custom_effect_tooltip = ITA_comando_supremo_manpower_tt
			}
		}
	}
	
	focus = {
		id = italia_alpine_forts_france #Vallo Alpino Occidentale
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ITA_border_guard  }
		available = { 
			has_tech = construction1 
			has_full_control_of_state = 158
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_border_guard
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}	
		
		completion_reward = {			
			158 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
			}
			every_country = {
				limit = {
					AND = {
						has_full_control_of_state = 735
						NOT = { is_in_faction_with = ITA }
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_alpine_forts
				}
			}
		}
	}
	
	focus = {
		id = italia_alpine_forts_swiss_austria #Vallo Alpino Settentrionale
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ITA_border_guard }
		available = { 
			has_tech = construction1 
			has_full_control_of_state = 159
			has_full_control_of_state = 160
			has_full_control_of_state = 39
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_border_guard
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}	
		
		completion_reward = {			
			custom_effect_tooltip = ITA_vallo_alpino_settentrionale_tt
			159 = {
				if = {
					limit = { is_controlled_by = ROOT }
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 607
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9584
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 6661
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11587
							instant_build = yes
						}
					}
				}
			}
			39 = {
				if = {
					limit = { is_controlled_by = ROOT }
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 6675
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9630
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 11615
							instant_build = yes
						}
					}
				}
			}
			160 = {
				if = {
					limit = { is_controlled_by = ROOT }
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 3657
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9613
							instant_build = yes
						}
					}
				}
			}
			every_country = {
				limit = {
					AND = {
						OR = {
							has_full_control_of_state = 151
							has_full_control_of_state = 153
						}
						NOT = { is_in_faction_with = ITA }
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_alpine_forts
				}
			}
		}
	}
		
	focus = {
		id = italia_alpine_forts_yugoslavia #vallo alpino orientale
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ITA_border_guard }
		available = { 
			has_tech = construction1 
			has_full_control_of_state = 736
		}
		
		x = 3
		y = 1
		relative_position_id = ITA_border_guard
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}	
		
		completion_reward = {			
			736 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
			}
			every_country = {
				limit = {
					AND = {
						OR = {
							has_full_control_of_state = 103
							has_full_control_of_state = 102
						}
						NOT = { is_in_faction_with = ITA }
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = FRA_alpine_forts
				}
			}
		}
	}
	
	focus = {
		id = italia_anti_air
		icon = GFX_focus_ITA_anti_air
		prerequisite = { focus = italia_alpine_forts_france focus = italia_alpine_forts_swiss_austria focus = italia_alpine_forts_yugoslavia}
		available = {has_tech = construction3}
		
		x = 1
		y = 1
		relative_position_id = italia_alpine_forts_france
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			ITA = {
				every_owned_state = {
				limit = {
					NOT = { state = 115 }
					NOT = { state = 114 }
					is_core_of = ITA
					is_in_home_area  = yes
					is_controlled_by = ITA
					is_on_continent = europe }
				set_building_level = {
				type = anti_air_building
				level = 2
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_coastal_defense
		icon = GFX_focus_ITA_coastal_defense
		prerequisite = { focus = italia_alpine_forts_france focus = italia_alpine_forts_swiss_austria focus = italia_alpine_forts_yugoslavia}
		available = {has_tech = construction3}
		
		x = 2
		y = 0
		relative_position_id = italia_anti_air
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			ITA = {
				every_owned_state = {
					limit = {
						NOT = { state = 115 }
						NOT = { state = 114 }
						is_core_of = ITA
						is_controlled_by = ITA
						is_coastal = yes
						is_in_home_area = yes
						is_on_continent = europe
					}
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_coastal = yes
						}
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_modernize_libyan_defence
		icon = GFX_focus_ITA_coastal_defense
		prerequisite = { focus = ITA_border_guard }
		prerequisite = { focus = ITA_modernize_libyan_railways }
		available = {has_tech = construction3}	
		
		x = -2
		y = 3
		relative_position_id = ITA_border_guard
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			451 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 1130
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 11954
					instant_build = yes
				}
			}		
			663 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
			}
			448 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
			}
			661 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = yes
						level < 2
					}
				}
			}
			451 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 10120
					instant_build = yes
				}
			}
			448 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12039
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 1149
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 11954
					instant_build = yes
				}
			}
			450 = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 11954
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 11954
					instant_build = yes
				}
			}
		}
	}
	
############################################
#########COMANDO SUPREMO SECTION############
############################################
	
	focus = {
		id = ITA_stato_maggiore_generale
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = {}
		
		x = 11
		y = 0
		relative_position_id = ITA_border_guard
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_ARMY_XP }

		completion_reward = {				
			army_experience = 10
			add_political_power = 120
		}
	}
	
	focus = {
		id = LVN_recall_balbo
		icon = GFX_focus_ITA_recall_balbo
		prerequisite = { focus = ITA_stato_maggiore_generale }
		available = {
			NOT = { has_global_flag = italia_balbo_dead }
			NOT = { has_country_leader = { name = "Italo Balbo" ruling_only = yes } }
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		
		x = -2
		y = 1
		relative_position_id = ITA_stato_maggiore_generale
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = italo_balbo
			if = {
				limit = {
					LBA = {	has_country_leader = { name = "Italo Balbo" ruling_only = yes }	}
				}
				LBA = {
					retire_country_leader = yes
					promote_character = LBA_rodolfo_graziani
				}
			}
		}
	}
	
	focus = {
		id = italia_supremo_focus
		icon = GFX_focus_ITA_new_command
		prerequisite = {focus = ITA_stato_maggiore_generale}
		available = {
			any_enemy_country = { is_major = yes }
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_stato_maggiore_generale
		cost = 10
		
		select_effect = {
			add_ideas = ITA_high_command_reorganization
		}
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = ITA_high_command_reorganisation_tt
			effect_tooltip = {
				add_ideas = ITA_high_command_reorganization
			}
			custom_effect_tooltip = ITA_completion_high_command_reorganisation_tt
			add_command_power = 50
			hidden_effect = {
				if = {
					limit = { has_idea = ITALIA_duce_command }
					remove_ideas = ITALIA_duce_command
					add_dynamic_modifier = { modifier = ITA_comando_supremo_modifier }
				}
				else_if = {
					limit = { has_idea = ITALIA_duce_command_2 }
					remove_ideas = ITALIA_duce_command_2
					add_dynamic_modifier = { modifier = ITA_comando_supremo_modifier_2 }
				}
				remove_ideas = ITA_high_command_reorganization
			}
			custom_effect_tooltip = ITA_formed_comando_supremo_tt
		}
	}
	
	focus = {
		id = italia_lessons_of_war_focus
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = italia_supremo_focus}
		available = {
			any_enemy_country = { is_major = yes }	
		}
		
		x = 0
		y = 1
		relative_position_id = italia_supremo_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			army_experience = 25
			if = {
				limit = { has_idea = ITALIA_unprepared_army }
				hidden_effect = {
					remove_ideas = ITALIA_unprepared_army
					add_timed_idea = {
						idea = ITALIA_unprepared_army_2
						days = 720	
					}
				}
				custom_effect_tooltip = ITA_recover_from_unprepare_tt
			}
			hidden_effect = {
				set_variable = {ITA_experience_gain_army_factor = 0.05}
			}
			custom_effect_tooltip = ITA_comando_supremo_army_lesson_tt
		}
	}
	
	focus = {
		id = ITA_italy_radar
		icon = GFX_goal_generic_radar
		prerequisite = { focus = italia_lessons_of_war_focus }
		available = {has_tech = radio_detection}
		
		x = 2
		y = 1
		relative_position_id = italia_lessons_of_war_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
				add_tech_bonus = {
					name = radar_focus
					bonus = 1.0
					uses = 2
					category = radar_tech
				}
				114 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
				}
				115 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
				}
				451 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
				}
				164 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
				}
				2 = {
						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
				}
		}
	}
	
	focus = {
		id = italia_desert_forces_focus	
		icon = GFX_focus_ITA_desert_force
		prerequisite = { focus = italia_lessons_of_war_focus }
		available = { 
			has_country_flag = desert_victory 
		}
		
		x = -2
		y = 1
		relative_position_id = italia_lessons_of_war_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = ITA_comando_supremo_lesson_desert_tt
			hidden_effect = {
				set_variable = {ITA_acclimatization_hot_climate_gain_factor = 0.10}
				set_variable = {ITA_heat_attrition_factor = -0.10}
			}
			custom_effect_tooltip = ITA_desert_training_effect
			hidden_effect = { set_technology = { italia_desert_warfare = 1 } }
			every_army_leader = {
				limit = { has_unit_leader_flag = ita_desert_general_winner }
				add_logistics = 1
			}				
		}
	}
	
	focus = {
		id = italia_lessons_from_armir	
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = italia_lessons_of_war_focus }
		available = { 
			#has_country_flag = winter_victory (to be done by justin)
		}
		
		x = 0
		y = 1
		relative_position_id = italia_lessons_of_war_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = ITA_comando_supremo_lesson_winter_tt
			hidden_effect = {
				set_variable = {ITA_acclimatization_cold_climate_gain_factor = 0.10}
				set_variable = {ITA_winter_attrition_factor = -0.10}
			}
		}
	}
	
	focus = {
		id = ITA_improvised_design
		icon = GFX_goal_generic_production2
		prerequisite = { focus = italia_desert_forces_focus focus = italia_lessons_from_armir focus = ITA_italy_radar }
		available = {
		}
		
		x = 0
		y = 1
		relative_position_id = italia_lessons_from_armir
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { }

		completion_reward = {				
			add_ideas = ITA_improvised_design_idea
			if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						has_tech = basic_medium_tank_chassis
					}
				}
				create_equipment_variant = {
					name = "M15 Contraereo"
					type = medium_tank_aa_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_anti_air_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 3
					}
					icon = "gfx/interface/technologies/ITA_imp_main_tank.dds"
				}
			}
			else_if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						NOT = { has_tech = basic_medium_tank_chassis }
					}
				}
				create_equipment_variant = {
					name = "L6 Contraereo"
					type = light_tank_aa_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_anti_air_cannon
						turret_type_slot = tank_light_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 1
					}
					icon = "gfx/interface/technologies/ITA_imp_main_tank.dds"
				}
			}
			if = {
				limit = {
					NOT = {has_dlc = "No Step Back"}
				}
				army_experience = 15
			}	
		}
	}
	
	focus = {
		id = italia_establish_supremo_departments
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = italia_supremo_focus}
		
		x = 4
		y = 1
		relative_position_id = italia_supremo_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			hidden_effect = {
				set_variable = {ITA_max_command_power = 50}
				set_variable = {ITA_command_power_gain_mult = 0.15}
			}
			custom_effect_tooltip = ITA_comando_supremo_command_lesson_tt
			hidden_effect = {
				add_to_variable = { ITA_military_leader_cost_factor = -0.50 }
				add_to_variable = { ITA_navy_leader_cost_factor = -0.50 }
			}
			custom_effect_tooltip = ITA_reduced_interservice_rivalry_leader_cost_tt
		}
	}
	
	focus = {
		id = italia_further_inter_branch_cooperation
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = italia_establish_supremo_departments}
		prerequisite = { focus = italia_lessons_of_war_focus}
		
		x = 0
		y = 1
		relative_position_id = italia_establish_supremo_departments
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			hidden_effect = {
				set_variable = { ITA_land_doctrine_cost_factor = -0.10 }
				set_variable = { ITA_naval_doctrine_cost_factor = -0.10 }
				set_variable = { ITA_air_doctrine_cost_factor = -0.10 }
			}
			custom_effect_tooltip = ITA_reduced_interservice_rivalry_doctrine_tt
		}
	}
	
	focus = {
		id = italia_interservice_cooperation
		icon = GFX_focus_POL_beck_ribbentrop
		prerequisite = { focus = italia_further_inter_branch_cooperation}
		
		x = 0
		y = 1
		relative_position_id = italia_further_inter_branch_cooperation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
	
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			hidden_effect = {
				remove_dynamic_modifier = { modifier = ITA_interservice_rivalry_modifier }
			}
			custom_effect_tooltip = ITA_remove_interservice_rivalry_tt
		}
	}
	
	focus = {
		id = italia_disband_mvsn
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = italia_supremo_focus }
		mutually_exclusive = { focus = italia_integrate_msvn_focus }
		available = { 
			#NOT = { has_completed_focus = italia_integrate_msvn_focus }
		}
		
		x = -6
		y = 1
		relative_position_id = italia_supremo_focus
		cost = 5
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 2
				NOT = { has_government = fascism }
			}	
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

		completion_reward = {	
			add_stability = 0.05
			delete_unit_template_and_units = {
				division_template = "Camicie Nere"
				disband = yes #will NOT refund equipment and manpower
			}
		}
	}
	
	focus = {
		id = italia_army_professionalisation
		icon = GFX_focus_ITA_conscription
		prerequisite = { focus = italia_disband_mvsn }
		available = { 
		}
		
		x = 0
		y = 1
		relative_position_id = italia_disband_mvsn
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			add_war_support = 0.05
			add_timed_idea = {
				idea = ITA_army_professionalisation_idea
				days = 1080
			}
		}
	}
	
	focus = {
		id = italia_integrate_msvn_focus
		icon = GFX_focus_ITA_mvsn
		prerequisite = { focus = italia_supremo_focus }
		mutually_exclusive = { focus = italia_disband_mvsn }
		
		available = {
			has_government = fascism
			#has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
		}
		
		x = 2
		y = 0
		relative_position_id = italia_disband_mvsn
		cost = 5
		
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {	
			add_political_power = 50
			add_war_support = 0.10
			ITALIA_mvsn_level_up = yes
		}
	}
	
	focus = {
		id = italia_gruppo_di_assalto
		icon = GFX_focus_ITA_commando
		prerequisite = { focus = italia_integrate_msvn_focus }
		available = { 
		}
		
		x = 0
		y = 1
		relative_position_id = italia_integrate_msvn_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			ITALIA_mvsn_level_up = yes
			army_experience = 15
		}
	}
	
	focus = {
		id = italia_LVN_m_division
		icon = GFX_focus_ITA_m_divisions
		prerequisite = { focus = italia_gruppo_di_assalto }
		available = { 
		}
		
		x = 0
		y = 1
		relative_position_id = italia_gruppo_di_assalto
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_MANPOWER }

		completion_reward = {
			ITALIA_mvsn_level_up = yes
			show_unit_leaders_tooltip = ITA_Enzo_Galbiati
			hidden_effect = {
				set_global_flag = galbiati_recruited
			}
			if = {
				limit = {
					is_in_faction_with = GER
				}
				hidden_effect = {
					load_oob = mdivision_oob
				}
			}
		}
	}
	
	###SIM subsection###
	
	focus = {
		id = ITA_sim_focus
		icon = GFX_focus_ITA_section_five
		prerequisite = {focus = ITA_stato_maggiore_generale}
		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_intelligence_agency = yes
			}
		}
		
		x = 8
		y = 1
		relative_position_id = ITA_stato_maggiore_generale
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = ITA_sim_1_with_dlc
			}
			
			if = {
				limit = {
					NOT = {has_dlc = "La Resistance"}
				}
				add_ideas = ITA_sim_1_no_dlc
			}
		}
	}
	
	focus = {
		id = ITA_ovra_focus
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = {focus = ITA_sim_focus}
		mutually_exclusive = {focus = ITA_form_sifar}
		available = {
			has_government = fascism
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_sim_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = LVN_secret_service_improvement_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_idea = ITA_sim_1_with_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_1_with_dlc
					add_idea = ITA_sim_2_with_dlc
				}
			}
			if = {
				limit = {
					NOT = {has_dlc = "La Resistance"}
					has_idea = ITA_sim_1_no_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_1_no_dlc
					add_idea = ITA_sim_2_no_dlc
				}
			}
		}
	}
	
	focus = {
		id = ITA_assassinate_roselli_brothers
		icon = GFX_focus_ITA_rosselli_brothers
		prerequisite = {focus = ITA_ovra_focus}
		available = {
			FRA = { 
				exists = yes 
				is_subject = no
			}
			has_global_flag = rosselli_radio
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_ovra_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { }

		completion_reward = {	
			if = {
				limit = { 
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = ITA_unlock_rosselli_bro_assassination_tt
			}
			else_if = {
				country_event = { id = italia_ita.29 days = 10 }
			}
		}
	}
	
	focus = {
		id = ITA_subvert_british_influence
		icon = GFX_focus_prc_infiltration
		prerequisite = {focus = ITA_assassinate_roselli_brothers}
		available = {
			NOT = { is_in_faction_with = ENG }
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_assassinate_roselli_brothers
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { }

		completion_reward = {				
			unlock_decision_tooltip = weapons_for_arab_revolt
			unlock_decision_tooltip = encourage_al_husseini
			every_state = {
				limit = {
					NOT = { is_core_of = controller }
					NOT = { is_controlled_by = ROOT }
					OR = {
						region = 28
						region = 116
						region = 127
						region = 126
						region = 128
						region = 196
					}
				}
				if = {
					limit = {
						has_active_resistance = no
					}
					start_resistance = yes
					set_resistance = 20 
				}
				else_if = {
					add_resistance = 30
				}
			}
		}
	}
	
	focus = {
		id = ITA_form_sifar
		icon = GFX_focus_ITA_sifar
		prerequisite = {focus = ITA_sim_focus}
		mutually_exclusive = {focus = ITA_ovra_focus}
		available = {
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_sim_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = LVN_secret_service_improvement_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_idea = ITA_sim_1_with_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_1_with_dlc
					add_idea = ITA_sim_2_with_dlc
				}
			}
			if = {
				limit = {
					NOT = {has_dlc = "La Resistance"}
					has_idea = ITA_sim_1_no_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_1_no_dlc
					add_idea = ITA_sim_2_no_dlc
				}
			}
		}
	}
	
	focus = {
		id = ITA_cooperation_foreign_intelligence_service
		icon = GFX_goal_generic_major_alliance
		prerequisite = {focus = ITA_form_sifar focus = ITA_ovra_focus}
		available = {
			is_in_faction = yes
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_form_sifar
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {				
			custom_effect_tooltip = LVN_secret_service_improvement_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_idea = ITA_sim_2_with_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_2_with_dlc
					add_idea = ITA_sim_3_with_dlc
				}
			}
			if = {
				limit = {
					NOT = {has_dlc = "La Resistance"}
					has_idea = ITA_sim_2_no_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_2_no_dlc
					add_idea = ITA_sim_3_no_dlc
				}
			}
		}
	}
	
	focus = {
		id = ITA_integrate_counterintelligence_branches
		icon = GFX_focus_SOV_merge_plants
		prerequisite = {focus = ITA_cooperation_foreign_intelligence_service }
		prerequisite = {focus = italia_interservice_cooperation}
		available = {
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_cooperation_foreign_intelligence_service
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {				
			custom_effect_tooltip = LVN_secret_service_improvement_tt
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_idea = ITA_sim_3_with_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_3_with_dlc
					add_idea = ITA_sim_4_with_dlc
				}
			}
			if = {
				limit = {
					NOT = {has_dlc = "La Resistance"}
					has_idea = ITA_sim_3_no_dlc
				}
				swap_ideas = {
					remove_idea = ITA_sim_3_no_dlc
					add_idea = ITA_sim_4_no_dlc
				}
			}
		}
	}
##############################################
#############MILITARY BRANCHES################
##############################################

	focus = {
		id = ITA_army_primacy
		icon = GFX_focus_ITA_army_primacy
		
		x = 13
		y = 0
		relative_position_id = ITA_stato_maggiore_generale
		cost = 5
		

		offset = {
		}
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_timed_idea = {
				idea = italia_army_focus_idea
				days = 730
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
				}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							arms_factory > 0
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}				
			}
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = ITA_interservice_increase_modifier_tt
			custom_effect_tooltip = ITA_only_one_primacy_tt
			hidden_effect = {
				unlock_national_focus = italia_modern_navy
				unlock_national_focus = italia_modern_airforce
				add_to_variable ={ITA_experience_gain_army_rivalry_factor = 0.15}
				add_to_variable ={ITA_air_cas_present_factor = -0.10}
				add_to_variable ={ITA_air_nav_efficiency_factor = -0.05}
				add_to_variable ={ITA_naval_coordination_factor = -0.10}
			}
		}
	}
	
	focus = {
		id = italia_reform_pariani
		icon = GFX_focus_ITA_pariani_reform
		prerequisite = { focus = ITA_army_primacy }
		mutually_exclusive = {focus = italia_conservative_ideas }
		
		x = -2
		y = 1
		relative_position_id = ITA_army_primacy
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {				
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			army_experience = 10
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = alberto_pariani
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = alberto_pariani_theorist
			custom_effect_tooltip = pariani_reform_tt
			hidden_effect = {
				set_technology = { 
					italia_binary_division = 1
					popup = no
				}
			}	
			add_doctrine_cost_reduction = {
				name = ITA_mobile_warfare_bonus
			    	cost_reduction = 0.5
			    	uses = 1
				category = cat_mobile_warfare
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_army_training_time_factor = -0.10 }
					set_variable = {ITA_pariani_army_morale_factor = 0.08 }
				}
				custom_effect_tooltip = ITA_pariani_reform_1_tt
			}
			else_if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = { #for people that do civil war early and change gov
					remove_dynamic_modifier = { modifier = ITA_regio_esercito_modifier }
					add_dynamic_modifier = { modifier = ITA_regio_esercito_modifier_alt }
					set_variable = {ITA_army_training_time_factor = -0.10 }
					set_variable = {ITA_pariani_army_morale_factor = 0.08 }
				}
				custom_effect_tooltip = ITA_army_name_change_tt
				custom_effect_tooltip = ITA_pariani_reform_1_alt_tt
			}			
		}
	}
	
	focus = {
		id = italia_rapid_decision
		icon = GFX_focus_ITA_rapid
		prerequisite = { focus = italia_reform_pariani }
		
		x = 0
		y = 1
		relative_position_id = italia_reform_pariani
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = ITA_mobile_warfare_bonus
			    cost_reduction = 0.5
			    uses = 2
				category = cat_mobile_warfare
			}
			add_tech_bonus = {
				name = ITA_L6_project
				bonus = 0.5
				uses = 1
				category = cat_light_armor
			}
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_pariani_cas_damage_reduction_factor = 0.10}
				}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_pariani_reform_2_tt
			}
			else = {
				custom_effect_tooltip = ITA_pariani_reform_2_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_motorized_focus
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = italia_rapid_decision }
		
		x = 0
		y = 1
		relative_position_id = italia_rapid_decision
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_timed_idea = {
				idea = italia_motorized_idea #name to be changed, originaly italia_motorized_focus
				days = 730
			}
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_pariani_army_speed_factor = 0.05}
				}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_pariani_reform_3_tt
			}
			else = {
				custom_effect_tooltip = ITA_pariani_reform_3_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_conservative_ideas
		icon = GFX_focus_ITA_new_ideas
		prerequisite = { focus = ITA_army_primacy }
		mutually_exclusive = { focus = italia_reform_pariani }
		
		x = 2
		y = 1
		relative_position_id = ITA_army_primacy
		cost = 10
		
		ai_will_do = {
			factor = 2
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			army_experience = 10
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = pietro_gazzera	
			add_doctrine_cost_reduction = {
				name = ITA_land_doc_bonus
			    cost_reduction = 0.5
			    uses = 1
				category = land_doctrine
			}	
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					add_to_variable = {ITA_regio_esercito_mobilization_laws_cost_factor = -0.25 } #gives -15% on conscription cost
					set_variable = {ITA_piedmont_army_org_factor = 0.10 }
				}
				custom_effect_tooltip = ITA_piedmont_reform_1_tt
			}
			else_if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = { #for people that do civil war early and change gov
					remove_dynamic_modifier = { modifier = ITA_regio_esercito_modifier }
					add_dynamic_modifier = { modifier = ITA_regio_esercito_modifier_alt }
					add_to_variable = {ITA_regio_esercito_mobilization_laws_cost_factor = -0.25 } #gives -15% on conscription cost
					set_variable = {ITA_piedmont_army_org_factor = 0.10 }
				}
				custom_effect_tooltip = ITA_army_name_change_tt
				custom_effect_tooltip = ITA_piedmont_reform_1_alt_tt
			}			
		}
	}
	
	focus = {
		id = italia_infantry_leads
		icon = GFX_focus_ITA_infantry
		prerequisite = { focus = italia_conservative_ideas }
		
		x = 0
		y = 1
		relative_position_id = italia_conservative_ideas
		cost = 10
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			army_experience = 5
			add_doctrine_cost_reduction = {
				name = ITA_land_doc_bonus
			    cost_reduction = 0.5
			    uses = 2
				category = land_doctrine
			}	
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_piedmont_army_infantry_attack_factor = 0.10}
					set_variable = {ITA_piedmont_army_infantry_defence_factor = 0.10}
				}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_piedmont_reform_2_tt
			}
			else = {
				custom_effect_tooltip = ITA_piedmont_reform_2_alt_tt
			}
		}

	}
	
	focus = {
		id = italia_support_divisions
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = italia_infantry_leads }
		
		x = 0
		y = 1
		relative_position_id = italia_infantry_leads
		cost = 10
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			army_experience = 5
			add_timed_idea = {
				idea = italia_support_equipment_bonus_idea
				days = 730
			}
			add_tech_bonus = {
				name = ITA_support_tech_bonus
				bonus = 1.0
				uses = 2
				category = support_tech
			}
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_piedmont_max_dig_in_factor = 0.05}
				}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_piedmont_reform_3_tt
			}
			else = {
				custom_effect_tooltip = ITA_piedmont_reform_3_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_modernised_guns
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = italia_reform_pariani focus = italia_conservative_ideas }
		
		x = 2
		y = 1
		relative_position_id = italia_reform_pariani
		cost = 5
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_weapon_modernisation
			    bonus = 2.0
			    uses = 1
			    category = infantry_weapons
			}
		}
	}
	
	focus = {
		id = italia_modernised_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = italia_modernised_guns }
		
		x = 0
		y = 1
		relative_position_id = italia_modernised_guns
		cost = 5
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_weapon_modernisation
			    bonus = 2.0
			    uses = 1
				category = artillery
			}
		}
	}
	
	focus = {
		id = italia_armored_infantry
		icon = GFX_focus_ita_mechanized
		prerequisite = { focus = italia_support_divisions focus = italia_motorized_focus }
		
		x = 2
		y = 1
		relative_position_id = italia_motorized_focus
		cost = 5
		
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_motorized_bonus
				bonus = 1.0
				uses = 1 
				category = cat_mechanized_equipment
			}
		}
	}
	
		
	focus = {
		id = italia_medium_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = italia_motorized_focus }
		prerequisite = { focus = italia_armored_infantry }
		available = { 
		}
		
		x = -2
		y = 1
		relative_position_id = italia_armored_infantry
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		
		completion_reward = {	
			army_experience = 10
			if = {
				limit = {
					has_dlc = "No Step Back" 
				}
				custom_effect_tooltip = LVN_tank_research_arty_tt
				custom_effect_tooltip = ITA_disbanding_monopoly_equal_better_tank_tt
			}
			#P26 template
			if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						NOT = { has_idea = ITA_fiat_duopoly }
					}
				}
				create_equipment_variant = {
					name = "P26"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = tank_radio_1
						special_type_slot_3 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 9
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			else_if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery3
							has_tech = antitank3
						}
					}
				}
				create_equipment_variant = {
					name = "P26"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = tank_radio_1
						special_type_slot_3 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			else_if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery1
							has_tech = antitank1
						}
					}
				}
				create_equipment_variant = {
					name = "P26"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = tank_radio_1	
						special_type_slot_3 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			else_if = { #Why? You ruined your P26
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						has_tech = interwar_artillery
					}
				}
				create_equipment_variant = {
					name = "M13"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_small_cannon_2
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 4
					}
					icon = "gfx/interface/technologies/ITA_imp_main_tank.dds"
				}
			}
			else_if = { #Why? You ruined everything
				limit = {
					has_dlc = "No Step Back"
				}
				create_equipment_variant = {
					name = "M11"
					type = medium_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_small_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = secondary_turret_hmg					
					}
					upgrades = {
						tank_nsb_engine_upgrade = 5
						tank_nsb_armor_upgrade = 3
					}
					icon = "gfx/interface/technologies/ITA_imp_main_tank.dds"
				}
			}
			
			if = { #Get the DLC lmao 
				limit = {
					NOT = {has_dlc = "No Step Back"}
				}
				add_tech_bonus = {
					bonus = 2.0
					uses = 1
					name = ITA_p26_no_dlc_tank_bonus
					category = cat_medium_armor
				}	
			}
		}
	}
	
	focus = {
		id = italia_heavy_tanks #Ansaldo Projects
		icon = GFX_focus_generic_heavy_tank
		prerequisite = { focus = italia_support_divisions }
		prerequisite = { focus = italia_armored_infantry }
		available = { 
		}
		
		x = 2
		y = 1
		relative_position_id = italia_armored_infantry
		cost = 10
		
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					has_dlc = "No Step Back" 
				}
				custom_effect_tooltip = LVN_tank_research_arty_tt
				custom_effect_tooltip = ITA_disbanding_monopoly_equal_better_tank_tt
			}
			#P71 Ansaldo
			if = { #the ultimate heavy tank
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						NOT = { has_idea = ITA_fiat_duopoly }
					}
				}
				create_equipment_variant = {
					name = "P71 Ansaldo GL E4"
					type = super_heavy_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_super_heavy_cannon
						turret_type_slot = tank_super_heavy_four_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = additional_machine_guns
						special_type_slot_4 = secondary_turret_small_cannon
					}
					upgrades = {
						tank_nsb_engine_upgrade = 12
						tank_nsb_armor_upgrade = 18
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			else_if = { #almost the best
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery4
							has_tech = antitank5
							has_tech = antiair5
						}
					}
				}
				create_equipment_variant = {
					name = "P71 Ansaldo GL E3"
					type = super_heavy_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon_3
						turret_type_slot = tank_super_heavy_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = additional_machine_guns
						special_type_slot_4 = secondary_turret_small_cannon
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 14
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #still good
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery3
							has_tech = antitank2
							has_tech = antiair2
						}
					}
				}
				create_equipment_variant = {
					name = "P71 Ansaldo GL E1"
					type = heavy_tank_chassis_3
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon_2
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = additional_machine_guns
						special_type_slot_4 = secondary_turret_small_cannon
					}
					upgrades = {
						tank_nsb_engine_upgrade = 9
						tank_nsb_armor_upgrade = 12
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #dogshit
				limit = {
					has_dlc = "No Step Back" 	
				}
				create_equipment_variant = {
					name = "P75"
					type = heavy_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_heavy_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = secondary_turret_hmg
						special_type_slot_2 = tank_radio_1	
						special_type_slot_3 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 6
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			if = { #Get the DLC lmao 
				limit = {
					NOT = {has_dlc = "No Step Back"}
				}
				add_tech_bonus = {
					bonus = 2.0
					uses = 1
					name = ITA_p71_no_dlc_tank_bonus
					category = cat_heavy_armor
				}	
			}
		}
	}
	
	focus = {
		id = italia_semovente
		icon = GFX_focus_ITA_semovente
		prerequisite = { focus = italia_armored_infantry }
		available = { 
		}
		
		x = 0
		y = 1
		relative_position_id = italia_armored_infantry
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_tech_bonus = {
				name = ITA_semoventes_research
				bonus = 0.75
				uses = 2
				category = artillery
			}
			if = {
				limit = {
					has_dlc = "No Step Back" 
				}
				custom_effect_tooltip = LVN_tank_research_arty_tt
			}
			if = { #cool but unarmored
				limit = {
					has_dlc = "No Step Back" 
					has_tech = antitank2
				}
				create_equipment_variant = {
					name = "Semovente M41 90/53"
					type = medium_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon_2
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 2
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #cool
				limit = {
					has_dlc = "No Step Back" 
					has_tech = antitank1
				}
				create_equipment_variant = {
					name = "Semovente M41 75/34"
					type = medium_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 7
						tank_nsb_armor_upgrade = 5
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #You trollin?
				limit = {
					has_dlc = "No Step Back" 
					has_tech = interwar_antitank
				}
				create_equipment_variant = {
					name = "Semovente L40 47/32"
					type = light_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 5
						tank_nsb_armor_upgrade = 3
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #if nothing research = this, enjoy!
				limit = {
					has_dlc = "No Step Back" 
				}
				create_equipment_variant = {
					name = "Semovente L40 47/32"
					type = light_tank_destroyer_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_small_cannon_2
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 5
						tank_nsb_armor_upgrade = 3
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			if = { #cool and armored!
				limit = {
					has_dlc = "No Step Back" 
					has_tech = artillery4
				}
				create_equipment_variant = {
					name = "Semovente M43 105/25"
					type = medium_tank_artillery_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 8
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #cool
				limit = {
					has_dlc = "No Step Back" 
					has_tech = artillery1
				}
				create_equipment_variant = {
					name = "Semovente M41 75/18"
					type = medium_tank_artillery_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_howitzer_2
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 6
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #You trollin?
				limit = {
					has_dlc = "No Step Back" 
					has_tech = interwar_artillery
				}
				create_equipment_variant = {
					name = "Semovente M6 65/17"
					type = light_tank_artillery_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_light_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_riveted_armor
						engine_type_slot = tank_diesel_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 5
						tank_nsb_armor_upgrade = 4
					}
					icon = "gfx/interface/technologies/ITA_imp_light_tank.dds"
				}
			}
			
			if = { #Get the DLC lmao 
				limit = {
					NOT = {has_dlc = "No Step Back"}
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 2
					name = ITA_semovente_no_dlc_bonus
					category = armor
				}	
			}
		}
	}
	
	focus = {
		id = italia_ultimate_tank
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = italia_semovente focus = italia_medium_tanks focus = italia_heavy_tanks }
		available = { 
			NOT = { has_idea = ITA_fiat_duopoly }
		}
		
		x = 0
		y = 1
		relative_position_id = italia_semovente
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "No Step Back" 
				}
				custom_effect_tooltip = LVN_tank_research_arty_tt
			}
			#P43 template
			if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery3
							has_tech = antitank3
						}
					}
				}
				create_equipment_variant = {
					name = "P43"
					type = heavy_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_heavy_cannon_2
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = tank_radio_1
						special_type_slot_3 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 12
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			else_if = {
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery1
							has_tech = antitank1
						}
					}
				}
				create_equipment_variant = {
					name = "P43"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = sloped_armor
						special_type_slot_2 = tank_radio_1
						special_type_slot_3 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 10
						tank_nsb_armor_upgrade = 12
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #to show something, let's hope no one rush here...
				limit = {
					has_dlc = "No Step Back" 	
				}
				create_equipment_variant = {
					name = "P43"
					type = medium_tank_chassis_2
					parent_version = 0
					modules = {
						main_armament_slot = tank_small_cannon
						turret_type_slot = tank_medium_two_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine					
					}
					upgrades = {
						tank_nsb_engine_upgrade = 2
						tank_nsb_armor_upgrade = 2
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			
			else_if = { #secret p43 for those who waits
				limit = {
					AND = {
						has_dlc = "No Step Back" 
						OR = {
							has_tech = artillery5
							has_tech = antitank5
						}
						has_tech = main_battle_tank_chassis
					}
				}
				create_equipment_variant = {
					name = "Centauro"
					type = modern_tank_chassis_1
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon_3
						turret_type_slot = tank_modern_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_diesel_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = wet_ammo_storage
						special_type_slot_4 = auto_loader
						special_type_slot_5 = additional_machine_guns						
					}
					upgrades = {
						tank_nsb_engine_upgrade = 14
						tank_nsb_armor_upgrade = 10
					}
					icon = "gfx/interface/technologies/ITA_imp_heavy_tank.dds"
				}
			}
			if = { #Get the DLC lmao 
				limit = {
					NOT = {has_dlc = "No Step Back"}
					
				}
				add_tech_bonus = {
					bonus = 2.0
					uses = 1
					name = ITA_p43_no_dlc_tank_bonus
					category = armor
				}	
			}
		}
	}
	
	###SUBSECTION SPECIAL FORCES
	
	focus = {
		id = italia_special_forces
		icon = GFX_focus_generic_elite_marines
		prerequisite = { focus = ITA_army_primacy }
		
		x = 3
		y = 0
		relative_position_id = italia_conservative_ideas
		cost = 5
		
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				uses = 1
				ahead_reduction = 1
				category = marine_tech
				category = para_tech
				category = mountaineers_tech
			}
		}
	}

	focus = {
		id = italia_arditi_focus
		icon = GFX_focus_ITA_commando
		prerequisite = { focus = italia_special_forces }
		prerequisite = { focus = italia_conservative_ideas }
		
		x = -1
		y = 3
		relative_position_id = italia_special_forces
		cost = 10
		
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			hidden_effect = {
				set_technology = {
					arditi_tech = 1
				}
			}
			custom_effect_tooltip = italia_arditi_focus_tt
		}
	}
	
	focus = {
		id = italia_alpini_focus
		icon = GFX_focus_ITA_alpino
		prerequisite = { focus = italia_special_forces }
		
		x = 0
		y = 1
		relative_position_id = italia_special_forces
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {				
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			custom_effect_tooltip = GRE_mountain_training_effect
			hidden_effect = { set_technology = { mountain_warfare = 1 } }
			random_army_leader = {
				limit = { NOT = { has_trait = trait_mountaineer } }
				add_unit_leader_trait = trait_mountaineer 
			}	
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_army_special_forces_cap = 0.05}
				}
			}			
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_special_forces_tt
			}
			else = {
				custom_effect_tooltip = ITA_special_forces_alt_tt
			}
		}
	}

	focus = {
		id = italia_pack_artillery
		icon = GFX_focus_ITA_pack_artillery
		prerequisite = { focus = italia_alpini_focus }
		
		x = 0
		y = 1
		relative_position_id = italia_alpini_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			custom_effect_tooltip = italia_pack_artillery_effect
			hidden_effect = { set_technology = { mountain_gun = 1 } }
		}
	}
	
	focus = {
		id = italia_marine_force
		icon = GFX_focus_ITA_amphibious_warfare
		prerequisite = {  focus = italia_special_forces }
		
		x = 1
		y = 2
		relative_position_id = italia_alpini_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {	
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = special_bonus
				bonus = 0.5
				uses = 1
				category = marine_tech
			}
			if = {
				limit = {
					NOT = {has_country_flag = ITA_roman_army_reestablished_flag}
				}
				hidden_effect = {  
					set_variable = {ITA_army_naval_invasion_capacity = 6}
				}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_army_marines_tt
			}
			else = {
				custom_effect_tooltip = ITA_army_marines_alt_tt
			}	
		}
	}
	
##################################
#############AIRFORCE#############
##################################
	
	focus = {
		id = italia_modern_airforce
		icon = GFX_focus_ITA_mussolini_air
		prerequisite = {  }
		
		x = 13
		y = 0
		relative_position_id = ITA_army_primacy
		cost = 5
		
		ai_will_do = {
			factor = 2
		}
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_RESEARCH }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_timed_idea = {
				idea = italia_planes_priority_idea
				days = 730
				}	
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
			custom_effect_tooltip = ITA_interservice_increase_modifier_tt
			custom_effect_tooltip = ITA_only_one_primacy_tt
			hidden_effect = {
				unlock_national_focus = ITA_army_primacy
				unlock_national_focus = italia_modern_navy			
				add_to_variable ={ITA_experience_gain_army_rivalry_factor = -0.05}
				add_to_variable ={ITA_air_training_exp_gain_rivalry_factor = 0.15}
				add_to_variable ={ITA_air_cas_present_factor = 0.05}
				add_to_variable ={ITA_air_nav_efficiency_factor = 0.05}
				add_to_variable ={ITA_naval_coordination_factor = -0.10}
			}
		}
				
	}
	
	focus = {
		id = ITA_foreign_procurements
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = italia_modern_airforce focus = ITA_army_primacy }
		available = {
		}
		
		x = -4
		y = 1
		relative_position_id = italia_modern_airforce 
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
					custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			unlock_decision_tooltip = ITA_purchase_german_fighters
			unlock_decision_tooltip = ITA_purchase_british_fighters
			custom_effect_tooltip = ITA_purchase_plane_boost_prep_tt
			#for future reference : unlock foreign equipment decisions (SOV, GER, FRA, ENG)
		}
	}
	
	focus = {
		id = italia_status_naval_aviation
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = italia_modern_airforce }
		
		x = 0
		y = 1
		relative_position_id = italia_modern_airforce
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			country_event = {
				id = italia_ita.130
				hours = 4
				random_hours = 2
			}
			hidden_effect = { #the bonuses are handled by the event
				if = {
					limit = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
					}	
					add_dynamic_modifier = { modifier = ITA_regia_aeronautica_modifier }
				}	
				else = 	{
					add_dynamic_modifier = { modifier = ITA_regia_aeronautica_modifier_alt }
				}
			}
		}
	}
	
	focus = {
		id = ITA_citta_dell_aria
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = italia_status_naval_aviation }
		available = {
		}
		
		x = 0
		y = 2
		relative_position_id = italia_modern_airforce
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			2 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {  
				set_variable = {ITA_airforce_air_doctrine_cost_factor = -0.10}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_citta_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_citta_alt_tt
			}	
		}
	}
	
	focus = {
		id = italia_new_pilot_training
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = ITA_citta_dell_aria }
		x = 1
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_AIR_XP }
		completion_reward = { 
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			hidden_effect = {  
				add_to_variable = {ITA_airforce_experience_gain_air_factor = 0.10}
				add_to_variable = {ITA_airforce_air_ace_generation_chance_factor = 0.15}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_pilot_training_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_pilot_training_alt_tt
			}	
		}
	}

	focus = {
		id = italia_air_innovation
		icon = GFX_focus_ITA_air_innovations
		prerequisite = { focus = ITA_citta_dell_aria }
		x = -1
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		completion_reward = { 
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			air_experience = 25
			add_ideas = italia_air_innovations_idea
			add_doctrine_cost_reduction = {
			    cost_reduction = 0.25
			    uses = 2
				category = air_doctrine
			}
		}
	}
	
	focus = {
		id = italia_fighter_modernization
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = italia_air_innovation }
		mutually_exclusive = {  }
		
		x = 1
		y = 1
		relative_position_id = italia_air_innovation
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = light_fighter		
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter	
			}
		}
	}
	
	focus = {
		id = italia_fighter_focus
		icon = GFX_focus_ITA_fighter
		prerequisite = { focus = italia_fighter_modernization }
		available = { 
			has_tech = fighter2 
			date > 1942.01.01
		}
		bypass = { has_tech = fighter3 }
		
		x = -1
		y = 1
		relative_position_id = italia_fighter_modernization
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			ITALIA_fiar_air_bonus = yes
			custom_effect_tooltip = ITA_fighter3_tt
			hidden_effect = { set_technology = { fighter3 = 1 } }
		}
	}
	
	focus = {
		id = italia_interceptors_focus
		icon = GFX_focus_usa_escort_fighters
		prerequisite = { focus = italia_fighter_modernization }
		prerequisite = { focus = LVN_rocketry_focus }
		available = {
			#date > 1942.01.01 for future air rework
		}
		
		x = 1
		y = 1
		relative_position_id = italia_fighter_modernization
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = rocketry
			}
			add_tech_bonus = {
				name = ITA_interceptors_bonus
				bonus = 1.0
				uses = 1
				category = cat_heavy_fighter
			}
		}
	}
	
	
	focus = {
		id = LVN_rocketry_focus
		icon = GFX_focus_rocketry
		prerequisite = { focus = ITA_citta_dell_aria }
		
		x = 2
		y = 2
		relative_position_id = ITA_citta_dell_aria
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		available = {
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = rocketry
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = jet_technology
			}
		}
	}
	
	focus = {
		id = ITA_douhet_doctrine
		icon = GFX_focus_ITA_douhet_doctrine
		prerequisite = { focus = italia_status_naval_aviation }
		mutually_exclusive = { focus = italia_land_bombardment }
		available = {
		}
		
		x = -2
		y = 1
		relative_position_id = italia_status_naval_aviation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			air_experience = 25
			add_tech_bonus = {
				bonus = 1.0
				ahead_reduction = 1
				uses = 1
				category = cat_strategic_bomber
			}
			add_doctrine_cost_reduction = {
			    cost_reduction = 0.25
			    uses = 2
				category = strategic_destruction_tree
			}
			hidden_effect = {  
				set_variable = {ITA_airforce_air_strategic_bomber_bombing_factor = 0.10}
				set_variable = {ITA_airforce_strategic_bomb_visibility = -0.05}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_bombing_1_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_bombing_1_alt_tt
			}	
		}
	}
	
	focus = {
		id = italia_bomber_focus
		icon = GFX_focus_ITA_bomber_gets_through
		prerequisite = { focus = italia_air_innovation }
		prerequisite = { focus = ITA_douhet_doctrine }
		mutually_exclusive = { }
		
		x = -1
		y = 1
		relative_position_id = italia_air_innovation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			hidden_effect = {  
				add_to_variable = {ITA_airforce_air_strategic_bomber_bombing_factor = 0.10}
				add_to_variable = {ITA_airforce_strategic_bomb_visibility = -0.05}
				set_variable = {ITA_airforce_air_bombing_targetting = 0.05}
				set_variable = {ITA_airforce_air_range_factor = 0.10}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_bombing_2_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_bombing_2_alt_tt
			}	
		}
	}
	
	focus = {
		id = italia_land_bombardment
		icon = GFX_focus_ITA_land_bombardment
		prerequisite = { focus = italia_status_naval_aviation }
		mutually_exclusive = { focus = ITA_douhet_doctrine }
		
		x = -4
		y = 1
		relative_position_id = italia_status_naval_aviation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			air_experience = 25
			add_tech_bonus = {
				name = ITA_fighter_command_bonus
				bonus = 0.5
				uses = 1
				category = tactical_bomber
				category = cas_bomber
			}
			add_doctrine_cost_reduction = {
			    cost_reduction = 0.25
			    uses = 2
				category = battlefield_support_tree
			}
			hidden_effect = {  
				set_variable = {ITA_airforce_air_cas_efficiency = 0.10}
				set_variable = {ITA_airforce_air_cas_present_factor = 0.10}
				set_variable = {ITA_airforce_ground_attack_factor = 0.10}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_cas_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_cas_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_airborne_focus
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = italia_special_forces }
		prerequisite = { focus = italia_land_bombardment }
		available = { 
			has_idea = italo_balbo 
			448 = { is_controlled_by_ROOT_or_subject = yes } 
		}
		
		x = -1
		y = 1
		relative_position_id = italia_land_bombardment
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {				
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			custom_effect_tooltip = ITALIA_airborne_training_school
			add_tech_bonus = {
				name = para_tech_bonus
				bonus = 2.0
				ahead_reduction = 1
				uses = 1
				category = para_tech
			}
		}
	}
	
	focus = {
		id = italia_naval_bomber_focus
		icon = GFX_focus_ITA_naval_bomber
		prerequisite = { focus = italia_status_naval_aviation }
		
		x = 4
		y = 1
		relative_position_id = italia_status_naval_aviation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			air_experience = 25
			add_tech_bonus = {
				name = coastal_command_focus
				bonus = 0.5
				uses = 1
				category = naval_bomber
			}
		}
	}
	
	focus = {
		id = ITA_italy_aircraft_carrier
		icon = GFX_focus_ITA_carrier_italy
		prerequisite = { focus = italia_naval_bomber_focus }
		
		x = 1
		y = 1
		relative_position_id = italia_naval_bomber_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
				114 = {
						add_building_construction = {
							type = air_base
							level = 3
							instant_build = yes
						}
				}
				156 = {
						add_building_construction = {
							type = air_base
							level = 3
							instant_build = yes
						}
				}
				164 = {
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
				}
				162 = {
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
				}
				736 = {
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
				}
		}
	}
	
	focus = {
		id = italia_motobomba_fff #for future air rework
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = italia_naval_bomber_focus }
		
		x = -1
		y = 1
		relative_position_id = italia_naval_bomber_focus
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			hidden_effect = {  
				set_variable = {ITA_airforce_air_nav_efficiency = 0.10}
			}
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_airforce_motobomba_tt
			}
			else = {
				custom_effect_tooltip = ITA_airforce_motobomba_alt_tt
			}
		}
	}

##################################
#############NAVY#################
##################################

	focus = {
		id = italia_modern_navy
		icon = GFX_focus_ITA_mussolini_navy
		
		x = 11
		y = 0
		relative_position_id = italia_modern_airforce
		cost = 5
		
		ai_will_do = {
			factor = 3
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_timed_idea = {
				idea = naval_production_increased
				days = 730
			}
			add_offsite_building = { type = dockyard level = 2 }
			custom_effect_tooltip = ITA_interservice_increase_modifier_tt
			custom_effect_tooltip = ITA_only_one_primacy_tt
			hidden_effect = {
				unlock_national_focus = ITA_army_primacy
				unlock_national_focus = italia_modern_airforce
				set_country_flag = LVN_picked_navy
				add_to_variable ={ITA_air_cas_present_factor = -0.05}
				add_to_variable ={ITA_air_nav_efficiency_factor = -0.10}
				add_to_variable ={ITA_naval_coordination_factor = 0.20}
				add_to_variable ={ITA_experience_gain_navy_rivalry_factor = 0.05}
			}
		}
				
	}
	
	focus = {
		id = italia_small_vessels_doctrine
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = italia_modern_navy }
		
		x = 0
		y = 1
		relative_position_id = italia_modern_navy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_doctrine_cost_reduction = {
				name = ITA_naval_doctrine
			    cost_reduction = 0.5
			    uses = 1
				category = land_doctrine
			}			
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				hidden_effect = {
					add_dynamic_modifier = { modifier = ITA_regia_marina_dynamic_modifier }
				}	
				custom_effect_tooltip = ITA_navy_dynamic_modifier_1_tt
			}
			else = {
				hidden_effect = {
					add_dynamic_modifier = { modifier = ITA_regia_marina_dynamic_modifier_alt }
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_1_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_program_max
		icon = GFX_focus_generic_strength_in_numbers
		prerequisite = { focus = italia_small_vessels_doctrine }
		mutually_exclusive = { focus = italia_program_min }	
		
		x = -1
		y = 1
		relative_position_id = italia_small_vessels_doctrine
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 30
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = ITA_bb_bonus
				bonus = 0.5
				uses = 1
				category = bb_tech
				category = shbb_tech
				category = bc_tech
			}
			add_tech_bonus = {
				name = ITA_cv_bonus
				bonus = 0.5
				uses = 1
				category = cv_tech
			}
		}
				
	}
	
	focus = {
		id = italia_program_min
		icon = GFX_focus_ITA_fleet_supremacy
	 	prerequisite = { focus = italia_small_vessels_doctrine }
		mutually_exclusive = { focus = italia_program_max }
		
		x = 1
		y = 1
		relative_position_id = italia_small_vessels_doctrine
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 30
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = ITA_dd_bonus
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = ITA_naval_equipment_modernisation
				bonus = 1.0
				uses = 2
				category = ship_modules_tech
			}	
		}
	}
	
	focus = {
		id = italia_battleship
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = italia_program_max }
		mutually_exclusive = { focus = italia_carrier_focus }
		
		x = 0
		y = 1
		relative_position_id = italia_program_max
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 10 
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = two_battleships_tt
			hidden_effect = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_2
							creator = "ITA" 
							version_name = "Littorio Class"
						}
						requested_factories = 1
						progress = 0.50
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_heavy_2
							creator = "ITA" 
							version_name = "Littorio Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
			set_variable = { ITA_regia_marina_navy_capital_ship_attack_factor = 0.10 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_capital_ships_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_capital_ships_alt_tt
			}
		}		
	}
	
	focus = {
		id = italia_carrier_focus
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = italia_program_max }
		mutually_exclusive = { focus = italia_battleship }
		available = {
			NOT = {has_country_flag = ITA_marinavia_flag}
			has_completed_focus = italia_status_naval_aviation
		}
		
		x = -2
		y = 1
		relative_position_id = italia_program_max
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 10
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
					limit = {
						not = { has_tech = early_ship_hull_carrier }
					}
					hidden_effect = {
					set_technology = {
						early_ship_hull_carrier = 1
						}
					}
			}
			if = {
					limit = {
						not = { has_tech = basic_ship_hull_carrier }
					}
					hidden_effect = {
					set_technology = {
						basic_ship_hull_carrier = 1
						}
					}
			}
			custom_effect_tooltip = ITA_carrier_tt
			hidden_effect = {
				create_equipment_variant = {
						name = "Sparviero Class"
						type = ship_hull_carrier_1
						name_group = ITA_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = empty
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = dp_ship_secondaries
							front_1_custom_slot = empty
						}
					}			
				create_equipment_variant = {
						name = "Aquila Class"
						type = ship_hull_carrier_2
						name_group = ITA_CV_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = dp_ship_secondaries
							front_1_custom_slot = empty
						}
					}
					
				add_equipment_production = {
					equipment = {
							type = ship_hull_carrier_1
							creator = "ITA" 
							version_name = "Sparviero Class"
						}
						name = "Sparviero" 
						requested_factories = 1
						progress = 0.75
						amount = 1
					}
				add_equipment_production = {
					equipment = {
							type = ship_hull_carrier_2
							creator = "ITA" 
							version_name = "Aquila Class"
						}
						name = "Aquila" 
						requested_factories = 1
						progress = 0.5
						amount = 1
				}
			}
			set_variable = { ITA_regia_marina_sortie_efficiency = 0.15 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_sortie_efficiency_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_sortie_efficiency_alt_tt
			}
		}			
	}
	
	focus = {
		id = ITA_anti_air_for_fleet
		icon = GFX_goal_generic_army_artillery
	 	prerequisite = { focus = italia_battleship focus = italia_carrier_focus }
		
		x = -1
		y = 1
		relative_position_id = italia_battleship
		cost = 5

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_anti_air_cruiser_bonus
				bonus = 0.5
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = ITA_anti_air_for_fleet_bonus
				bonus = 1
				uses = 2
				category = cat_anti_air
			}
			set_variable = { ITA_regia_marina_screening_efficiency = 0.10 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_screening_efficiency_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_screening_efficiency_alt_tt
			}
		}
	}
	
	focus = {
		id = italia_carrier_planes
		icon = GFX_focus_ITA_navy_air
	 	prerequisite = { focus = italia_carrier_focus }
		
		x = -2
		y = 1
		relative_position_id = italia_carrier_focus
		cost = 5

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_carrier_plane_focus
				bonus = 0.5
				uses = 2
				category = naval_air
			}
			
		}
	}
	
	focus = {
		id = italia_ultimate_carrier
		icon = GFX_focus_ITA_carrier
	 	prerequisite = { focus = italia_carrier_planes }
		prerequisite = { focus = LVN_rocketry_focus }
		available = {			
			date > 1940.1.1
			has_tech = basic_ship_hull_carrier
		}
		
		x = 4
		y = 1
		relative_position_id = LVN_rocketry_focus
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			if = {
				limit = { 
					has_dlc = "Man the Guns" 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_carrier_2_tt
				hidden_effect = {			
					create_equipment_variant = {
							name = "Impero Class"
							type = ship_hull_carrier_2
							name_group = ITA_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries
								front_1_custom_slot = ship_armor_carrier_deck
								mid_1_custom_slot = ship_deck_space
							}
						}
					add_equipment_production = {
						equipment = {
								type = ship_hull_carrier_2
								creator = "ITA" 
								version_name = "Impero Class"
							}
							name = "Impero" 
							requested_factories = 1
							progress = 0.25
							amount = 1
					}
				}
			}
			else_if = {
				limit = { 
					has_dlc = "Man the Guns" 
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
				custom_effect_tooltip = ITA_carrier_2_tt
				hidden_effect = {			
					create_equipment_variant = {
							name = "Italia Class"
							type = ship_hull_carrier_2
							name_group = ITA_CV_HISTORICAL
							parent_version = 0
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries
								front_1_custom_slot = ship_armor_carrier_deck
								mid_1_custom_slot = ship_deck_space
							}
						}
					add_equipment_production = {
						equipment = {
								type = ship_hull_carrier_2
								creator = "ITA" 
								version_name = "Italia Class"
							}
							name = "Italia" 
							requested_factories = 1
							progress = 0.25
							amount = 1
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_ultimate_carrier_bonus
					bonus = 1.0
					uses = 1
					category = cv_tech
				}
			}
		}
	}

	###SUBSECTION BASE EXPANSION

	focus = {
		id = ITA_naval_expansion #Fleet Expansion Program
		icon = GFX_focus_generic_lvn_navy	
		prerequisite = { focus = italia_program_max focus = italia_program_min }
		available = {
		}
		
		x = 1
		y = 2
		relative_position_id =  italia_program_max
		cost = 10
		
		ai_will_do = { factor = 1 }
		
		cancel_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
			
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			if = { 
				limit = { 
					has_completed_focus = italia_program_max
				}
				add_ideas = LVN_naval_expansion_massimo
				custom_effect_tooltip = LVN_warning_war_idea_cancelled_navy_tt
			}
			if = { 
				limit = { 
					has_completed_focus = italia_program_min
				}				
				add_ideas = LVN_naval_expansion_minimo
				custom_effect_tooltip = LVN_warning_war_idea_cancelled_navy_tt
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = ITA_fortress_sardegna
		icon = GFX_focus_ITA_sardegna_fortress
		prerequisite = { focus = ITA_naval_expansion }
		available = { 
			has_full_control_of_state = 114
			has_tech = construction2
		}
		
		x = -3
		y = 1
		relative_position_id = ITA_naval_expansion
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			114 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
						level < 2
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
				}
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 3
					instant_build = yes
					province = 6891
				}
				if = {
					limit = {
						ROOT = { has_tech = radio_detection }
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_state_flag = ITA_naval_base_reinforced_flag
			}
		}
	}
	
	focus = {
		id = ITA_fortress_sicily
		icon = GFX_focus_ITA_fortress_sicily
		prerequisite = { focus = ITA_naval_expansion }
		available = {
			has_full_control_of_state = 114
			has_tech = construction2
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_naval_expansion
		cost = 5
			
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			115 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_coastal = yes
						level < 2
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = 10074
				}
				if = {
					limit = {
						ROOT = { has_tech = radio_detection }
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_building_level = {
					type = bunker
					level = 3
					province = 4159
				}
				set_state_flag = ITA_naval_base_reinforced_flag
			}
		}
	}
	
	focus = {
		id = ITA_modernize_taranto_defenses
		icon = GFX_focus_ITA_taranto_frotress
		prerequisite = { focus = ITA_naval_expansion }
		available = { 
			has_full_control_of_state = 156
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_naval_expansion
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}	
			156 = {	
				set_building_level = {
					type = coastal_bunker
					level = 3
					province = 11837
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9784
				}
				if = {
					limit = {
						ROOT = { has_tech = radio_detection }
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_state_flag = ITA_naval_base_reinforced_flag
			}
		}
	}
	
	focus = {
		id = ITA_modern_venetian_arsenal
		icon = GFX_focus_ITA_venetian_arsenal
		prerequisite = { focus = ITA_naval_expansion }
		available = { 
			has_full_control_of_state = 160
		}
		
		x = 3
		y = 1
		relative_position_id = ITA_naval_expansion
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			160 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11584
				}
				set_state_flag = ITA_naval_base_reinforced_flag
			}
		}
	}
	
	focus = {
		id = ITA_expand_dockyards
		icon = GFX_focus_POL_develop_polish_shipbuilding_shine
		prerequisite = { focus = ITA_fortress_sicily focus = ITA_fortress_sardegna focus = ITA_modernize_taranto_defenses focus = ITA_modern_venetian_arsenal}
		
		x = 1
		y = 1
		relative_position_id = ITA_fortress_sicily
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			custom_effect_tooltip = SOV_expand_shipbuilding_plants_tt
			every_owned_state = {
				limit = {
					has_state_flag = ITA_naval_base_reinforced_flag
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = ITA_sonar_investment
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = ITA_expand_dockyards}
		
		x = 0
		y = 1
		relative_position_id = ITA_expand_dockyards
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_tech_bonus = {
				name = ITA_asw_warfare
				bonus = 1.0
				ahead_reduction = 1
				uses = 1
				category = asw_tech
			}
		}
	}
	
	focus = {
		id = italia_cruisers
		icon = GFX_focus_generic_cruiser_effort
	 	prerequisite = { focus = ITA_expand_dockyards }
		
		x = -1
		y = 2
		relative_position_id = ITA_expand_dockyards
		cost = 5

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 10
			add_tech_bonus = {
				name = ITA_improved_screen_ships_bonus
				bonus = 0.5
				uses = 1
				category = cl_tech
			}
			add_doctrine_cost_reduction = {
				name = ITA_naval_doctrine
			    cost_reduction = 0.25
			    uses = 2
				category = naval_doctrine
			}
		}
	}
	
	focus = {
		id = ITA_screening_battlefleet
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = ITA_expand_dockyards }
		
		x = 2
		y = 0
		relative_position_id = italia_cruisers
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 10
			add_tech_bonus = {
				name = dd_tech_bonus
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = naval_equipment_bonus
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
			set_variable = { ITA_regia_marina_convoy_escort_efficiency = 0.15 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_convoy_escort_efficiency_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_convoy_escort_efficiency_alt_tt
			}			
		}
	}
	
	focus = {
		id = ITA_ultimate_battleship
		icon = GFX_focus_ITA_battleship
	 	prerequisite = { focus = italia_cruisers focus = ITA_screening_battlefleet }
		available = {			
			date > 1944.1.1
			has_tech = advanced_ship_hull_heavy
			has_full_control_of_state = 158
		}
		
		x = 1
		y = 1
		relative_position_id = italia_cruisers
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
						create_equipment_variant = {
							name = "UP-41"
							type = ship_hull_heavy_4
							parent_version = 0
							modules = {
								fixed_ship_battery_slot = ship_heavy_battery_4
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_fire_control_system_slot = ship_fire_control_system_3
								fixed_ship_engine_slot = heavy_ship_engine_4
								fixed_ship_radar_slot = empty
								fixed_ship_secondaries_slot = dp_ship_secondaries
								fixed_ship_armor_slot = ship_armor_bb_3
								front_1_custom_slot = ship_heavy_battery_4
								mid_1_custom_slot = dp_ship_secondaries
								mid_2_custom_slot = dp_ship_secondaries
								mid_3_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_heavy_battery_4
							}
						}
				}		
				if = {
					limit = {
						NOT = { has_government = communism }
					}
					hidden_effect = { load_oob = "ITA_up41_normal" }
					custom_effect_tooltip = ITA_dante_alighieri_bb_tt
				}
				if = {
					limit = {
						has_government = communism
					}
					hidden_effect = { load_oob = "ITA_up41_communist" }
					custom_effect_tooltip = ITA_Filippo_Turati_bb_tt
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_bb_tech_up41_bonus
					bonus = 1.0
					uses = 1
					category = bb_tech
				}
			}
		}
	}
	
	
	###SUBSECTION SMALL VESSELS
	
	focus = {
		id = ITA_modernize_sub
		icon = GFX_goal_generic_navy_submarine
	 	prerequisite = { focus = italia_program_min }
		
		x = 0
		y = 1
		relative_position_id = italia_program_min
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 15
			add_tech_bonus = {
				name = ITA_sub_modernisation
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		}
	}
	
	focus = {
		id = ITA_p_mines
		icon = GFX_focus_generic_mine_warfare
		prerequisite = { focus = italia_small_vessels_doctrine }
		available = {

		}
		
		x = 3
		y = 1
		relative_position_id = italia_small_vessels_doctrine
		cost = 5

		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_ideas = SOV_mine_warfare_ns
			add_tech_bonus = {
				name = ITA_mine_warfare
				bonus = 1.0
				uses = 1
				category = naval_mines
			}
		}
	}
	
	focus = {
		id = italia_mas_focus
		icon = GFX_focus_ITA_new_torpedos
		prerequisite = { focus = italia_small_vessels_doctrine }
		
		x = -3
		y = 1
		relative_position_id = italia_small_vessels_doctrine
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			hidden_effect = {
				set_technology = {
				  mas_tech = 1
				}
			}
			custom_effect_tooltip = italia_mas_focus_tt
			set_variable = { ITA_regia_marina_spotting_chance = 0.15 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_spotting_chance_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_spotting_chance_alt_tt
			}	
		}
	}
	
	focus = {
		id = italia_undersea_combat
		icon = GFX_goal_generic_navy_doctrines_tactics
	 	prerequisite = { focus = italia_modern_navy}
		
		x = 5
		y = 2
		relative_position_id = italia_modern_navy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = ITA_undersea_warfare
			    	cost_reduction = 0.50
			  	uses = 1
				category = submarine_doctrine
			}			
		}
	}
	
	focus = {
		id = italia_cruiser_subs
		icon = GFX_focus_ITA_cruiser_subs
		prerequisite = { focus = italia_undersea_combat }
		
		x = 1
		y = 1
		relative_position_id = italia_undersea_combat
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}	
			navy_experience = 15			
			if = {
				limit = {
					has_dlc = "Man the Guns"
					NOT = { has_tech = cruiser_submarines }
				}
				set_technology = { 
					cruiser_submarines = 1 
					popup = yes
				}
				create_equipment_variant = {
					name = "Cagni Class"
					type = ship_hull_cruiser_submarine
					name_group = ITA_SS_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_2
						fixed_ship_engine_slot = sub_ship_engine_2
						front_1_custom_slot = ship_extra_fuel_tank
						rear_1_custom_slot = ship_torpedo_sub_2
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA" 
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Cagni" 
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA" 
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Caracciolo" 
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA" 
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Millo"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA" 
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Saint-Bon"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
			else_if = {
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = ss_tech
				}
			}			
		}
	}
	
	focus = {
		id = italia_betasom
		icon = GFX_focus_ITA_betasom
		prerequisite = { focus = italia_undersea_combat }
		prerequisite = { focus = italia_small_vessels_doctrine }
		available = {
			OR = {
				has_full_control_of_state = 19			
				any_allied_country = {
					has_full_control_of_state = 19
				}
			}
		}
		
		x = -1
		y = 1
		relative_position_id = italia_undersea_combat
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_5_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = 5 } }
			}
			add_doctrine_cost_reduction = {
				name = ITA_betasom_bonus
			    cost_reduction = 0.75
			    uses = 2
				category = submarine_doctrine
			}
			19 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 9737
				}
			}
			set_variable = { ITA_regia_marina_experience_gain_navy_factor = 0.10 }
			if = {
				limit = { 
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				custom_effect_tooltip = ITA_navy_dynamic_modifier_experience_gain_tt
			}
			else = {
				custom_effect_tooltip = ITA_navy_dynamic_modifier_experience_gain_alt_tt
			}	
		}
	}
	
	focus = {
		id = italia_unrestricted_submarine_warfare
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = italia_betasom }
		prerequisite = { focus = italia_cruiser_subs }
		available = {
			has_war = yes
		}
		
		x = 1
		y = 1
		relative_position_id = italia_betasom
		cost = 10

		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = USA_unrestricted_submarine_warfare
		}
	}


	
############################################
##################POLITICS##################
############################################

##Topple Mussolini

	focus = {
		id = italia_topple_duce
		icon = GFX_focus_ITA_depose_mussolini
		
		
		available = {
			NOT = { has_country_flag = king_preparing_to_depose_mussolini_war }
			has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
			OR = {
				NOT = { has_completed_focus = ITA_victoryinETH }
				has_idea = ITA_international_condemnation
				hidden_trigger = { has_idea = ITA_international_condemnation_2 }
				AND = {
					has_stability < 0.40
					has_war_support < 0.50
				}
			}
		}
		
		select_effect = {
			if = {
				limit = {
					has_war_with = ETH
					}
				ROOT = { country_event = { id = italia_ita.33 days = 5 } }
				}
			activate_mission = LVN_secure_rome
		}
		allow_branch = {	
			NOT = { has_country_flag = RSI_tree_completed }
			NOT = { has_country_flag = ITA_fascist_war }
		}
		
		x = 77
		y = 0
		relative_position_id = italia_iri
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			country_event = { id = italia_ita.1 }
			custom_effect_tooltip = LVN_save_your_pp_tt
			if = { 
				limit = {
					GER = { 
						has_government = fascism 
						has_war = no 
					}
				}
				custom_effect_tooltip = LVN_germany_will_help_tt
			}
			if = {
				limit = { 
					has_war_with = ETH 
				}
				custom_effect_tooltip = LVN_we_wp_ETH_tt
			}
			hidden_effect = {
				set_country_flag = deposed_mussolini_1
			}
		}
	}#Focus close

#CHOOSE YOUR DESTINY
	focus = {
		id = italia_secure_italy
		icon = GFX_focus_ITA_CLN
		prerequisite = { focus = italia_topple_duce }
		mutually_exclusive = { focus = italia_restore_monarchy }
		available = {
			is_puppet = no
			has_civil_war = yes
			NOT = {	has_government = fascism }
		}
			
		x = -7
		y = 2
		relative_position_id = italia_topple_duce
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		completion_reward = {
			add_stability = 0.05
			add_political_power = 120
			add_ideas = ivanoe_bonomi 	
		}
	}
	
	focus = {
		id = italia_restore_monarchy
		icon = GFX_focus_ITA_house_of_savoy
		prerequisite = { focus = italia_topple_duce }
		mutually_exclusive = { focus = italia_secure_italy}
		available = { 
			
		}
		
		x = 7
		y = 2
		relative_position_id = italia_topple_duce
		cost = 5

		ai_will_do = {
			factor = 0
		}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
			
		completion_reward = {
			custom_effect_tooltip = house_of_savoy_ruling
			hidden_effect = {
				play_song = "marcia_reale_cut"
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_popularities = {
					democratic = 35
					neutrality = 45
					fascism = 10
					communism = 10
				}
				set_party_name = { 
					ideology = neutrality 
					long_name = ITA_house_of_savoy 
					name = ITA_savoy
				}
				if = {
					limit = {
						has_idea = italia_victor_emmanuel 
					}
					set_country_flag = absolute_monarchy
					remove_ideas = italia_victor_emmanuel
					promote_character = ITA_victor_emmanuel_iii

				}#if closing
				if = {
					limit = {
						has_idea = king_umberto 
					}
					set_country_flag = absolute_monarchy
					remove_ideas = king_umberto
					promote_character = ITA_umberto
				}#if closing

				add_popularity = {
				    ideology = neutrality
				    popularity = 0.15
				}
				country_event = { id = italia_ita.800 }
			}
		}	
	}
	
###############CIVIL WAR MENU OF OPTIONS
#########CIVIL WAR ADDITIONS!!!!############

	focus = {
		id = italia_cobelligerant_army
		icon = GFX_focus_PCI_army
		prerequisite = { focus = italia_topple_duce }
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		available = {
			has_civil_war = yes
			has_country_flag = LVN_armistice_flag
		}
		
		x = 0
		y = 1
		relative_position_id = italia_topple_duce
		cost = 5

		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}
		
		completion_reward = {
			if = {
				limit = {
					has_country_flag = LVN_armies_locked
				}
				country_lock_all_division_template = no
				clr_country_flag = LVN_armies_locked 
			}
			else_if = {
				army_experience = 50
			}
			if = {
				limit = {
					any_other_country = {
						has_country_flag = LVN_armistice_faction_leader
						has_war = yes
					}
				}
				custom_effect_tooltip = cobelligerance_second_tt
				hidden_effect = {
					random_country = {
						limit = {
							has_country_flag = LVN_armistice_faction_leader
							is_faction_leader = yes
						}
						save_event_target_as = ally_faction_leader
						add_to_faction = ROOT
					}
					random_country = {
						limit = {
							is_faction_leader = yes
							has_war_with = PREV
						}
						save_event_target_as = axis_leader
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = event_target:ally_faction_leader
							enemy = PREV
							hostility_reason = asked_to_join
						}
					}
				}
			}
		}
	}

	focus = {
		id = italia_volunteers_for_freedom
		icon = GFX_focus_ITA_italy_arms
		prerequisite = { focus = italia_secure_italy }
		available = {
			has_civil_war = yes
			if = {
				limit = {
					has_country_flag = LVN_armistice_flag
				}
				has_completed_focus = italia_cobelligerant_army
			}
		}
		
		x = 1
		y = 1
		relative_position_id = italia_secure_italy
		cost = 5

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_ideas = italia_volunteers_for_freedom_idea
			custom_effect_tooltip = LVN_emergency_civil_war_tt
			show_unit_leaders_tooltip = ITA_raffaele_cadorna
			hidden_effect = {
				set_global_flag = cadorna_recruited
			}
			
		}
	}
	
focus = {
		id = LVN_emergency_bunkers
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = italia_secure_italy focus = italia_restore_monarchy }
		available = {
			has_civil_war = yes
		}
		bypass = {
		}
		x = 5
		y = 1
		relative_position_id = italia_secure_italy
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			117 = {
				set_building_level = {
					type = bunker
					level = 4
					province = 819
				}	
				set_building_level = {
					type = bunker
					level = 4
					province = 11803
				}	
				set_building_level = {
					type = bunker
					level = 4
					province = 6939
				}	
				set_building_level = {
					type = coastal_bunker
					level = 3
					province = 6980
				}	
				set_building_level = {
					type = coastal_bunker
					level = 3
					province = 819
				}						
			}
		}
}

	
focus = {
	id = LVN_deal_with_unions
	icon = GFX_goal_generic_production
	prerequisite = { focus = italia_secure_italy }
	available = {
		has_civil_war = yes
	}

	x = 3
	y = 1
	relative_position_id = italia_secure_italy
	cost = 5
		
	ai_will_do = {
		factor = 1
	}	
		
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }
		
	completion_reward = {
		if = {
			limit = {
				has_idea = lvn_civil_war_idea 
			}
			swap_ideas = {
				remove_idea = lvn_civil_war_idea
				add_idea = lvn_civil_war_idea_3
			}
		}
		add_stability = 0.05
	}
}

	
focus = {
	id = LVN_deal_with_corps
	icon = GFX_focus_ITA_generic_factories_lvn
	prerequisite = { focus = italia_restore_monarchy }
	available = {
		has_civil_war = yes
	}

	x = -3
	y = 1
	relative_position_id = italia_restore_monarchy
	cost = 5
		
	ai_will_do = {
		factor = 1
	}	
		
	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }
		
	completion_reward = {
		if = {
			limit = {
				has_idea = lvn_civil_war_idea 
			}
			swap_ideas = {
				remove_idea = lvn_civil_war_idea
				add_idea = lvn_civil_war_idea_2
			}
		}
		add_war_support = 0.05
	}
}
	
	focus = {
		id = italia_royal_factories
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = LVN_deal_with_corps }
		prerequisite = { focus = italia_suppress_communist_groups }
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		available = {
			#NOT = { has_country_flag = LVN_armistice_flag }
		}
		
		x = 1
		y = 1
		relative_position_id = LVN_deal_with_corps
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			if = {
				limit = {
					any_owned_state = {
						is_on_continent = europe
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						NOT = { state = PREV }
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}				
			}
		}
	}
	
	focus = {
		id = italia_kings_army
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = italia_restore_monarchy }
		available = {
			#NOT = { has_country_flag = LVN_armistice_flag }
		}
		
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		x = 1
		y = 1
		relative_position_id = italia_restore_monarchy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS  }
		
		completion_reward = {
			if = {
				limit = {
					has_country_flag = LVN_armies_locked
				}
				country_lock_all_division_template = no
				clr_country_flag = LVN_armies_locked 
			}
			else_if = {
				army_experience = 25
				add_doctrine_cost_reduction = {
					name = ITA_king_army_bonus
					cost_reduction = 0.5
					uses = 1
					category = land_doctrine
				}
			}

		}
	}
	
	focus = {
		id = italia_emergency_plans
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = italia_restore_monarchy focus = italia_secure_italy }
		available = {
			has_civil_war = yes
		}
		
		x = -5
		y = 1
		relative_position_id = italia_restore_monarchy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			add_ideas = LVN_emergency_plans
			custom_effect_tooltip = LVN_emergency_civil_war_tt
		}
	}
	
	focus = {
		id = italia_suppress_communist_groups
		icon = GFX_focus_spr_crush_the_revolution
		prerequisite = { focus = italia_restore_monarchy }
		available = {
		}
		
		x = -1
		y = 1
		relative_position_id = italia_restore_monarchy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = { has_civil_war = yes }
				add_ideas = LVN_communism_suppress
				custom_effect_tooltip = LVN_emergency_civil_war_tt
			}
			if = {
				limit = { has_civil_war = no }
				add_political_power = 60
			}
		}
	}	
		
	focus = {
		id = italia_secure_the_crown #Council of Savoy
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = italia_restore_monarchy }
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		available = {
			has_civil_war = no
		}
		
		x = 0
		y = 2
		relative_position_id = italia_restore_monarchy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS  }
		
		completion_reward = {
			if = {
				limit = {
					has_idea = LVN_political_violence
				}
				country_event = { id = italia_ita.802 hours = 3 }
			}
			else_if = {
				add_stability = 0.10
				add_political_power = 50
			}
		}
	}
		
###shared####
	focus = {
		id = italia_rebuild_the_nation
		icon = GFX_focus_ITA_workhouse
		prerequisite = { focus = italia_secure_the_crown focus = LVN_restore_civilian_rule }
		available = {
			if = {
				limit = { has_completed_focus = italia_secure_italy }
				has_civil_war = no
			}
			else_if = {
				limit = { 
					has_completed_focus = italia_restore_monarchy
					has_idea = LVN_factory_strikes
				}
				has_idea = LVN_factory_strikes
			}
			else_if = { has_civil_war = no }
		}
		
		x = 0
		y = 5
		relative_position_id = italia_topple_duce
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			if = {
				limit = { has_idea = LVN_factory_strikes }
				country_event = italia_ita.107
			}
			else_if = {
				add_timed_idea = { idea = LVN_rebuild_the_nation days = 365 }
			}
		}
	}
	
	focus = {
		id = italia_the_pope
		icon = GFX_focus_ITA_papal
		prerequisite = { focus = italia_restore_monarchy }
		allow_branch = {
			if = {
				limit = {
					has_completed_focus = italia_the_pope
				}
				has_global_flag = LVN_release_the_pope
			}
			NOT = { has_country_flag = RSI_tree_completed }
		}
		offset = {
			trigger = {
				has_global_flag = LVN_release_the_pope
			}
			x = -10
			y = 0
		}
		
		available = {
			has_idea = lvn_pope_pius_xii
			2 = { is_fully_controlled_by = ROOT }	
		}
		
		x = 3
		y = 1
		relative_position_id = italia_restore_monarchy
		cost = 5
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		completion_reward = {
			add_stability = 0.05
			country_event = LVNcw.15
		}
		
	}
	
	focus = {
		id = italia_reverse_the_brain_drain
		icon = GFX_focus_research
		prerequisite = { focus = italia_rebuild_the_nation }
		available = {
		}
		
		x = 0
		y = 1
		relative_position_id = italia_rebuild_the_nation
		
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		cost = 10
		
		ai_will_do = {
			factor = 10
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = {
					has_global_flag = LVN_flight_of_scientists
				}
				clr_country_flag = LVN_flight_of_scientists_ITA 
			}
				
			if = {
				limit = {
					amount_research_slots < 5}
				add_research_slot = 1
			}
			else_if = {
				add_tech_bonus = {
					bonus = 1.0
					uses = 1
					category = electronics
				}
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = computing_tech
			}
		}
	}
	
	focus = {
		id = italia_flexible_foreign_policy
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = italia_secure_the_crown }
		allow_branch = { 
			NOT = { has_global_flag = LVN_release_the_pope } 
			NOT = { has_country_flag = RSI_tree_completed }
		}
		
		available = {
			is_subject = no
			if = {
				limit = {
					has_completed_focus = italia_restore_monarchy
				}
				NOT = { has_idea = LVN_political_violence }
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_secure_the_crown
		cost = 5

		ai_will_do = {
			factor = 0
		}


		cancel_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ROM_flexible_foreign_policy
		}
	}
	
#realpolitik
	focus = {
		id = italia_we_stand_alone #Realpolitik
		icon = GFX_focus_ITA_italy_first2
		prerequisite = { focus = italia_flexible_foreign_policy }
		mutually_exclusive = { focus = italia_allignment_central_powers focus = italia_stres_fr_agreement }
		available = {	
			has_government = neutrality
			is_subject = no
		}


		x = -4
		y = 1
		relative_position_id = italia_flexible_foreign_policy
		cost = 10
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		continue_if_invalid = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = { 
			set_rule = { can_create_factions = yes }
			add_political_power = 200
			add_stability = 0.1
			add_war_support = 0.2
			add_ideas = ITA_realpolitik
			add_named_threat = { threat = 5 name = ITA_realpolitik }
		}
	}
	
	focus = {
		id = italia_rekindle_monarchies
		icon = GFX_focus_ITA_crowns_of_europe
		prerequisite = { focus = italia_we_stand_alone }
		available = {
			is_puppet = no
		}
		bypass = {
			hidden_trigger = { has_completed_focus = italia_we_stand_alone }
			OR = {
				FRA = {
					has_government = neutrality
					has_completed_focus = FRA_the_council_of_rambouillet
				}
				SPR = {
					has_government = neutrality
					has_completed_focus = SPA_supremacy_of_the_communion
				}
			}
		}
	 			
		x = -1
		y = 1
		relative_position_id = italia_we_stand_alone
		cost = 10
		
		ai_will_do = {
			factor = 0
		}
		

		available_if_capitulated = yes
		cancel_if_invalid = yes
		continue_if_invalid = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					FRA = { 
					exists = yes
					NOT = { has_government = neutrality }
					NOT = { has_completed_focus = FRA_the_council_of_rambouillet }
					}
				}
				FRA = {
					add_timed_idea = { idea = ITA_rekindle_imperial_sentiment days = 730 }
				}
			}
			if = {
				limit = {
					SPR = { exists = yes }
					NOT = { has_country_flag = SPR_carlist_spain_flag }
				}
				SPR = {
					add_timed_idea = { idea = ITA_rekindle_imperial_sentiment days = 730 }
				}
			}
			custom_effect_tooltip = ITA_rekindle_imperial_sentiment_tt
		}
	}
	
	focus = {
		id = ITA_orleanist_restoration
		icon = GFX_focus_focus_fra_orleans_restoration
		prerequisite = {focus = italia_rekindle_monarchies }
		available = {
			is_subject = no
		}
		bypass = { FRA = { is_subject_of = ITA } }
		
		x = 1
		y = 1
		relative_position_id = italia_rekindle_monarchies
		cost = 10
		will_lead_to_war_with = FRA
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		continue_if_invalid = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					FRA = {
						not = {
							has_government = neutrality }
						}
					}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
				}
			}
			if = {
				limit = {
					FRA = {
					OR = {
						has_country_leader = { name = "Jean III" ruling_only = yes }
						has_country_leader = { name = "Henri VI" ruling_only = yes }
							}
						}
					}
				FRA = { country_event = { id = italia_ita.25 days = 2 } }
			}			

		}
	}
	
	focus = {
		id = italia_reclaim_savoy_spain
		icon = GFX_focus_ITA_reclaim_spain
		prerequisite = { focus = italia_rekindle_monarchies }
		available = {
			is_subject = no
			SPR = {
				exists = yes
				is_subject = no
			}
		}
		bypass = { SPR = { is_subject_of = ITA } }
		
		x = -1
		y = 1
		relative_position_id = italia_rekindle_monarchies
		cost = 5
		will_lead_to_war_with = SPR
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SPR
			}
		}		
	}
	
	focus = {
		id = italia_push_claim_orlean_braganza #for monarchist rework, put on throne people related to their respective dynasties 
		icon = GFX_focus_ITA_brazil
		prerequisite = { focus = italia_rekindle_monarchies }
		available = {
			POR = {
				exists = yes
				is_subject = no
			}
			BRA = {
				exists = yes
				is_subject = no
			}
		}
		
		x = 0
		y = 2
		relative_position_id = italia_rekindle_monarchies
		cost = 10
		will_lead_to_war_with = POR
		will_lead_to_war_with = BRA
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POR
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BRA
			}
		}		
	}
	
	focus = {
		id = italia_destroy_house_windsor
		icon = GFX_focus_ITA_attack_windsor
		prerequisite = { focus = ITA_assume_the_naval_burden focus = italia_push_claim_orlean_braganza }
		available = {
			is_subject = no
			ENG = {
				exists = yes
				is_subject = no
				NOT = { has_government = communism }
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_push_claim_orlean_braganza
		cost = 5
		will_lead_to_war_with = ENG
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
				}
		}		
	}
	
#central powers italy - we shall be the boats and air of the central powers!

	focus = {
		id = italia_allignment_central_powers
		icon = GFX_focus_generic_ger_empire
		prerequisite = { focus = italia_flexible_foreign_policy }
		mutually_exclusive = { focus = italia_stres_fr_agreement focus = italia_we_stand_alone }
		available = {
			is_subject = no
			OR = {
				GER = { has_completed_focus = GER_the_central_powers }
				HUN = { has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary }
			}
			has_government = neutrality
		}
		
		bypass = {
			OR = { 
				AND = {
					is_puppet_of = GER
					GER = { has_government = neutrality }
				}
				AND = {
					is_puppet_of = HUN
					HUN = { has_government = neutrality }
					HUN = { has_completed_focus = HUN_invite_the_habsburg_prince }
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = italia_flexible_foreign_policy
		cost = 5
		
		ai_will_do = {
			base = 0
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_opinion_modifier = { target = GER modifier = ITA_befriend_monarchist_opinion }
			add_opinion_modifier = { target = HUN modifier = ITA_befriend_monarchist_opinion }
			add_stability = -0.1
			news_event = { id = italianews.9 days = 1 }
		}
	}
	
	focus = {
		id = italia_bury_grudges_past
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = italia_allignment_central_powers }
		
		x = 0
		y = 1
		relative_position_id = italia_allignment_central_powers
		cost = 10

		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_opinion_modifier = { target = HUN modifier = ITA_past_grudge_buried_opinion }
			add_opinion_modifier = { target = AUS modifier = ITA_past_grudge_buried_opinion }
			add_opinion_modifier = { target = BUL modifier = ITA_past_grudge_buried_opinion }
			add_opinion_modifier = { target = FRA modifier = ITA_betrayed_west_opinion }
			add_opinion_modifier = { target = ENG modifier = ITA_betrayed_west_opinion }
			add_opinion_modifier = { target = USA modifier = ITA_betrayed_west_opinion }
			if = {
				limit = {
					TUR = { exists = yes }
					NOT = { has_completed_focus = TUR_pivot_to_the_past }
				}
				TUR = {
					add_timed_idea = { idea = ITA_rekindle_imperial_sentiment days = 720 }
				}
			}
			
			if = {
				limit = {
					HUN = { exists = yes }
					NOT = { has_completed_focus = HUN_invite_the_habsburg_prince }
				}
				HUN = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 720 }
				}
			}
			
			if = {
				limit = {
					AUS = { exists = yes }
				}
				AUS = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 720 }
				}
			}
			
			if = {
				limit = {
					CZE = { exists = yes }
				}
				CZE = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 720 }
				}
			}
			custom_effect_tooltip = GER_rekindle_imperial_sentiment_tt
		}
	}

	focus = {
		id = italia_central_power_membership
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = italia_bury_grudges_past }
		x = 0
		y = 1
		relative_position_id = italia_bury_grudges_past
		cost = 10
		ai_will_do = {
			base = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			GER = { country_event = { id = lvn_generic.3 } }
		}
	}

	focus = {
		id = italia_northern_schlieffen_plan
		icon = GFX_focus_attack_switzerland
		prerequisite = { focus = italia_central_power_membership }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = SWI }
			has_army_manpower = { size > 750000 }
		}
		bypass = {
			has_war_with = SWI
			NOT = { country_exists = SWI }
		}
		
		x = 0
		y = 1
		relative_position_id = italia_central_power_membership
		cost = 5
		will_lead_to_war_with = SWI
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_timed_idea = { idea = italia_surprise_swiss days = 70 }
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}
		}
	}
	
	focus = {
		id = italia_defense_not_fall
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = italia_we_stand_alone focus = italia_allignment_central_powers }
		available = {
		}
		
		x = 2
		y = 1
		relative_position_id = italia_we_stand_alone
		cost = 5

		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_ideas = ITA_national_defence_act
		}
	}
	
	focus = {
		id = ITA_assume_the_naval_burden
		icon = GFX_focus_generic_naval_modernized
		prerequisite = { focus = italia_defense_not_fall }
		available = {
			is_in_faction = yes
		}
		
		x = 0
		y = 2
		relative_position_id = italia_defense_not_fall
		cost = 10

		available_if_capitulated = no

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = LVN_naval_expansion_program
			custom_effect_tooltip = LVN_warning_war_idea_cancelled_navy_tt
			160 = {
				if = {
					limit = {
						160 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
			158 = {
				if = {
					limit = {
						158 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
			156 = {
				if = {
					limit = {
						156 = {
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_take_down_france
		icon = GFX_focus_ITA_attack_france
		prerequisite = { focus = italia_northern_schlieffen_plan }
		prerequisite = { focus = ITA_assume_the_naval_burden }
		available = {
			NOT = { is_in_faction_with = FRA }
		}
			
		bypass = { 
			has_war_with = FRA
			NOT = { country_exists = FRA }
			FRA = { is_puppet_of = ITA }
		}
			
		x = 1
		y = 1
		relative_position_id = ITA_assume_the_naval_burden
		cost = 10
		will_lead_to_war_with = FRA
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_state_claim = 1
			add_state_claim = 735
			add_state_claim = 21
			add_state_claim = 32
			add_state_claim = 665
			add_state_claim = 458
			add_state_claim = 268
			create_wargoal = {
				type = take_claimed_state
				target = FRA
			}
		add_timed_idea = { idea = italia_surprise_france days = 140 }
		}
	}
	
	focus = {
		id = italia_expand_tianjin
		icon = GFX_focus_ITA_tianjin
		prerequisite = { focus = italia_destroy_house_windsor focus = italia_take_down_france }
		available = {
			NOT = { has_full_control_of_state = 608 }
		}
			
		bypass = { 
		}
			
		x = 2
		y = 1
		relative_position_id = italia_destroy_house_windsor
		cost = 10
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			hidden_effect = {
				random_other_country = {
					limit = {
						controls_state = 608
					}
					save_event_target_as = LVN_controls_china
				}
				ITA = { 
					create_wargoal = { 
						type = take_state_focus
						target = event_target:LVN_controls_china
						generator = { 608 }
					}
				}
			}
			custom_effect_tooltip = LVN_secure_china_tt
		}
	}

#stresa front 2.0	
	focus = {
		id = italia_stres_fr_agreement
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = italia_flexible_foreign_policy }
		mutually_exclusive = { focus = italia_allignment_central_powers focus = italia_we_stand_alone }
		available = {
			is_subject = no
			has_government = neutrality 
			
			FRA = {
				exists = yes
				OR = {
					has_government = democratic
					has_government = neutrality 
				}
			}
			NOT = { has_war_with = FRA }
		}
		bypass = {
			OR = {
				is_in_faction_with = FRA
			}
		}
		
		x = 4
		y = 1
		relative_position_id = italia_flexible_foreign_policy
		cost = 5

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_stability = 0.1
			FRA = { country_event = { id = italia_ita.34 } }
		}
	}
	
	focus = {
		id = italia_support_the_finns
		icon = GFX_focus_invite_finland
		prerequisite = { focus = italia_allignment_central_powers focus = italia_stres_fr_agreement }
		available = {
			is_subject = no
			FIN = {
				has_war = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}	
		bypass = {
			NOT = { country_exists = FIN }
		}
		
		x = 2
		y = 1
		relative_position_id = italia_allignment_central_powers
		cost = 5

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			army_experience = 10
			FIN = {
				add_manpower = 10000
			}
			ROOT = {
				send_equipment = {
				equipment = infantry_equipment
				amount = 2500
				target = FIN
				}
			}
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military 
				}
				custom_effect_tooltip = ita_military_readiness_neg_05_tt
				add_to_variable = { var = ita_ready_military_progress value = -5 }
			}
		}
	}
	
	focus = {
		id = italia_bulwark_against_bolshevism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = italia_support_the_finns }
		prerequisite = { focus = italia_central_power_membership focus = italia_new_little_entente }
		available = {
			is_puppet = no
		}
		x = 0
		y = 2
		relative_position_id = italia_support_the_finns
		cost = 10

		continue_if_invalid = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_ideas = GER_bulwark_against_bolshevism
			SOV = { 
				add_opinion_modifier = { target = ITA modifier = embargo } 
			}
		}
	}
	
	focus = {
		id = italia_eastern_europe_integrity
		icon = GFX_goal_generic_defence
		prerequisite = { focus = italia_stres_fr_agreement }
		available = {
		}


		x = 0
		y = 1
		relative_position_id = italia_stres_fr_agreement
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.15
			if = {
				limit = {
					YUG = { 
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
				give_guarantee = YUG
				YUG = { add_opinion_modifier = { target = ITA modifier = ITA_befriended_neutrality }}
				YUG = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
				}
			}
			
			if = { 
				limit = {
					GRE = { 
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
				give_guarantee = GRE
				GRE = { add_opinion_modifier = { target = ITA modifier = ITA_befriended_neutrality }}
				GRE = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
				}
			}
			
			if = { 
				limit = {
					ROM = { 
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
				give_guarantee = ROM
				ROM = { add_opinion_modifier = { target = ITA modifier = ITA_befriended_neutrality }}
				ROM = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
			if = {
				limit = {
					YUG = { 
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
				YUG = { add_opinion_modifier = { target = ITA modifier = LVN_supported_statu_quo }}
				YUG = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
			
			if = { 
				limit = {
					GRE = { 
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
				GRE = { add_opinion_modifier = { target = ITA modifier = LVN_supported_statu_quo }}
				GRE = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
			
			if = { 
				limit = {
					ROM = { 
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
				ROM = { add_opinion_modifier = { target = ITA modifier = LVN_supported_statu_quo }}
				ROM = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
			if = { 
				limit = {
					HUN = { 
						NOT = { has_government = democratic }
					}
				}
				HUN = { add_opinion_modifier = { target = ITA modifier = LVN_supported_statu_quo }}
				HUN = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
			if = { 
				limit = {
					BUL = { 
						OR = { 
							has_government = communism
							has_government = fascism
						}
					}
				}
				BUL = { add_opinion_modifier = { target = ITA modifier = LVN_supported_statu_quo }}
				BUL = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 50
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_new_little_entente
		icon = GFX_focus_ITA_stresa_front
		prerequisite = { focus = italia_eastern_europe_integrity }
		available = {
			OR = {
				ITA = { has_government = neutrality }
				FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
			}
		}


		x = 0
		y = 1
		relative_position_id = italia_eastern_europe_integrity
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					FRA = {
						NOT = { has_government = communism }
						is_faction_leader = yes
					}
				}
				FRA = {
					country_event = lvn_generic.3
				}
			}
			else_if = {
				limit = {
					FRA = {
						NOT = { has_government = communism }
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
					is_faction_leader = yes
				}
				FRA = { country_event = lvn_generic.4 }
			}
			else_if = {
				limit = {
					FRA = {
						is_in_faction = no
						NOT = { has_government = communism }
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
					is_in_faction = no
				}
				set_rule = { can_create_factions = yes }
				create_faction = ITA_stresa_front
				FRA = { custom_effect_tooltip = invite_to_faction_tt }
				hidden_effect = {
					FRA = { country_event = lvn_generic.4 }
				}
			}
		}
	}
	
	focus = {
		id = italia_invite_cze
		icon = GFX_focus_generic_friend_czech
		prerequisite = { focus = italia_new_little_entente }
		mutually_exclusive = { focus = italia_invite_pol }
		available = {
			country_exists = CZE
			CZE = { is_subject = no }
			CZE ={ NOT = { has_idea = GER_rekindle_imperial_sentiment }}
		}
		bypass = {
			NOT = {country_exists = CZE}	
			AND = {
				OR ={
					CZE = { is_subject = yes }
					NOT = { country_exists = CZE }
				}
				OR ={
					POL = { is_subject = yes }
					NOT = { country_exists = POL }
				}
			}
		}

		x = 2
		y = 1
		relative_position_id = italia_new_little_entente
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			CZE = { country_event = lvn_generic.4 }
		}
	}
	
	focus = {
		id = italia_invite_pol
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = italia_new_little_entente }
		mutually_exclusive = { focus = italia_invite_cze }
		available = {
			country_exists = POL
			POL = { is_subject = no }
		}
		bypass = {
			AND = {
				OR ={
					CZE = { is_subject = yes }
					NOT = { country_exists = CZE }
				}
				OR ={
					POL = { is_subject = yes }
					NOT = { country_exists = POL }
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = italia_new_little_entente
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			POL = { country_event = lvn_generic.4 }
		}
	}
	
	focus = {
		id = italia_invite_rom
		icon = GFX_focus_invite_romania
		prerequisite = { focus = italia_invite_cze focus = italia_invite_pol }
		available = {
			country_exists = ROM
			ROM = { is_subject = no }
		}
		bypass = {
			NOT = {country_exists = ROM}
		}

		x = 0
		y = 1
		relative_position_id = italia_invite_pol
		cost = 5

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50
			ROM = { country_event = lvn_generic.4 }
		}
	}
	
	focus = {
		id = italia_invite_yugo
		icon = GFX_focus_invite_yugoslavia
		prerequisite = { focus = italia_invite_cze focus = italia_invite_pol }
		available = {
			country_exists = YUG
			YUG = { is_subject = no }
		}
		
		bypass = {
			NOT = {country_exists = YUG}
		}


		x = 2
		y = 1
		relative_position_id = italia_invite_pol
		cost = 5

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 50
			YUG = { country_event = lvn_generic.4 }
		}
	}

####COMMUNISM! OH MY!

	focus = {
		id = italia_utilitze_garibaldi
		icon = GFX_focus_ITA_garibaldi
		prerequisite = { focus = italia_secure_italy }		
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		
		x = -2
		y = 1
		relative_position_id = italia_secure_italy
		cost = 5

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_MANPOWER }
		
		available = {
			has_civil_war = yes
			RSI = {
				OR = {
					is_subject_of = GER 
					is_in_faction_with = GER
					has_volunteers_amount_from = {
						tag = GER
						count > 0
					}
				}
			}		
		}
			
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_timed_idea = { idea = communist_influence days = 720 }
			add_ideas = LVN_partisans
			custom_effect_tooltip = LVN_emergency_civil_war_tt
		}
	}
	
	focus = {
		id = italia_communist_war
		icon = GFX_focus_ITA_communist_army
		prerequisite = { focus = italia_utilitze_garibaldi }
		mutually_exclusive = { focus = italia_directive_sixteen }
		available = {
			hidden_trigger = { is_ai = no }
			communism > 0.3
			has_civil_war = yes
			NOT = {
				has_completed_focus = italia_referendum
			}
		}
		
		x = -2
		y = 1
		relative_position_id = italia_utilitze_garibaldi
		cost = 10

		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			custom_effect_tooltip = communist_civil_war_tt
			hidden_effect = {
				country_event = { id = italia_ita.14 hours = 6 random = 24 }
			}
		}
	}
	
	focus = {
		id = italia_directive_sixteen
		icon = GFX_focus_PCI_wave
		prerequisite = { focus = italia_utilitze_garibaldi }
		mutually_exclusive = { focus = italia_communist_war }
		available = {
			has_civil_war = yes
			any_state = {
				is_core_of = ROOT 
				is_controlled_by = RSI 
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_utilitze_garibaldi
		cost = 5

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			every_state = {
				limit = {
					is_core_of = ITA
					is_fully_controlled_by = RSI 
				}
				add_dynamic_modifier = { modifier = ITA_communist_uprising }
				set_state_flag = ITA_communist_uprising_state_flag
			}
			if = {
				limit = {
					any_state = {
						is_core_of = ITA
						is_controlled_by = RSI 
						has_resistance = yes 
					}
				}
				every_state = {
					limit = {
						is_core_of = ITA
						is_controlled_by = RSI 
						has_resistance = yes
					}
				add_resistance = 25
				add_resistance_target = 20 
				}
			}
			if = {
				limit = {
					any_state = {
						is_core_of = ITA
						is_controlled_by = RSI 
						has_resistance = no 
					}
				}
				every_state = {
					limit = {
						is_core_of = ITA
						is_controlled_by = RSI 
						has_resistance = no
					}
					force_enable_resistance = {
						occupier = RSI
						occupied = ITA
					}
					start_resistance = ITA
					add_resistance = 25
					add_resistance_target = 30 
				}
			}
		}

	}
	
	focus = {
		id = LVN_women_fighters
		icon = GFX_focus_ITA_women_soldiers
		prerequisite = { focus = italia_volunteers_for_freedom }
		prerequisite = { focus = LVN_deal_with_unions }
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		available = {
			has_civil_war = yes
		}
			
		x = 1
		y = 1
		relative_position_id = italia_volunteers_for_freedom
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			add_ideas = LVN_women_soldiers #will end after civil war
			custom_effect_tooltip = LVN_emergency_civil_war_tt
		}
	}
	
	focus = {
		id = italia_foreign_aid
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = italia_secure_italy focus = italia_restore_monarchy }
		allow_branch = { NOT = { has_global_flag = LVN_release_the_pope } }
		available = {
			has_civil_war = yes
			NOT = { has_country_flag = LVN_armistice_flag }
			RSI = {
				has_volunteers_amount_from = {
					tag = GER
					count > 1
				}
			}
		}
		
		x = 0
		y = 3
		relative_position_id = italia_topple_duce
		cost = 5

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			custom_effect_tooltip = LVN_help_me_I_suck_tt
			hidden_effect = {
				if = {
					limit = { has_completed_focus = italia_secure_italy }
				every_other_country = { #Mod add something for USA 
					limit = {
						NOT = { has_war_with = ROOT }
						has_civil_war = no
						NOT = { original_tag = ITA }
						NOT = { tag = SWI }
						NOT = { tag = SWE }
						NOT = { has_government = fascism }
						NOT = { original_tag = SPR }
						is_subject = no
						has_tech = gw_artillery
						has_tech = infantry_weapons1
						if = {
							limit = {
								GER = {
									has_government = fascism 
								}
							}
							NOT = { is_in_faction_with = GER }
						}
						capital_scope = { is_on_continent = EUROPE }
						OR = {
							has_government = ROOT 
							has_government = democratic 
						}
					}
					ITA = {
						activate_targeted_decision = {
							target = PREV
							decision = LVN_cw_foreign_weapons
						}
					}
				}
				every_other_country = { #Mod add something for USA 
					limit = {
						NOT = { has_war_with = ROOT }
						NOT = { is_in_faction_with = ROOT }
						NOT = { original_tag = ITA }
						NOT = { tag = SWI }
						NOT = { tag = SWE }
						NOT = { has_government = fascism }
						NOT = { original_tag = SPR }
						has_civil_war = no
						is_major = no
						OR = {
							capital_scope = { is_on_continent = EUROPE }
							tag = TUR 
						}
						OR = {
							has_government = ROOT 
							has_government = democratic 
						}
						num_divisions > 10
					}
					ITA = {
						activate_targeted_decision = {
							target = PREV 
							decision = LVN_support_me_please_I_suck
						}
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = italia_restore_monarchy
				}
				every_other_country = { #Mod add something for USA 
					limit = {
						NOT = { has_war_with = ROOT }
						has_civil_war = no
						NOT = { is_in_faction_with = ROOT }
						NOT = { original_tag = ITA }
						NOT = { tag = SWI }
						NOT = { tag = SWE }
						NOT = { tag = YUG }
						NOT = { has_government = fascism }
						NOT = { original_tag = SPR }
						is_subject = no
						OR = {
							has_tech = gw_artillery
							has_tech = infantry_weapons1
						}
						if = {
							limit = {
								GER = {
									has_government = fascism 
								}
							}
							NOT = { is_in_faction_with = GER }
						}
						capital_scope = { is_on_continent = EUROPE }
					}
					ITA = {
						activate_targeted_decision = {
							target = PREV
							decision = LVN_cw_foreign_weapons
						}
					}
				}
				every_other_country = { #Mod add something for USA 
					limit = {
						NOT = { has_war_with = ROOT }
						NOT = { is_in_faction_with = ROOT }
						NOT = { original_tag = ITA }
						NOT = { tag = SWI }
						NOT = { tag = SWE }
						NOT = { has_government = fascism }
						NOT = { original_tag = SPR }
						is_major = no
						has_civil_war = no
						OR = {
							capital_scope = { is_on_continent = EUROPE }
							tag = TUR 
						}
						has_government = ROOT 
						num_divisions > 10
					}
					ITA = {
						activate_targeted_decision = {
							target = PREV 
							decision = LVN_support_me_please_I_suck
						}
					}
				}
			}
		}
	}
}
	
	focus = {
		id = LVN_deal_with_britain
		icon = GFX_focus_ITA_lvn_british_aid
		prerequisite = { focus = italia_foreign_aid }
		available = {
			has_completed_focus = italia_restore_monarchy
			has_civil_war = yes
			ENG = {
				exists = yes 
				NOT = { has_war_with = ROOT }
				is_subject = no 
				NOT = { has_government = fascism }
				NOT = { has_government = communism }
				NOT = { is_in_faction_with = GER }
				controls_state = 118
			}
		}
		
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		x = 2
		y = 1
		relative_position_id = italia_foreign_aid
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			ENG = { country_event = italia_ita.120 }
			custom_effect_tooltip = LVN_eng_fra_support_tt
			
		}
	}
	
	focus = {
		id = LVN_deal_with_france
		icon = GFX_focus_ITA_lvn_french_aid
		prerequisite = { focus = italia_foreign_aid }
		available = {
			has_completed_focus = italia_secure_italy
			has_civil_war = yes
			FRA = {
				exists = yes 
				NOT = { has_war_with = ROOT }
				is_subject = no 
				has_government = democratic
				NOT = { is_in_faction_with = GER }
				controls_state = 16
			}
		}
		
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		x = -2
		y = 1
		relative_position_id = italia_foreign_aid
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			FRA = { country_event = italia_ita.122 }
			custom_effect_tooltip = LVN_eng_fra_support_tt
			
		}
	}


	
	focus = {
		id = italia_emergency_foreign_factories
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = italia_foreign_aid }
		available = {
			has_civil_war = yes
			NOT = {has_country_flag = LVN_armistice_flag}
			
		}
		
		x = 0
		y = 1
		relative_position_id = italia_foreign_aid
		cost = 5

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_INDUSTRY}
		
		completion_reward = {
			custom_effect_tooltip = LVN_foreign_opinion_for_industries_tt
				add_ideas = LVN_foreign_support_war
				if = { 	
					limit = { 
						country_exists = FRA
						FRA = { has_opinion = { target = ITA value > 50 } } 
					}
					add_offsite_building = { type = arms_factory level = 3 }
					set_country_flag = LVN_FRA_gave_3
				}	
				if = { 
					limit = { 
						country_exists = ENG
						ENG = { has_opinion = { target = ITA value > 50 } } 
					}
					add_offsite_building = { type = arms_factory level = 3 }
					set_country_flag = LVN_ENG_gave_3
				}
		}
	}
	
#Republican Italy: Who wants to be a democracy anyway? 

	focus = {
		id = LVN_restore_civilian_rule
		icon = GFX_goal_anschluss
		prerequisite = { focus = italia_secure_italy }
		available = {
			has_civil_war = no 
			has_global_flag = italian_civil_war_happened
			NOT = { has_country_leader = { name = "Ivanoe Bonomi" ruling_only = yes } }
		}
		
		bypass = { 
			has_global_flag = italian_civil_war_happened
			has_civil_war = no 
			has_country_leader = { name = "Ivanoe Bonomi" ruling_only = yes } 
		}
		
		allow_branch = { 
			NOT = { has_global_flag = LVN_release_the_pope } 
			NOT = { has_country_flag = RSI_tree_completed }
		}
		
		x = 0
		y = 2
		relative_position_id = italia_secure_italy
		cost = 10
		
		ai_will_do = {
			factor = 10
		}

		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}

		completion_reward = {
			add_stability = 0.05
			promote_character = ITA_ivanoe_bonomi
		}
	}
	
	focus = {
		id = italia_women_suffrage #happened in 1945, its optional but offers up more pp if completed for the elections
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = LVN_restore_civilian_rule  }
		available = { 
			has_war = no
		}
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope } 
			NOT = { has_country_flag = RSI_tree_completed }
		}
		
		x = -1
		y = 1
		relative_position_id = LVN_restore_civilian_rule
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_political_power = 60
			add_popularity = {
			    ideology = democratic
			    popularity = 0.1
			}
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
		}
	}
	
	focus = {
		id = LVN_ban_fascist_parties
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = LVN_restore_civilian_rule  }
		available = { 
			has_war = no
		}
		allow_branch = {
			NOT = { has_global_flag = LVN_release_the_pope } 
			NOT = { has_country_flag = RSI_tree_completed }
		}
		
		x = 1
		y = 1
		relative_position_id = LVN_restore_civilian_rule
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			add_political_power = 60
			add_popularity = {
			    ideology = democratic
			    popularity = 0.1
			}
			add_popularity = {
			    ideology = communism
			    popularity = 0.05
			}
			add_timed_idea = {
				idea = GER_clamp_down_on_fascism
				days = 720
			}
		}
	}
			

	focus = {
		id = italia_referendum 
		icon = GFX_focus_ITA_referendum 
		prerequisite = { focus = italia_women_suffrage focus = LVN_ban_fascist_parties }
		available = { 
			has_civil_war = no 
			has_stability > 0.70
			custom_trigger_tooltip = {
				tooltip = owns_all_core_states
				all_of_scopes = {
					array = ITA.core_states
					is_owned_by = ROOT
				}
			}
		}
		
		x = 0
		y = 3
		relative_position_id = LVN_restore_civilian_rule
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
		
		completion_reward = {
			add_political_power = 60
			add_popularity = {
			    ideology = democratic
			    popularity = 0.1
			}
			add_timed_idea = { idea = democratic_influence days = 720 }
		}
	}
	
	focus = {
		id = italia_monarchy_forever
		icon = GFX_focus_ITA_umberto
		prerequisite = { focus = italia_referendum }
		mutually_exclusive = { focus = italia_republicanism focus = italia_socialism }
		available = { 
			has_civil_war = no
			custom_trigger_tooltip = {
				tooltip = LVN_monarchy_trigger_tt
				check_variable = { LVN_kings_party > 29 }
			}
		}
		
		x = 6
		y = 2
		relative_position_id = italia_referendum
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = italia_victor_emmanuel
					}
				swap_ideas = {
					remove_idea = italia_victor_emmanuel
					add_idea = king_umberto 
				}					
			}
			else_if = {
				limit = {
					NOT = { has_idea = king_umberto }
				}
				add_ideas = king_umberto 
			}
			custom_effect_tooltip = italia_monarchy_forever_government_tt
			hidden_effect = { #I switched it up with the democrats (a centrist party), makes a little more sense
				set_party_name = { 
					ideology = neutrality
					long_name = ITA_christian_democrats_long
					name = ITA_christian_democrats
				}
				promote_character = ITA_Alcide_Gasperi
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			set_country_flag = referendum_complete
			set_cosmetic_tag = LVN_constitutional_monarchy
		}
	}
	
	focus = {
		id = italia_republicanism
		icon = GFX_focus_ITA_republic_of_italy
		prerequisite = { focus = italia_referendum }
		mutually_exclusive = { focus = italia_monarchy_forever focus = italia_socialism }
		available = {
			has_civil_war = no
			custom_trigger_tooltip = {
				tooltip = LVN_republic_trigger_tt
				check_variable = { LVN_republic_party > 29 }
			}
			
		}
		
		x = 0
		y = 2
		relative_position_id = italia_referendum
		cost = 5
		
		ai_will_do = {
			factor = 2
		}
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			hidden_effect = {
				set_country_flag = referendum_complete 
				drop_cosmetic_tag = yes 
			}
			set_cosmetic_tag = LVN_ITA_REPUBLIC
			if = {
				limit = {
					has_idea = italia_victor_emmanuel
					}
				remove_ideas = italia_victor_emmanuel
			}
			custom_effect_tooltip = italia_referendum_government_tt
			hidden_effect = {
				set_party_name = { 
					ideology = democratic 
					long_name = ITA_christian_democrats_long
					name = ITA_christian_democrats
				}
				promote_character = ITA_Alcide_Gasperi
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
		custom_effect_tooltip = monarchist_generals_retire_tt
		hidden_effect = {
			every_unit_leader = {
				limit = {
					OR = {
						has_trait = trait_savoy
						has_trait = trait_ITA_monarchist
						has_trait = trait_savoy_admiral
						}
					}
				retire = yes
				}
			}
		}
	}
	
	focus = {
		id = italia_socialism
		icon = GFX_focus_ITA_socialism
		prerequisite = { focus = italia_referendum }
		mutually_exclusive = { focus = italia_monarchy_forever focus = italia_republicanism }
		available = {
			custom_trigger_tooltip = {
				tooltip = LVN_socialist_trigger_tt
				check_variable = { LVN_socialists_party > 29 }
			}
			has_completed_focus = italia_directive_sixteen
		}
		
		x = -6
		y = 2
		relative_position_id = italia_referendum
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			hidden_effect = {
				set_country_flag = referendum_complete 
				drop_cosmetic_tag = yes 
			}
			set_cosmetic_tag = LVN_ITA_REPUBLIC
			if = {
				limit = {
					has_idea = italia_victor_emmanuel }
				remove_ideas = italia_victor_emmanuel
			}
				set_party_name = { 
					ideology = democratic
					long_name = ITA_socialist_long
					name = ITA_socialist
				}
				promote_character = ITA_Pietro_Nenni
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
			
		custom_effect_tooltip = monarchist_generals_retire_tt
		hidden_effect = {
			every_unit_leader = {
				limit = {
					OR = {
						has_trait = trait_savoy
						has_trait = trait_ITA_monarchist
						has_trait = trait_savoy_admiral
						}
					}
				retire = yes
				}
			}
		}
	}
	
#decolonization

	focus = {
		id = italia_compensate_ethiopia
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = italia_monarchy_forever focus = italia_republicanism focus = italia_socialism }
		
		available = {
			OR = {
				ETH = {
					exists = yes 
					is_subject = no 
				}
				271 = { is_controlled_by_ROOT_or_subject = yes }
			}
		}
		
		bypass = {
			hidden_trigger = {
				OR = {
					has_completed_focus = italia_republicanism
					has_completed_focus = italia_monarchy_forever
					has_completed_focus = italia_socialism
				}
			}
			OR = {
				ETH = {
					is_subject = yes
					NOT = { is_subject_of = ROOT }
				}
				AND = {
					ETH = { exists = no }
					271 = { is_controlled_by_ROOT_or_subject = no } 
				}
			}					
		}

		x = 0
		y = 1
		relative_position_id = italia_republicanism
		cost = 5

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50
			ETH = {news_event = { hours = 6 id = italianews.10 }}
			every_country = {
					limit = {
						has_government = democratic 
						capital_scope = { is_on_continent = europe }
					}
					PREV = {
						add_opinion_modifier = { target = ROOT modifier = ITA_compensation_ethiopia_opinion }
					}
			}
		}
	}	
	
	focus = {
		id = italia_independance_east_africa
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = italia_compensate_ethiopia }
		available = {
			OR = {
				550 = { is_controlled_by_ROOT_or_subject = yes }
				271 = { is_controlled_by_ROOT_or_subject = yes }
				559 = { is_controlled_by_ROOT_or_subject = yes }
			}
			has_war = no
		}
		bypass = {
			AND = {
				550 = { is_controlled_by_ROOT_or_subject = no }
				271 = { is_controlled_by_ROOT_or_subject = no }
				559 = { is_controlled_by_ROOT_or_subject = no }
				has_war = no
			}
		}

		x = -1
		y = 1
		relative_position_id = italia_compensate_ethiopia
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 100
			add_manpower = 10000
			if = {
				limit = {
					550 = { is_controlled_by_ROOT_or_subject = yes }
				}
				release = ERI
			}
			if = {
				limit = {
					271 = { is_controlled_by_ROOT_or_subject = yes }
				}
				release = ETH
			}
			if = {
				limit = {
					559 = { is_controlled_by_ROOT_or_subject = yes }
				}
				release = SOM
			}
		}
	}
	
	focus = {
		id = italia_withdraw_contested_territory
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = italia_independance_east_africa }
		available = {
			OR = {
				has_full_control_of_state = 164
				has_full_control_of_state = 163
				has_full_control_of_state = 44
				has_full_control_of_state = 805
			}
			has_war = no
		}
		bypass = {
		}
		x = 0
		y = 1
		relative_position_id = italia_independance_east_africa
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_stability = 0.10
			add_manpower = 5000
			if = {
				limit = {
					has_full_control_of_state = 44
				}
				ALB = {
					transfer_state = 44
					add_opinion_modifier = { target = ITA modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 805
				}
				ALB = {
					transfer_state = 805
					add_opinion_modifier = { target = ITA modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 163
				}
				YUG = {
					transfer_state = 163 #fixed
					add_opinion_modifier = { target = ITA modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 164
				}
				GRE = {
					transfer_state = 164
					add_opinion_modifier = { target = ITA modifier = ENG_returned_our_territory }
				}
			}
		}
	}
	
	focus = {
		id = italia_expanded_citizenship
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = italia_compensate_ethiopia }
		available = {
			448 = { is_controlled_by_ROOT_or_subject = yes }
			449 = { is_controlled_by_ROOT_or_subject = yes }
			450 = { is_controlled_by_ROOT_or_subject = yes }
			451 = { is_controlled_by_ROOT_or_subject = yes }
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_compensate_ethiopia
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = ITA_expanded_citizenship
		}
	}
	
	focus = {
		id = italia_libyan_question
		icon = GFX_focus_ITA_libyan_question
		prerequisite = { focus = italia_expanded_citizenship }
		available = {
			448 = { is_controlled_by_ROOT_or_subject = yes }
			449 = { is_controlled_by_ROOT_or_subject = yes }
			450 = { is_controlled_by_ROOT_or_subject = yes }
			451 = { is_controlled_by_ROOT_or_subject = yes }
			has_war = no
		}
		
		bypass = {
		}

		x = 0
		y = 1
		relative_position_id = italia_expanded_citizenship
		cost = 10
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			if = {				
				limit = {
					all_of_scopes = { #If all of Libya cores are our cores already...
						array = LBA.core_states
						is_core_of = ROOT
					}
				}
				add_political_power = 100
				every_state = {
					limit = {
						is_core_of = LBA
					}
					remove_core_of = LBA 
				}
			}
			else_if = {
				limit = {
					LBA = {
						is_subject_of = ROOT 
					}
				}
				LBA = { country_event = { id = italia_ita.75 days = 2 } }
			}
			else_if = {
				limit = {
					all_of_scopes = { #If all of Libya cores are our cores already...
						array = LBA.core_states
						NOT = { is_core_of = ROOT }
					}
					all_of_scopes = { #If all of Libya cores are our cores already...
						array = LBA.core_states
						is_controlled_by = ROOT
					}
					core_compliance = {
						occupied_country_tag = LBA
						value > 70
					}
				}
				every_state = {
					limit = {
						is_core_of = LBA
					}
					add_core_of = ITA
					remove_core_of = LBA 
				}
			}
			else_if = {
				limit = {
					all_of_scopes = { #If all of Libya cores are our cores already...
						array = LBA.core_states
						NOT = { is_core_of = ROOT }
					}
					all_of_scopes = { #If all of Libya cores are our cores already...
						array = LBA.core_states
						is_controlled_by = ROOT
					}
					core_compliance = {
						occupied_country_tag = LBA
						value < 70
					}
				}
				release = LBA
			}
		}
	}
###############POLICIES #####################	
	focus = {
		id = italia_international_trade_open #OPEN THE MARKETS
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = italia_republicanism focus = italia_monarchy_forever }
		available = {
		}
		bypass = {
		}

		x = 3
		y = 0
		relative_position_id = italia_compensate_ethiopia
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_ideas = free_trade
			every_country = {
					limit = {
						has_government = democratic 
						capital_scope = { is_on_continent = europe }
					}
					PREV = {
						add_opinion_modifier = { target = ROOT modifier = ITA_democracy_leanings_opinion }
					}
			}
		}
	}
	
	focus = {
		id = italia_amnesty_togliatti
		icon = GFX_focus_generic_peace
		prerequisite = { focus = italia_international_trade_open }
		available = {
		}
		bypass = {
		}

		x = 0
		y = 1
		relative_position_id = italia_international_trade_open
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			unlock_decision_category_tooltip = LVN_amnesty_togliatti_cat
			custom_effect_tooltip = LVN_amnesty_togliatti_tt
		}
	}
	
	focus = {
		id = italia_renew_lateran_pact #RENEW THE LATERAN PACTS
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = { focus = italia_international_trade_open }
		available = {
			
		}
		bypass = {
		}

		x = 2
		y = 1
		relative_position_id = italia_international_trade_open
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_political_power = 120
			add_ideas = LVN_italia_lateran_pact
			if =  { #Mod, could add a tooltip to tell players they must not complete renounce the Lateran treaties if they want better per la patria
				limit = { has_idea = ITA_per_la_patria_1 }
				swap_ideas = {
					remove_idea = ITA_per_la_patria_1
					add_idea = ITA_per_la_patria_2
				}
			}
		}
	}
	
	focus = {
		id = italia_heal_political_wound #HEAL THE POLITICAL DIVIDE
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = italia_renew_lateran_pact focus = italia_amnesty_togliatti }
		available = {
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_amnesty_togliatti
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_political_power = 150
			add_popularity = {
			    ideology = democratic
			    popularity = 0.10
			}
		}
	}
	
	focus = {
		id = italia_foreign_expeditions
		icon = GFX_focus_generic_commonwealth_build_infantry
		prerequisite = { focus = italia_heal_political_wound }
		
		x = 0
		y = 1
		relative_position_id = italia_heal_political_wound
		cost = 5

		ai_will_do = {
			factor = 2
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = {
				can_send_volunteers = yes
			}
			add_ideas = LVN_send_volunteers_idea
			if =  {
				limit = { has_idea = ITA_per_la_patria_1 }
				swap_ideas = {
					remove_idea = ITA_per_la_patria_1
					add_idea = ITA_per_la_patria_2
				}
			}
			if =  {
				limit = { has_idea = ITA_per_la_patria_2 }
				swap_ideas = {
					remove_idea = ITA_per_la_patria_2
					add_idea = ITA_per_la_patria_3
				}
			}
		}
	}
	
	focus = {
		id = italia_anti_communist_propaganda
		icon = GFX_focus_spr_crush_the_revolution
		prerequisite = { focus = italia_monarchy_forever }
		available = {
		}
		bypass = {
		}

		x = -1
		y = 1
		relative_position_id = italia_monarchy_forever
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_timed_idea = { idea = LVN_communism_suppress days = 720}
			set_temp_variable = { ITA_anticommunist_support = party_popularity@communism }
			multiply_temp_variable = { ITA_anticommunist_support = -0.25 }
			add_stability = ITA_anticommunist_support
			custom_effect_tooltip = ITA_anticommunist_support_tt
			add_ideas = GER_bulwark_against_bolshevism
			SOV = { 
				add_opinion_modifier = { target = ITA modifier = embargo } 
			}
			hidden_effect = {	
				if = {
					limit = {
						has_idea = communist_influence }
					remove_ideas = communist_influence
				}
			}
			add_war_support = 0.10
		}
	}
	
	focus = {
		id = italia_fatherland_first
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = italia_monarchy_forever }
		available = {
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_monarchy_forever
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_political_power = 60
			add_popularity = {
			    ideology = democratic
			    popularity = 0.10
			}
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.10
			}
			add_war_support = 0.10
			add_ideas = ITA_per_la_patria_1
		}
	}
	
	focus = {
		id = italia_us_arm_equipment
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = italia_international_trade_open focus = italia_fatherland_first }
		available = { #communism support requirement in reference how Italy would not receive Marshall aid if communists stayed in power 
			communism < 0.15
			NOT = { has_war_with = USA }
		}
		bypass = {
		}

		x = 4
		y = 1
		relative_position_id = italia_international_trade_open
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			activate_targeted_decision = { target = USA decision = LVN_purchase_artillery }
			activate_targeted_decision = { target = USA decision = LVN_purchase_military_vehicles }
			activate_targeted_decision = { target = USA decision = LVN_purchase_aircraft }
			activate_targeted_decision = { target = USA decision = LVN_purchase_infantry_equipment }
			activate_targeted_decision = { target = USA decision = LVN_purchase_armor }
			activate_targeted_decision = { target = USA decision = LVN_purchase_ships }

			add_opinion_modifier = { 
				target = USA
				modifier = LVN_strengthened_relations_with_us
			}
			USA = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = LVN_strengthened_relations_with_us
				}
			}

			USA = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = USA
				value = 20
			}
		}
	}
	
	focus = {
		id = italia_haven_persecuted 
		icon = GFX_goal_support_democracy
		prerequisite = { focus = italia_us_arm_equipment }
		available = {
		}
		bypass = {
		}

		x = -1
		y = 1
		relative_position_id = italia_us_arm_equipment
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_stability = 0.10
			add_popularity = {
			    ideology = democratic
			    popularity = 0.05
			}
			add_ideas = ITA_safe_haven_europe
		}
	}
	
	focus = {
		id = italia_il_boom_economico
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = { focus = italia_us_arm_equipment }
		available = {
			NOT = {has_war_with = USA}
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_us_arm_equipment
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = { idea = italia_il_boom_economico_idea days = 1095 }
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					NOT = { state = PREV.PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = italia_fermi_experiment
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = italia_haven_persecuted }
		prerequisite = { focus = italia_il_boom_economico }
		available = {
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_haven_persecuted
		cost = 10
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = ITA_fermi_project
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}
	
	focus = {
		id = italia_manage_inflation
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = italia_socialism focus = italia_republicanism }
		available = {
		}
		bypass = {
		}

		x = 3
		y = 1
		relative_position_id = italia_socialism
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_stability = 0.1
			add_timed_idea = { idea = ITA_manage_inflation days = 720 }
		}
	}

	focus = {
		id = italia_encourage_immigration_home #RETURN OF THE ITALIAN DIASPORA
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = italia_manage_inflation }
		available = {
			has_completed_focus = italia_bella_italia
		}
		bypass = {
		}

		x = 0
		y = 1
		relative_position_id =  italia_manage_inflation
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_timed_idea = { idea = LVN_return_italian_diaspora days = 720 }
		}
	}
	
	focus = {
		id = italia_southern_champions #Southern Miracle
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = italia_encourage_immigration_home }
		available = {
			has_completed_focus = italia_bella_italia
			NOT = { has_idea = LVN_return_italian_diaspora }
		}
		bypass = {
		}

		x = 0
		y = 1
		relative_position_id =  italia_encourage_immigration_home
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					NOT = { state = PREV.PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					NOT = { state = PREV.PREV }
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = italia_coal_steel_community
		icon = GFX_focus_ITA_steel_community
		prerequisite = { focus = italia_consolidation_socialism focus = italia_heal_political_wound }
		available = {
			has_government = democratic
			OR = {
				FRA = {
					is_subject = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
				BEL = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				HOL = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				LUX = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				GER = {
					is_subject = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
			}	
		}
		bypass = {
		}

		x = -4
		y = 1
		relative_position_id = italia_heal_political_wound
		cost = 10
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_stability = 0.1
			add_ideas = ITA_ecsc
			#hidden_effect = {
				every_other_country = {
					limit = {
						OR = {
							original_tag = FRA
							original_tag = BEL
							original_tag = HOL
							original_tag = LUX
							original_tag = GER
						}
						is_subject = no
						NOT = { has_war_with = ROOT }
						OR = { 
							has_government = democratic
							has_government = neutrality
						}
					}
					add_ideas = ITA_ecsc
				}
			#}
			#custom_effect_tooltip = ITA_ecsc_tt
		}
	}
	#########FOCUS TO SEND VOLUNTEERS AS SOCIALIST#############	
	
	focus = {
		id = PSI_help_spanish_cause
		icon = GFX_focus_SOV_support_spanish_poum
		prerequisite = { focus = italia_socialism }
		available = { #some socialist causes
			OR = {
				AND = {
					has_global_flag = spanish_civil_war	
					country_exists = SPC
					SPC = { has_government = communism }
					OR = {
						NOT = { has_global_flag = SPR_anarchist_uprising_flag }
						AND = {
							country_exists = SPC
							NOT = { has_war_with = SPC }
							SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
						}
					}
				}
				AND = {
					SOV = {has_global_flag = SOV_soviet_civil_war}
					SOV = {
						has_completed_focus = SOV_the_right_opposition
					}
				}
				AND = {
					POL = { has_civil_war = yes }
					POL = {
						has_completed_focus = POL_organize_the_peasants_strike
					}
				}
				AND = {
					FRA = { has_civil_war = yes }
					FRA = {
						has_completed_focus = FRA_loyalty_to_the_cause
					}
				}
			}
		}
		
		bypass = {
		}
		
		x = -2
		y = 1
		relative_position_id = italia_socialism
		cost = 5

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_war_support = 0.1
		}
	}
	############
	
	focus = {
		id = italia_enact_socialist_policies
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = italia_socialism }
		available = {
		}
		bypass = {
		}

		x = 0
		y = 1
		relative_position_id = italia_socialism
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 150
			add_popularity = {
			    ideology = communism
			    popularity = 0.10
			}
			set_temp_variable = { ITA_antineutrality_support = party_popularity@neutrality }
			multiply_temp_variable = { ITA_antineutrality_support = -0.25 }
			add_stability = ITA_antineutrality_support
			custom_effect_tooltip = ITA_antineutrality_support_tt
		}
	}
	
	focus = {
		id = italia_embrace_true_marxism
		icon = GFX_focus_spr_unify_the_london_bureau
		prerequisite = { focus = italia_enact_socialist_policies }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = -1
		y = 1
		relative_position_id = italia_enact_socialist_policies
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			add_political_power = 120
			add_stability = 0.05
			add_war_support = 0.10
		}
	}
	
	focus = {
		id = italia_beacon_of_socialism #Completely reworked since recover from civil war was also reworked before
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = italia_enact_socialist_policies }
		prerequisite = { focus = italia_manage_inflation }
		available = {
			
		}
		bypass = {
		}
	
		x = -2
		y = 1
		relative_position_id = italia_manage_inflation
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_stability = 0.10
			add_tech_bonus = {
				name = PSI_industrial_modernization
			    bonus = 1.0
			    uses = 2
			    category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = italia_consolidation_socialism
		icon = GFX_focus_ITA_socialist_plan
		prerequisite = { focus = italia_embrace_true_marxism }
		prerequisite = { focus = italia_beacon_of_socialism }
		available = {
			
		}
		bypass = {
		}
	
		x = 1
		y = 1
		relative_position_id = italia_embrace_true_marxism
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 150
			country_event = { id = italia_ita.40 } # MOD NSB (involves leaders in the event)
		}
	}
	
	focus = {
		id = italia_socialist_unity
		icon = GFX_focus_ITA_socialist_coalition
		prerequisite = { focus = italia_consolidation_socialism }
		available = {
			is_subject = no
			has_government = communism
		}
		bypass = {
		}
	
		x = 0
		y = 1
		relative_position_id = italia_consolidation_socialism
		cost = 10
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = { 
					SPR = { 
						NOT = { has_completed_focus = SPR_unify_the_london_bureau }
					}
				}
				create_faction = SPC_international_bureau_of_revolutionary_socialist_unity
				every_other_country = {
					limit = {
						has_government = communism
						is_in_faction = no
						NOT = {
							capital_scope = {
								is_on_continent = asia
							}
						}
					}
					country_event = { id = lvn_generic.4 hours = 6 random_hours = 6 }
				}
			}
			else_if = {
				limit = { 
					SPR = { 
						has_completed_focus = SPR_unify_the_london_bureau
					}
				}
				ITA = {country_event = { id = lvn_generic.3 hours = 6 random_hours = 6 }}
			}
		}
	}
	
	
	focus = {
		id = italia_accept_british_naval_superiority
		icon = GFX_focus_ITA_british_naval_dominance
		prerequisite = { focus = italia_coal_steel_community }
		mutually_exclusive = { focus = italia_european_union }
		available = {
			is_subject = no
			has_government = democratic 
			ENG = {
				exists = yes
				has_government = democratic
			}
			NOT = { has_war_with = ENG }
		}
		bypass = {
		}
		
		x = 1
		y = 1
		relative_position_id = italia_coal_steel_community
		cost = 10
		
		ai_will_do = {
			factor = 0.9

			modifier = {
				factor = 2
				ai_irrationality < 15
			}
			modifier = {
				factor = 2
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_idea = MTG_naval_treaty_adherent
					}
				}
				add_ideas = MTG_naval_treaty_adherent
			}
			else_if = {
				limit = {
					ENG = {
						has_idea = MTG_naval_treaty_adherent_reduced
					}
				}
				add_ideas = MTG_naval_treaty_adherent_reduced
			}
			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = GER_accept_british_naval_dominance_opinion
				}
			}
			add_ideas = GER_redirecting_naval_production
			#Mod , anything to reduce your fleet power?
		}
	}
	
	focus = {
		id = italia_join_the_allies
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = italia_accept_british_naval_superiority }
		available = {
			is_subject = no
			has_government = democratic 
			ENG = {
				exists = yes
				has_government = democratic
			}
			NOT = { has_war_with = ENG }
		}
		bypass = {
			hidden_trigger = { has_completed_focus = italia_accept_british_naval_superiority }
			is_in_faction_with = ENG
		}
		
		x = 2
		y = 1
		relative_position_id = italia_accept_british_naval_superiority
		cost = 10
		
		ai_will_do = {
			factor = 0.9

			modifier = {
				factor = 2
				ai_irrationality < 15
			}
			modifier = {
				factor = 2
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
		}
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			ENG = { country_event = { id = lvn_generic.3 } }
		}
	}
	
	focus = {
		id = italia_european_union
		icon = GFX_focus_ITA_ECSC
		prerequisite = { focus = italia_coal_steel_community }
		prerequisite = {  }
		mutually_exclusive = { focus = italia_accept_british_naval_superiority }
		available = {
			is_subject = no
			has_government = democratic
			OR = {
				FRA = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				BEL = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				HOL = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				LUX = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}
				GER = {
					is_subject = no
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					NOT = { has_war_with = ROOT }
				}	
			}
		}
		bypass = {
		}
		
		x = -1
		y = 1
		relative_position_id = italia_coal_steel_community
		cost = 10
		
		ai_will_do = {
			factor = 0.9

			modifier = {
				factor = 2
				ai_irrationality < 15
			}
			modifier = {
				factor = 2
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
		}
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = ITA_european_union
			hidden_effect = {
				every_other_country = {
					limit = {
						has_idea = ITA_ecsc
						is_subject = no
						NOT = { has_war_with = ROOT }
						OR = { 
							has_government = democratic
							has_government = neutrality
						}
					}
					ITA = { add_to_faction = PREV }
				}
			}
			custom_effect_tooltip = ITA_militarize_european_union_tt
		}
	}
	
	focus = {
		id = italia_tech_sharing_european_union
		icon = GFX_focus_research2
		prerequisite = { focus = italia_european_union }
		available = {			
			is_subject = no
			has_government = democratic	
		}
		bypass = {		
		}
		
		x = -1		
		y = 1
		relative_position_id = italia_european_union
		cost = 5
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_to_tech_sharing_group = ITA_european_tech_sharing_group
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_to_tech_sharing_group = ITA_european_tech_sharing_group
			}
		}
	}
	
	focus = {
		id = italia_securing_democracies
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = italia_accept_british_naval_superiority focus = italia_european_union }
		available = {			
			threat > 0.50
			has_government = democratic	
		}
		bypass = {		
		}
		
		x = 1		
		y = 1
		relative_position_id = italia_european_union
		cost = 10
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			hidden_effect = {
				every_other_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
						has_government = democratic
						is_major = no
						NOT = { is_in_faction_with = ROOT }
					}
					ITA = { 
						give_guarantee = PREV 

						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 100
						}
					}
				}			
			}
			custom_effect_tooltip = italia_guarantees_freedom_tt
		}
	}
#wargoals - everyone	
	focus = {
		id = italia_liberate_europe
		icon = GFX_focus_spr_anarchism_knows_no_borders
		prerequisite = { focus = italia_socialist_unity }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = 0
		y = 2
		relative_position_id = italia_socialist_unity
		cost = 10
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			custom_effect_tooltip = italia_liberate_workers_tt
			hidden_effect = {
				every_country = {
					limit = {
						NOT = { has_government = communism } 
						NOT = { has_government = democratic } 
						NOT = { is_in_faction_with = ROOT }
						capital_scope = { is_on_continent = europe }
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
					}
				}
			}	
		}
	}
	
	focus = {
		id = italia_mobilisation_proletariat
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = italia_socialist_unity }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = -1
		y = 1
		relative_position_id = italia_socialist_unity
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_ideas = italia_mobilisation_proletariat_idea
		}
	}
	
	focus = {
		id = italia_socialise_the_economy
		icon = GFX_focus_PCI_econ_socialism
		prerequisite = { focus = italia_mobilisation_proletariat }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = -1
		y = 1
		relative_position_id = italia_mobilisation_proletariat
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_stability = 0.05
			add_ideas = italia_economic_socialism
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = { state = PREV }
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = italia_red_guards
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = italia_socialist_unity }
		available = {
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_socialist_unity
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			add_war_support = 0.10
			add_ideas = ITA_red_guards
		}
	}
	focus = {
		id = italia_class_war
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = italia_red_guards }
		available = {
		}
		bypass = {
		}

		x = 1
		y = 1
		relative_position_id = italia_red_guards
		cost = 5
		
		ai_will_do = {
			factor = 0
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_stability = -0.10
			add_ideas = SPR_class_war_3
			if = {
				limit = {
					OR = {
						NOT = {
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
						}
					}
				}
				add_ideas = war_economy
			}
			else_if = {
				limit = {
					OR = {
						has_idea = war_economy
						has_idea = tot_economic_mobilisation
					}
				}
				add_political_power = 150
			}
		}
	}
	
	focus = {
		id = italia_destroy_capitalism_at_once
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = italia_liberate_europe }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = -2
		y = 1
		relative_position_id = italia_liberate_europe
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			custom_effect_tooltip = italia_socialist_wave_tt
			hidden_effect = {
				every_country = {
					limit = {
						NOT = { has_government = communism } 
						NOT = { has_government = democratic } 
						NOT = { is_in_faction_with = ROOT }
						capital_scope = { is_on_continent = north_america }
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
					}
				}
				every_country = {
					limit = {
						NOT = { has_government = communism } 
						NOT = { has_government = democratic } 
						NOT = { is_in_faction_with = ROOT }
						capital_scope = { is_on_continent = south_america }
					}
					ROOT = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_strike_at_source
		icon = GFX_focus_ger_strike_at_the_source
		prerequisite = { focus = italia_securing_democracies focus = italia_liberate_europe }
		available = {
			is_subject = no
			country_exists = SOV
			SOV = { has_government = communism }
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
		}
	
		x = -3
		y = 1
		relative_position_id = italia_securing_democracies
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SOV
					expire = 0
				}
		}
	}
	
	focus = {
		id = italia_tackle_fascism
		icon = GFX_focus_focus_fra_fascist_threat
		prerequisite = { focus = italia_securing_democracies }
		available = {
			is_subject = no
		}
		bypass = {
		}
	
		x = 2
		y = 1
		relative_position_id = italia_securing_democracies
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			every_country = {
				limit = {
					NOT = { TAG = ITA }
					capital_scope = {
						is_on_continent = europe
					}
					has_government = fascism
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
						expire = 0
					}
				}
			}
		}
	}
#sanction japan	
	focus = {
		id = italia_sanction_japan_focus
		icon = GFX_goal_generic_trade
		prerequisite = { focus = italia_join_the_allies }
		available = {
			has_government = democratic
		}
		bypass = {
			has_war_with = JAP
		}
		
		x = 1
		y = 1
		relative_position_id = italia_join_the_allies
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_war_support = 0.10
			JAP = {
				add_opinion_modifier = { target = ITA modifier = embargo }
				add_opinion_modifier = { target = ITA modifier = sanctions_relations } 
			}
		}
	}
	
	focus = {
		id = italia_take_down_japan
		icon = GFX_focus_attack_japan
		prerequisite = { focus = italia_sanction_japan_focus}
		available = {
			OR = {
				if = {
					has_offensive_war = no
					has_government = democratic
					NOT = { is_in_faction_with = JAP }
				}
				if = {
					has_government = neutrality
					NOT = { is_in_faction_with = JAP }
				}
			}
		}
		bypass = {
			has_war_with = JAP
		}

		x = 0
		y = 1
		relative_position_id = italia_sanction_japan_focus
		cost = 5
		will_lead_to_war_with = JAP
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = no
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			} 
		}
	}
##Fascism forever 
focus = {
		id = ITA_victoryinETH
		icon = GFX_focus_ITA_victory_ETH
		allow_branch = {
			if = {
				limit = {
					has_completed_focus = italia_topple_duce
				}
				NOT = { has_country_flag = deposed_mussolini_1 }
			}
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		available = {
			OR = {
				owns_state = 271
				ETH = { is_subject_of = ITA }
			}
		}
		
		x = 34
		y = 0
		relative_position_id = italia_topple_duce
		cost = 5
		
		offset = {
			trigger = { 
					has_country_flag = ITA_fascist_war
			}
			x = -27
			y = 0
		}
			
		
		ai_will_do = {
			factor = 5
		}	
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			unlock_decision_tooltip = form_lvn_east_africa
			add_stability = 0.1
			#add_war_support = 0.1
			#hidden_effect = { mark_focus_tree_layout_dirty = yes } #mod why do we have this
		}
}
	
#CHOOSE YOUR DESTINY: Facist or alt-history
#Fascism forever 
	
####FASCISM BRANCH HISTORICAL

	focus = {
		id = italia_the_hour_of_fate
		icon = GFX_focus_ITA_duce_forever
		prerequisite = { focus = ITA_victoryinETH }
		mutually_exclusive = { focus = ITA_italy_first }
		available = {
			is_subject = no
			NOT = { GER = { has_completed_focus = GER_oppose_hitler }}
		}

		x = 7
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 5
		
		ai_will_do = {
			factor = 2
		}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 120
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 5 }
				}
		}
	}	
	
	focus = {
		id = ITA_review_foreign_policy
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = italia_the_hour_of_fate }
		available = {
			is_subject = no
		}

		x = 0
		y = 2
		relative_position_id = italia_the_hour_of_fate
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 60
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 5 }
				}
			add_opinion_modifier = { target = GER modifier = ITA_german_protocols }
		}
	}
	
	focus = {
		id = ITA_solve_tyrol_goal
		icon = GFX_focus_ITA_tyrol
		prerequisite = { focus = ITA_review_foreign_policy }
		available = {
			NOT = { has_war_with = GER }
			controls_state = 39
			GER = { 
				has_completed_focus = GER_anschluss
				controls_state = 153 }
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_review_foreign_policy
		cost = 5
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				date < 1937.1.1
			}	
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}
		
		completion_reward = {
			GER = { country_event = { id = italia_ita.13 } }
			add_political_power = 120
			add_opinion_modifier = { target = GER modifier = ITA_solved_tyrol_dispute }
		}
		
	}
	
	focus = {
		id = ITA_pact_of_steel
		icon = GFX_focus_ger_reichskommisariats
		prerequisite = { focus = ITA_review_foreign_policy }
		available = {
			has_country_leader = {
				name = "Benito Mussolini"
				ruling_only = yes
						}
				NOT = { has_completed_focus = ITA_italy_first }
				NOT = { has_war_with = GER }
				custom_trigger_tooltip = {
					tooltip = ITA_germ_italy_same_tt
					OR = {
						AND = {
							has_government = fascism
							GER = { 
								has_government = fascism 
								country_exists = GER
							}
						}
						AND = {
							has_government = neutrality
							GER = { 
								has_government = neutrality
								country_exists = GER
							}
						}
						AND = {
							has_government = communism
							GER = { 
								has_government = communism
								country_exists = GER
							}
						}
						AND = {
							has_government = democratic
							GER = { 
								has_government = democratic
								country_exists = GER
							}
						}
					}
				}
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
			is_in_faction = no
		}
		bypass = {
			hidden_trigger = { has_completed_focus = ITA_review_foreign_policy }
			is_in_faction_with = GER
		}
		
		x = 2
		y = 2
		relative_position_id = ITA_review_foreign_policy
		cost = 10
		
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 0.1
				ai_irrationality > 30
			}

			modifier = {
				factor = 0
				OR = {
					GER = { has_completed_focus = GER_reestablish_free_elections }
					GER = { has_completed_focus = GER_expatriate_the_communists }
					date > 1939.4.1
				}
			}
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 120
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
				add_to_faction = ITA
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.184 }
			}
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 10 }
				}
		}
	}
	
	focus = {
		id = ITA_german_rd_treaty
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		cancel = { has_war_with = GER }
		
		x = -1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 10
		
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			# Actual reward effects added in event if GER approve
			effect_tooltip = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.0
					uses = 1
					category = synth_resources
				}
				# Balance research bonus to 2 techs in armor, also in event
				add_tech_bonus = {
					name = armor_bonus
					bonus = 1.0
					uses = 1
					category = armor
				}
			}
		}
	}

	
	focus = {
		id = ITA_german_millitary_cooperation
		icon = GFX_focus_ITA_german_mission
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			NOT = { has_war_with = GER }
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		cancel = { has_war_with = GER }
	
		x = 1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5
		
		ai_will_do = {
			factor = 10
		}	
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			ITALIA_military_ready_plus_5 = yes
			add_ideas = ITA_german_millitary_cooperation_focus
		}
	}
	
	focus = {
		id = italia_afrika_corps
		icon = GFX_focus_ITA_afrika_korps
		prerequisite = { focus = ITA_german_millitary_cooperation }
		available = {
			has_war_together_with = GER
		}
		cancel = { has_war_with = GER }
		
		x = 0
		y = 2
		relative_position_id = ITA_german_millitary_cooperation
		cost = 5
		
		ai_will_do = {
			factor = 10
		}	

		completion_reward = {
			custom_effect_tooltip = afrika_corps_tt
			show_unit_leaders_tooltip = ITA_hans_cramer
			show_unit_leaders_tooltip = ITA_walther_nehring
			hidden_effect = { load_oob = "italyafricacorps_oob" }
		}
	}
	
	focus = {
		id = ITA_japan_friend
		icon = GFX_focus_ITA_jap_ita_navy
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			country_exists = JAP
			JAP = {
				has_government = ROOT
			}
			ITA = { 
				has_government = fascism
				NOT = { has_war_with = JAP }
			}
		}
		bypass = { 
				JAP = { is_subject_of = ITA}
		}
		x = 3
		y = 1	
		relative_position_id = ITA_pact_of_steel
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			ITALIA_military_ready_plus_5 = yes
			add_ideas = Italo_Japanese_military_cooperation
			navy_experience = 25
			add_tech_bonus = {
				name = ita_carrier_focus
				bonus = 1.0
				uses = 1
				category = cv_tech
			}
			
		}
	}
	
	focus = {
		id = LVN_siam_friend
		icon = GFX_focus_ITA_thai
		prerequisite = { focus = ITA_japan_friend }
		available = {
			has_government = fascism
			country_exists = SIA
		}
		
		select_effect = {
			SIA = { 
				add_timed_idea = { idea = fascist_influence days = 730 } 
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
					}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		x = 3
		y = 1	
		relative_position_id = ITA_japan_friend
		cost = 10

		available_if_capitulated = yes
		
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			if = {
				limit = {
					SIA = {
						NOT = { has_government = fascism }
					}
				}
				SIA = { country_event = { id = italia_ita.74 } } #Italy supports coup in Siam
			}
			else_if = {
				SIA = { country_event = lvn_generic.4 }
			}			
		}
	}

	focus = {
		id = italia_purchase_tanks
		icon = GFX_focus_ITA_german_tanks
		prerequisite = { focus = ITA_german_millitary_cooperation }
		available = {
			NOT = { has_idea = ITA_fiat_duopoly }
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_german_millitary_cooperation
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		

		completion_reward = {
			GER = {
			#Latest Medium Tank license
			if = {
				limit = {
					has_tech = advanced_medium_tank
				}
					create_production_license = {
						target = ITA
							equipment = {
							type = medium_tank_equipment_3
								}
							cost_factor = 0
					}
			}
			else_if = {
					limit = {
						has_tech = improved_medium_tank
					}
						create_production_license = {
							target = ITA
								equipment = {
								type = medium_tank_equipment_2
								}
								cost_factor = 0
						}
			}
			else_if = {
					limit = {
						has_tech = basic_medium_tank
						NOT = { has_tech = improved_medium_tank }
					}
						create_production_license = {
							target = ITA
							equipment = {
								type = medium_tank_equipment_1
								}
								cost_factor = 0
						}
			}
			#Latest Heavy Tank license
			if = {
					limit = {
						has_tech = advanced_heavy_tank
						}
						create_production_license = {
							target = ITA
							equipment = {
								type = heavy_tank_equipment_3
								}
								cost_factor = 0
						}
			}
			else_if = {
					limit = {
						has_tech = improved_heavy_tank
						}
						create_production_license = {
							target = ITA
							equipment = {
								type = heavy_tank_equipment_2
								}
								cost_factor = 0
						}
			}
			else_if = {
					limit = {
						has_tech = basic_heavy_tank
					}
						create_production_license = {
							target = ITA
							equipment = {
								type = heavy_tank_equipment_1
							}
								cost_factor = 0
						}
			}
				ITALIA_military_ready_plus_5 = yes					
			}
		}
	}
	
	focus = {
		id = LVN_german_industrial_cooperation
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = italia_purchase_tanks focus = italia_alliance_research_slot }
		x = -1
		y = 1
		relative_position_id = italia_purchase_tanks
		cost = 10
		ai_will_do = {
			base = 10
		}
		
		available = {
			has_government = fascism
			is_in_faction_with = GER
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			GER = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						is_on_continent = europe
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = LVN_wunderwaffe
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = LVN_german_industrial_cooperation }
		x = -1
		y = 1
		relative_position_id = LVN_german_industrial_cooperation
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			is_in_faction_with = GER
			has_government = fascism
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 1
				category = nuclear
			}
		}
	}
	
	focus = {
		id = LVN_italian_panther
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = italia_purchase_tanks }
		prerequisite = { focus = LVN_german_industrial_cooperation }
		x = 0
		y = 2
		relative_position_id = italia_purchase_tanks
		cost = 10
		ai_will_do = {
			base = 10
		}
		
		available = {
			has_tech = improved_medium_tank
			NOT = { has_tech = advanced_medium_tank }
			is_in_faction_with = GER
			GER = {
				has_tech = advanced_medium_tank
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				if = {
					limit = {
						is_core_of = ITA
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = unlock_italian_panther_tt
			hidden_effect = { set_technology = { advanced_medium_tank = 1 } }
		}
	}
	
	
	
	focus = {
		id = italia_german_subs_focus
		icon = GFX_focus_ITA_german_subs
		prerequisite = { focus = ITA_german_millitary_cooperation }
		mutually_exclusive = { focus = italia_new_torpedos }
		available = {
			is_in_faction_with = GER
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_german_millitary_cooperation
		cost = 5
		
		ai_will_do = {
			factor = 10
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			ITALIA_military_ready_plus_5 = yes
			navy_experience = 10
			add_tech_bonus = {
				name = FRA_undersea_combat
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
			add_ideas = italia_german_submarine_idea
		}
	}
	
	focus = {
		id = italia_new_torpedos
		icon = GFX_focus_ITA_new_torpedos
	 	prerequisite = { focus = ITA_japan_friend }
		mutually_exclusive = { focus = italia_german_subs_focus }
		available = {
			OR = {
				is_in_faction_with = JAP
				JAP = { has_completed_focus = JAP_sign_tripartite_pact }
			}
			NOT = { has_war_with = JAP }
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_japan_friend
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			ITALIA_military_ready_plus_5 = yes
			navy_experience = 25
			add_ideas = italia_long_lance_idea
		}
	}

	
	focus = {
		id = italia_alliance_research_slot
		icon = GFX_focus_research2
		prerequisite = { focus = ITA_german_rd_treaty }
		available = {
			ITA = { is_in_faction = yes }
		}

		x = -1
		y = 1
		relative_position_id = ITA_german_rd_treaty
		cost = 10
		
		ai_will_do = {
			factor = 20
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = {FOCUS_FILTER_RESEARCH}
		
		completion_reward = {
			add_research_slot = 1
		}
	}
	
	
#Mystic School
	focus = {
		id = italia_mystic
		icon = GFX_focus_generic_fire_skull
		prerequisite = { focus = ITA_pact_of_steel }
		available = {
			has_government = fascism
		}
		
		x = -3
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5
		
		ai_will_do = {
			factor = 0
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = RSI_niccolo_giani
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 5 }
			}
		}
		
	}
	
	focus = {
		id = italia_8_million_focus
		icon = GFX_focus_ITA_8_million
		prerequisite = { focus = italia_mystic }
		
		available = { 
			has_government = fascism 
			NOT = { has_active_mission = italia_ready_the_military }
			NOT = { has_idea = ITALIA_unprepared_army }
			has_army_manpower = { size > 800000 }
			has_war_support > 0.9
		}
		
		x = 0
		y = 2
		relative_position_id = italia_mystic
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {				
			add_ideas = { eight_million_man_army }
		}
	}
	
	focus = {
		id = italia_loyalty_oath_ITA
		icon = GFX_focus_ITA_oath
		prerequisite = { focus = italia_8_million_focus }
		available = { 
			has_government = fascism
			has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
			FRA = { LVN_we_beat_this_bad_boy = yes }
		}
		
		x = -1
		y = 1
		relative_position_id = italia_8_million_focus
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		available_if_capitulated = yes
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {				
			every_army_leader = {
				limit = {
					AND = {
						NOT = { has_trait = trait_ITA_fascist_loyalties }
						NOT = { has_trait = trait_savoy }
						NOT = { has_trait = trait_ITA_monarchist }
						NOT = { has_trait = trait_german }
					}
				}
				random_list = {
					50 = {
						add_unit_leader_trait = trait_ITA_fascist_loyalties
					}
					50 = {
						#nothing happens
					}
				}
			}
			random_army_leader = {
				limit = {
					OR = {
						has_trait = trait_savoy
						has_trait = trait_ITA_monarchist
					}
				}
			retire = yes
			}
			if = {
				limit = {
					has_country_flag = red_count_is_a_hero
				}
				ILL = {
					every_unit_leader = {
						limit = {
							has_id = 6944
						}
						set_nationality = ROOT
					}
				}
			}
							
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_neg_00_tt
				subtract_from_variable = { var = ita_ready_military_progress value = 5 }
			}
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 10 }
			}
		}
	}
	
#a-historical fascism
	focus = {
		id = ITA_italy_first
		icon = GFX_focus_ITA_italy_first
		prerequisite = { focus = ITA_victoryinETH }
		mutually_exclusive = { focus = italia_the_hour_of_fate }
		available = {
			NOT = { has_completed_focus = italia_the_hour_of_fate }
			is_subject = no
			is_in_faction = no
			has_government = fascism
		}
		
		bypass = {
			hidden_trigger = {
				NOT = { has_completed_focus = italia_the_hour_of_fate }
				has_completed_focus = ITA_victoryinETH
			}
			is_in_faction = yes
			NOT = { is_in_faction_with = GER }
		}
		
		cancel = {
			is_in_faction_with = GER
		}
		
		x = -8
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 5
		
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 2
				ai_irrationality > 20
			}

			modifier = {
				factor = 2
				ai_irrationality > 30
			}

			modifier = {
				factor = 2
				ai_irrationality > 35
			}
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 120
			if = {
				limit = { 
					has_rule = can_create_factions 
				}
				set_rule = { can_create_factions = no }
			}
			if = {
				limit = {
					is_in_faction = yes 
				}
				leave_faction = yes 
			}
			if = {
				limit = {
					GER = { 
						is_in_faction = yes
						is_faction_leader = yes 
					}
				}	
				GER = { 
					dismantle_faction = yes  #No More Axis
					create_faction = LVN_pact_of_blood
				}
			}
			if = {
				limit = {
					GER = { has_country_leader = { name = "Adolf Hitler" ruling_only = yes } }
				}
				GER = {
					add_country_leader_trait = LVN_scorned_hitler
				}
			}

			hidden_effect = {
				news_event = { hours = 6 id = italianews.32 }
			}
		}
	}
	
	focus = {
		id = ITA_easter_accord 
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = italia_the_hour_of_fate focus = ITA_italy_first }
		available = {
			is_subject = no
			has_war = no
			country_exists = ENG
			ENG = {
				NOT = {has_government = communism}
			}
		}

		x = -1
		y = 1
		relative_position_id = italia_the_hour_of_fate
		cost = 5
		
		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 60
			ENG = {add_opinion_modifier = { target = ITA modifier = ITA_easter_accords}}
			custom_effect_tooltip = king_is_pleased
			ROOT = { add_to_variable = { var = king_opinion_level value = 3 } }
			#Mod : secret path with female leader 
		}
	}
	
	focus = {
		id = italia_sword_of_islam
		icon = GFX_focus_ITA_islam
		prerequisite = { focus = italia_the_hour_of_fate focus = ITA_italy_first }
		available = { 
			has_country_leader = { name = "Benito Mussolini" ruling_only = yes } 
		}
		
		x = -3
		y = 0
		relative_position_id = ITA_easter_accord
		cost = 10
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
	
		search_filters = { FOCUS_FILTER_POLITICAL }
			
		completion_reward = {
					
			every_other_country = {
				limit = {
					NOT = { is_subject_of = ITA }
					NOT = { has_government = fascism }
					capital_scope = {
						OR = {
							region = 28
							region = 116
							region = 127
							region = 126
							region = 128
							region = 196
						}
					}
				}
				add_timed_idea = { idea = fascist_influence days = 730 }
			}

		}
	}
	
#rome protocols
	focus = {
		id = italia_rome_protocols
		icon = GFX_focus_ITA_rome_protocols
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = italia_go_with_france focus = italia_med_entente }
		available = {
			is_in_faction = no
			OR = {
				AUS = { exists = yes }
				HUN = { exists = yes }
			}
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_italy_first
		cost = 5
		
		ai_will_do = {
			factor = 2
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					HUN = {
						NOT = { has_government = fascism } }
					}
				HUN = {
					add_timed_idea = { idea = fascist_influence days = 365 }
					}
				}
			if = {
				limit = {
					AUS = { exists = yes }
					GER = { NOT = { has_completed_focus = GER_anschluss } }
					}
				ITA = {
				diplomatic_relation = {
				country = AUS
				relation = guarantee
				active = yes
						}
					}
				HUN = {
				custom_effect_tooltip = hungary_will_guarantee_tt
				hidden_effect = {
				if = { limit = { has_idea = HUN_interventionism_2 }
				swap_ideas = {
				add_idea = HUN_interventionism_2
				remove_idea = HUN_interventionism
					}
				}
				unlock_national_focus = HUN_renew_the_rome_protocols
				complete_national_focus = HUN_protect_austria }
				}
				}	
			if = {
				limit = {
					country_exists = AUS
				}
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
			}
			if = {
				limit = {
					country_exists = HUN
				}
				reverse_add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
			}
			HUN = {
				add_ai_strategy = {
				type = force_build_armies
				value = 100
				}
				add_ai_strategy = { 
				type = alliance
				id = "ITA"			
				value = 200
				}
				add_ai_strategy = { 
				type = alliance
				id = "AUS"			
				value = 200
				}
				add_ai_strategy = { 
				type = ignore
				id = "GER"			
				value = 200
				}
			}
			AUS = {
				add_ai_strategy = {
				type = force_build_armies
				value = 100
				}
				add_ai_strategy = { 
				type = alliance
				id = "AUS"			
				value = 100
				}
				add_ai_strategy = { 
				type = alliance
				id = "HUN"			
				value = 100
				}
				add_ai_strategy = { 
				type = ignore
				id = "GER"			
				value = 200
				}
			}
			ITA = {
				add_ai_strategy = { 
				type = protect
				id = "AUS"			
				value = 200
				}
				add_ai_strategy = { 
				type = alliance
				id = "AUS"			
				value = 200
				}
				add_ai_strategy = { 
				type = alliance
				id = "HUN"			
				value = 200
				}
				add_ai_strategy = { 
				type = ignore
				id = "GER"			
				value = 200
				}
			}
			
		add_to_tech_sharing_group = roman_research
		AUS = {	add_to_tech_sharing_group = roman_research }
		HUN = { add_to_tech_sharing_group = roman_research }			
		}
		
	}
	
	focus = {
		id = italia_austrian_defense
		icon = GFX_focus_ITA_defense_of_austria
		prerequisite = { focus = italia_rome_protocols }
		available = {}

		x = -1
		y = 1
		relative_position_id = italia_rome_protocols
		cost = 5

		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			AUS = {
				add_ideas = deterrence
			}
			HUN = {
				send_equipment = {
				equipment = infantry_equipment
				amount = 500
				target = AUS
				}
			}
			ITA = {
				send_equipment = {
				equipment = infantry_equipment
				amount = 500
				target = AUS
				}
			}
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_neg_05_tt
				add_to_variable = { var = ita_ready_military_progress value = -5 }
			}
		}

	}
	
	focus = {
		id = ITA_balkan_irredentism
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = italia_rome_protocols }
		mutually_exclusive = { }
		available = {

		}
		
		x = 1
		y = 1
		relative_position_id = italia_rome_protocols
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_named_threat = { threat = 3 name = italianews.38.t }
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 10 }
			}
			add_political_power = 120
			ITA = {
				add_state_claim = 804
				add_state_claim = 103
				add_state_claim = 104
				add_state_claim = 105
			}
			AUS = {
				add_state_claim = 102
			}
			HUN = {
				add_state_claim = 45
				add_state_claim = 764
				add_state_claim = 76
				add_state_claim = 84
				add_state_claim = 83
				add_state_claim = 82
			}
			hidden_effect = {		
				news_event = { hours = 12 id = italianews.38 }
			}
		}
	}
	
	focus = {
		id = ITA_bulgaria_friend
		icon = GFX_focus_generic_befriend_bulgaria
		prerequisite = { focus = italia_rome_protocols focus = italia_med_entente }
		available = {
			country_exists = BUL
			NOT = {
				has_war_with = BUL
			}
		}
		
		bypass = {
			hidden_trigger = {
				OR = {
					has_completed_focus = italia_med_entente
					has_completed_focus = italia_rome_protocols
				}
			}
			NOT = { country_exists = BUL }
		}
		
		x = 2
		y = 0
		relative_position_id = ITA_balkan_irredentism
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			BUL = {
				set_country_flag = italian_bulgarian_dynastic_ties
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 730 }
				}
				country_event = { id = generic.1 }
			}
			custom_effect_tooltip = king_is_pleased
			ROOT = { add_to_variable = { var = king_opinion_level value = 3 } }
		}
	}
	
	focus = {
		id = ITA_fate_romania
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_balkan_irredentism }
		prerequisite = { focus = ITA_bulgaria_friend }
		available = {
			has_completed_focus = italia_roman_axis
			NOT = {
				is_in_faction_with = ROM
			}
			
			ROM = { is_in_faction = no }

			OR = {
				is_in_faction_with = BUL
				is_in_faction_with = HUN
			}
			strength_ratio = {
				tag = ROM
				ratio > 1.5
			}
			has_army_manpower = { size > 900000 }
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_balkan_irredentism
		cost = 10
		will_lead_to_war_with = ROM
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					country_exists = ENG
					ENG = { is_subject = no }
					ENG = { has_government = democratic }
				}
				add_named_threat = { threat = 5 name = italia_ita.69.t }
				ENG = { country_event = { id = italia_ita.69 } }
			}
			else_if = {
				limit = {
					AND = { 
						OR = { 
							NOT = { country_exists = ENG }
							NOT = { ENG = { has_government = democratic }}
						}
						OR = {
							NOT = { country_exists = FRA }
							FRA = { has_government = fascism }
						}
					}	
				}
				create_wargoal = {
					type = annex_everything
					target = ROM
				}
			}
			else_if = {
				limit = {
					OR = { 
						has_war_with = FRA
						has_war_with = ENG
					}	
				}
				create_wargoal = {
					type = annex_everything
					target = ROM
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = italia_attack_YUG
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_balkan_irredentism }
		prerequisite = { focus = ITA_bulgaria_friend }
		available = {
			has_completed_focus = italia_roman_axis
			NOT = { is_in_faction_with = YUG }
			YUG = { is_in_faction = no }
			strength_ratio = {
				tag = YUG
				ratio > 1.5
			}
			has_army_manpower = { size > 750000 }
		}
		x = 0
		y = 1
		relative_position_id = ITA_bulgaria_friend
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					country_exists = ENG
					ENG = { is_subject = no }
					ENG = { has_government = democratic }
				}
				add_named_threat = { threat = 5 name = italia_ita.65.t }
				ENG = { country_event = { id = italia_ita.65 } }
			}
			else_if = {
				limit = {
					AND = { 
						OR = { 
							NOT = { country_exists = ENG }
							NOT = { ENG = { has_government = democratic }}
						}
						OR = {
							NOT = { country_exists = FRA }
							FRA = { has_government = fascism }
						}
					}	
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
					expire = 0
				}
			}
			else_if = {
				limit = {
					OR = { 
						has_war_with = FRA
						has_war_with = ENG
					}	
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = italia_savoy_or_war
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = ITA_fate_romania focus = italia_attack_YUG }
		available = {
			country_exists = FRA
			NOT = { FRA = { is_in_faction_with = ROOT }}
			has_army_manpower = { size > 1000000 }
		}
		bypass = {
			OR = {
				has_war_with = FRA
				NOT = { country_exists = FRA }
			}
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_fate_romania
		cost = 10
		will_lead_to_war_with = YUG
		
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_named_threat = { threat = 5 name = italia_ita.95.t }
			FRA = { country_event = { id = italia_ita.95 }}
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel }
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 10 }
			}
		}
	}
	
	focus = {
		id = italia_roman_axis
		icon = GFX_focus_ITA_spqr
		prerequisite = { focus = italia_austrian_defense }
		available = {
			OR = {
				AND = {
					ITA = {
						has_guaranteed = AUS
					}
					AUS = {
						has_defensive_war = yes
					}
					HUN = {
						NOT = { has_offensive_war_with = AUS }
					}
				}
				AND = {
					AUS = { 
						exists = yes 
						has_war = no
					}
					HUN = { 
						exists = yes 
						has_war = no
					}
				}
			}
		}
		bypass = {
			hidden_trigger = { has_completed_focus = italia_austrian_defense }
			AND = {
				ITA = {
					has_guaranteed = AUS
					has_defensive_war_with = GER
				}
				AUS = {
					has_defensive_war_with = GER
				}
				HUN = {
					has_defensive_war_with = GER
				}
			}
			
		}
		
		x = 0
		y = 2
		relative_position_id = italia_austrian_defense
		cost = 10
		
		ai_will_do = {
			factor = 10
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			create_faction = roman_axis_faction
			custom_effect_tooltip = invite_roman_axis_tt
			custom_effect_tooltip = invite_to_faction_balkan_entente_tt
			custom_effect_tooltip = italia_beware_war_tt
			hidden_effect = {
				if = {
					limit = {
						AUS = {
							OR = {	
								is_in_faction = no
								is_in_faction_with = HUN
							}
						}
					}
					add_to_faction = AUS
				}
				if = {
					limit = {
						HUN = {
							OR = {	
								is_in_faction = no
								has_completed_focus = HUN_alliance_with_italy
							}
						}
					}
					add_to_faction = HUN 
				}
				if = {
					limit = {
						BUL = {
							AND = {
								OR = {
									has_country_flag = italian_bulgarian_dynastic_ties
									has_opinion = {
										target = ITA
										value > 49
									} 
								}
								NOT = { has_government = communism }
								has_war = no
							}
						}
						ITA = { has_war = no }
					}
					add_to_faction = BUL
				}
				if = {
					limit = {
						ITA = { 
							has_completed_focus = ITA_spanish_italian_faction 
							has_war = no
						}
						SPR = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
							has_war = no
							has_civil_war = no
						}
					}
					SPR = { country_event = lvn_generic.4 }
				}
			}
			custom_effect_tooltip = King_opinion_good
			ROOT = { add_to_variable = { var = king_opinion_level value = 5 } }
		}
	}

	focus = {
		id = italia_mountain_stratagem #bunkers in Austria to facilitate your defence against a future war with Germany
		icon = GFX_focus_GRE_a_land_of_mountains
		prerequisite = { focus = italia_roman_axis }
		available = {
			country_exists = AUS
			AUS = { is_in_faction_with = ITA }
			threat > 0.05
		}
		bypass = {
		}
		x = 1
		y = 1
		relative_position_id = italia_roman_axis
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			army_experience = 10
			153= {
				set_building_level = {
					type = bunker
					level = 2
					province = 6680
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 6678
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 9636
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 673
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 11634
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 3675
				}						
			}
			152= {
				set_building_level = {
					type = bunker
					level = 2
					province = 6691
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 3684
				}	
				set_building_level = {
					type = bunker
					level = 2
					province = 9650
				}						
			}
		}
	}
	
	focus = {
		id = italia_royal_research
		icon = GFX_focus_ITA_academy
		prerequisite = { focus = italia_mountain_stratagem }
		available = {
			ITA = { is_in_faction = yes }
			num_of_civilian_factories > 49
		}
		
		x = 0
		y = 1
		relative_position_id = italia_mountain_stratagem
		cost = 10

		ai_will_do = {
			factor = 10
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5 }
				add_research_slot = 1
			}
		}
	}
	
#LATIN ALLIANCE
	focus = {
		id = italia_go_with_france
		icon = GFX_focus_chi_reach_out_to_france
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = italia_rome_protocols focus = italia_med_entente }
		available = {
			is_in_faction = no
			date < 1939.01.01
			NOT = { has_war_with = FRA }
			FRA = {
			NOT = { has_government = communism }
			has_opinion = {
				target = ITA
				value > 74
				}
			}
		}
		bypass = {
			is_in_faction_with = FRA
		}
		
		x = -6
		y = 0
		relative_position_id = italia_rome_protocols
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_named_threat = { threat = 2 name = italianews.6.t }
			ITA = {
				add_stability = 0.05
				add_opinion_modifier = { target = FRA modifier = border_conflict_reconciled }
				diplomatic_relation = {
					country = FRA
					relation = guarantee
					active = yes
				}
				transfer_state = 1
				add_state_core = 1
				transfer_state = 665
				transfer_state = 268
				transfer_state = 458
			}
			FRA = {
				set_country_flag = LVN_befriended_me
				add_opinion_modifier = { target = ITA modifier = border_conflict_reconciled }
				diplomatic_relation = {
					country = ITA
					relation = guarantee
					active = yes
				}
				country_event = { id = italia_ita.7 days = 3 }
			}
			news_event = { id = italianews.6 hours = 5 }
			custom_effect_tooltip = King_opinion_good
			ROOT = { add_to_variable = { var = king_opinion_level value = 5 } }
		}
	}
	
	focus = {
		id = italia_align_france
		icon = GFX_focus_ITA_petain
		prerequisite = { focus = italia_go_with_france }
		available = {
			NOT = { has_war_with = FRA }
			FRA = {
				has_civil_war = yes
			}
		}
		
		bypass = {
			hidden_trigger = { has_completed_focus = italia_go_with_france }
			FRA = {
				has_government = fascism 
				has_civil_war = no 
			}
		}
					
		select_effect = {
			FRA = {
				set_country_flag = italia_italy_prepares_to_help 
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_go_with_france
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
	completion_reward = {
		FRA = {
			add_timed_idea = { idea = fascist_influence days = 730 }
			add_ai_strategy = {
				type = alliance
				id = ITA
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = ITA
				value = 200
			}
			country_event = italia_ita.109 
		}
		custom_effect_tooltip = LVN_warning_war_with_FRA_tt
	}
}#Focus close
	
	focus = {
		id = ITA_spanish_italian_faction
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = italia_align_france }
		mutually_exclusive = { focus = italia_secure_spain }
		available = {
			is_puppet = no
			has_global_flag = spanish_civil_war
			if = {
				limit = { has_dlc = "La Resistance" }
				SPA = {
					exists = yes
					is_in_faction = no 
					is_subject = no
					has_civil_war = no
				}
			}
			else_if = {
				any_country_with_original_tag = {
					original_tag_to_check = SPR 
					has_government = fascism 
					has_civil_war = no 
				}
			}
		}
		
		bypass = {
			SPA = { is_in_faction_with = ITA }
		}
		
		select_effect = {
			SPA = { 
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
			}
		}
		
		x = 1
		y = 1
		relative_position_id = italia_align_france
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = { has_dlc = "La Resistance" }
				SPA = { 
					set_country_flag = LVN_befriended_me
					add_timed_idea = {
						idea = fascist_influence
						days = 365
					}
				}
			}
			else_if = {
				random_other_country = {
					limit = {
						original_tag = SPR
					}
					set_country_flag = LVN_befriended_me
					add_timed_idea = {
						idea = fascist_influence
						days = 365
					}
				}
			}									
		}
	}
	
	focus = {
		id = italia_secure_spain
		icon = GFX_focus_ITA_attack_SPR
		prerequisite = { focus = italia_align_france }
		mutually_exclusive = { focus = ITA_spanish_italian_faction }
		available = {
			is_puppet = no
			has_global_flag = spanish_civil_war
			OR = {
				any_country_with_original_tag = {
					original_tag_to_check = SPR 
					has_government = fascism 
					has_civil_war = yes 
				}
				any_country_with_original_tag = {
					original_tag_to_check = SPR 
					has_government = democratic 
					has_civil_war = no 
				}
			}
			has_army_manpower = { size > 500000 }
		}
		bypass = {
			has_global_flag = spanish_civil_war
			NOT = {
				any_country_with_original_tag = {
					original_tag_to_check = SPR 
					has_civil_war = yes 
				}
			}
		}
		
		x = -1
		y = 1
		relative_position_id = italia_align_france
		cost = 10
		will_lead_to_war_with = SPR
		
		ai_will_do = {
			factor = 1
		}	
		
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR
						has_government = fascism
						has_civil_war = yes
					}
				}
				ROOT = {
					add_to_war = { 
						targeted_alliance = PREV 
						enemy = SPR
						hostility_reason = asked_to_join
					}
				}
			}
			else_if = {
				limit = {
					SPR = {
						exists = yes
						has_civil_war = no 
						has_government = democratic
					}
				}
				declare_war_on = {
					type = puppet_wargoal_focus
					target = SPR
				}
			}
		}
	}	
	focus = {
		id = italia_latin_entente
		icon = GFX_focus_ITA_latin_bloc
		prerequisite = { focus = italia_secure_spain focus = ITA_spanish_italian_faction }
		
		available = {
			is_subject = no
			OR = {
				country_exists = SPA
				country_exists = FRA
				country_exists = POR
				country_exists = ROM
			}
		}
		
		bypass = {
			AND = {
				is_in_faction_with = POR
				is_in_faction_with = SPA
				is_in_faction_with = FRA
				is_in_faction_with = ROM
			}			
		}
		
		x = 0
		y = 2
		relative_position_id = italia_align_france
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = latin_entente
			hidden_effect = {
				every_other_country = {
					limit = {
						OR = {
							has_country_flag = LVN_befriended_me
							tag = FRA 
						}
						is_ai = yes
						is_subject = no
						is_in_faction = yes 
						NOT = { is_in_faction_with = ROOT }
					}
					leave_faction = yes 
				}
			}
			if = {
				limit = {
					FRA = {
						has_government = fascism 
						is_ai = yes
					}
				}
				add_to_faction = FRA 
			}
			if = {
				limit = {
					POR = { 
						has_country_flag = LVN_befriended_me
						is_ai = yes 
					}
				}
				add_to_faction = POR 
			}
			if = {
				limit = {
					ROM = { 
						has_country_flag = LVN_befriended_me
						is_ai = yes 
					}
				}
				add_to_faction = ROM 
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
					SPA = {
						exists = yes 
					}
				}
				add_to_faction = SPA 
			}
			else_if = {
				limit = {
					SPR = {
						has_government = fascism 
						has_country_flag = LVN_befriended_me
						is_ai = yes
					}
				}
				add_to_faction = SPR 
			}
			every_country = {
				limit = {
					has_country_flag = LVN_befriended_me
					OR = {
						AND = {
							NOT = { tag = FRA }
							NOT = { original_tag = SPR }
							NOT = { original_tag = ROM }
							NOT = { original_tag = POR }
						}
						is_ai = no 
					}
					is_subject = no 
				}
				country_event = lvn_generic.4
			}
			custom_effect_tooltip = King_opinion_good
			add_to_variable = { var = king_opinion_level value = 5 }
		}
	}
	
	#befriend options
	focus = {
		id = ITA_romania_friend
		icon = GFX_focus_invite_romania
		prerequisite = { focus = italia_go_with_france }
		available = {
			ROM = {
				exists = yes 
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_war_with = ROOT }
				is_subject = no 
			}
		}
		bypass = {
			hidden_trigger = { has_completed_focus = italia_go_with_france }
			ROM = {
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		
		x = 2
		y = 0
		relative_position_id = italia_align_france
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			ROM = {
				if = {
					limit = { has_idea = neutrality_idea }
					remove_ideas = neutrality_idea
				}
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = GER_align_romania days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 730 }
				}
				set_country_flag = LVN_befriended_me
				country_event = { id = generic.1 }
			}
		}
	}
	
	focus = {
		id = ITA_portugal_friend
		icon = GFX_focus_generic_befriend_portugal
		prerequisite = { focus = italia_go_with_france }
		available = {
			POR = {
				exists = yes 
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_war_with = ROOT }
				is_subject = no 
			}
		}
		bypass = {
			hidden_trigger = { has_completed_focus = italia_go_with_france }
			POR = {
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		
		x = -2
		y = 0
		relative_position_id = italia_align_france
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			POR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 730 }
				}
				country_event = { id = generic.1 }
				set_country_flag = LVN_befriended_me
			}
		}
	}
	
	focus = {
		id = LVN_iberian_defense
		icon = GFX_focus_ITA_coastal_forts
		prerequisite = { focus = ITA_portugal_friend }
		available = {
			POR = { is_in_faction_with = ROOT }
			any_country_with_original_tag = {
				original_tag_to_check = SPR 
				is_in_faction_with = ROOT 
			}
			has_tech = construction2
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_portugal_friend
		cost = 5
		
		ai_will_do = {
			factor = 0.1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			POR = {
				add_ideas = deterrence
				every_owned_state = {
					limit = {
						is_coastal = yes 
						is_fully_controlled_by = POR 
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							level < 3
						}
					}
				}
			}
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism 
				}
				add_ideas = deterrence
				every_owned_state = {
					limit = {
						is_coastal = yes 
						is_fully_controlled_by = POR 
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							level < 3
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = LVN_defend_rom_oil
		icon = GFX_focus_generic_LVN_defense
		prerequisite = { focus = ITA_romania_friend }
		available = {
			ROM = { is_in_faction_with = ROOT }
			46 = { is_fully_controlled_by = ROM }
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_romania_friend
		cost = 5
		
		ai_will_do = {
			factor = 0.1
		}
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			ROM = {
				add_ideas = deterrence
				46 = {
					add_building_construction = {
						type = anti_air_building
						level = 3
					}				
				}
			}		
		}
	}
	
#shared with Stresa Front - Monarchy
	focus = {
		id = italia_help_industrialisation_self
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = italia_latin_entente focus = italia_stres_fr_agreement }
		allow_branch = { 
			original_tag = ITA
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		available = {
			FRA = { 
				is_subject = no
				is_in_faction_with = ROOT
				has_civil_war = no
			}
		}

		x = -3
		y = 1
		relative_position_id = LVN_iberian_defense
		
		offset = {
			trigger = { 
					has_country_flag = ITA_fascist_war
			}
			x = -25
			y = 0
		}
		
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military 
				}
				custom_effect_tooltip = ita_military_readiness_10_tt
				add_to_variable = { var = ita_ready_military_progress value = 10 }
			}
			activate_targeted_decision = { target = FRA decision = LVN_purchase_artillery }
			activate_targeted_decision = { target = FRA decision = LVN_purchase_infantry_equipment }
			FRA = { country_event = { id = italia_ita.37 hours = 10 } }
		}
	}
	
	focus = {
		id = italia_assume_land_military_supremacy
		icon = GFX_focus_ITA_conscription
		prerequisite = { focus = italia_help_industrialisation_self }
		
		available = {
			is_in_faction_with = FRA
			has_army_manpower = {
				size > 650000
			}
			strength_ratio = { tag = FRA ratio > 0.66 }
		}

		x = 0
		y = 1
		relative_position_id = italia_help_industrialisation_self
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			add_ideas = ITA_assume_army_command
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					is_on_continent = europe
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
							is_on_continent = europe
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = italia_latin_research #European Schools
		icon = GFX_focus_generic_western_science
		prerequisite = { focus = italia_assume_land_military_supremacy }
		available = {
			is_in_faction = yes
		}

		x = 0
		y = 1
		relative_position_id = italia_assume_land_military_supremacy
		cost = 10

		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5 }
				add_research_slot = 1
			}
			add_to_tech_sharing_group = LVN_latin_research_group
			if = {
				limit = {
					SPA = {
						is_in_faction_with = ROOT
					}
				}
				SPA = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					FRA = {
						is_in_faction_with = ROOT
					}
				}
				FRA = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					POR = {
						is_in_faction_with = ROOT
					}
				}
				POR = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = ROOT
					}
				}
				ROM = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					CZE = {
						is_in_faction_with = ROOT
					}
				}
				CZE = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					POL = {
						is_in_faction_with = ROOT
					}
				}
				POL = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
			if = {
				limit = {
					YUG = {
						is_in_faction_with = ROOT
					}
				}
				YUG = {
					add_to_tech_sharing_group = LVN_latin_research_group
				}
			}
		}
	}
	
	
#med entente focuses
	focus = {
		id = italia_med_entente
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = italia_go_with_france focus = italia_rome_protocols }
		available = {
			is_subject = no
		}
		
		x = 6
		y = 0
		relative_position_id = italia_rome_protocols
		cost = 10
		
		ai_will_do = { factor = 3 }
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
			
		completion_reward = {
			add_political_power = 150
			add_stability = 0.1
			news_event = { id = italianews.8 days = 1 }
		}
		
	}
	
	focus = {
		id = ITA_befriend_turkey
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = italia_med_entente }
		
		x = -1
		y = 1
		relative_position_id = italia_med_entente
		cost = 10
		ai_will_do = {
			base = 10
		}
		select_effect = {
			TUR = {
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 730 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 730 }
				}
				country_event = { id = generic.1 }
				set_country_flag = LVN_befriended_me
			}
			#Mod Turkey event to plot an assassination against Ataturk? 
		}
	}
	
	focus = {
		id = ITA_albania_friend
		icon = GFX_focus_ITA_friend_ALB
		prerequisite = { focus = italia_med_entente }
		available = {
			is_subject = no
			country_exists = ALB
			NOT = { has_completed_focus = ITA_fate_albania }
			NOT = { has_completed_focus = ITA_albania_war_goal }
			ALB = {
				NOT = { has_war_with = ROOT }
				is_subject = no 
			}	
		}
		
		select_effect = {
			ALB = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_timed_idea = { idea = fascist_influence days = 730 }
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
				set_country_flag = LVN_befriended_me
			}
		}
		
		x = 1
		y = 1
		relative_position_id =  italia_med_entente
		cost = 5
		
		ai_will_do = { factor = 1 }
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
			
		completion_reward = {
			ALB = {
				country_event = { id = italia_ita.73 }
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
			}
		}
		
	}
	
	focus = {
		id = LVN_med_security
		icon = GFX_focus_generic_aegean_sea_focus
		prerequisite = { focus = ITA_befriend_turkey }
		x = 0
		y = 1
		relative_position_id = ITA_befriend_turkey
		cost = 10
		ai_will_do = {
			base = 10
		}
		select_effect = {

		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5 }
				add_research_slot = 1
			}
			add_to_tech_sharing_group = LVN_med_entente_research_group
			164 = {
				if = {
					limit = {
						164 = {
							is_controlled_by = ITA
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
			TUR = {
				add_to_tech_sharing_group = LVN_med_entente_research_group
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
				342 = {
					if = {
						limit = {
							342 = {
								is_controlled_by = TUR
								free_building_slots = {
									building = dockyard
									size > 1
									include_locked = yes
								}
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = dockyard
							level = 3
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					GRE = { 
						has_country_flag = LVN_befriended_me 
						NOT = { has_war_with = ROOT }
						NOT = { has_war_with = TUR }
						OR = {
							is_in_faction_with = ROOT 
							is_in_faction = no
						}
					}
				}
				GRE = {
					add_to_tech_sharing_group = LVN_med_entente_research_group
					add_ai_strategy = {
						type = alliance
						id = ITA
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = ITA
						value = 200
					}
					random_owned_controlled_state = {
						limit = {
							is_coastal = yes 
							free_building_slots = {
								building = dockyard
								size > 1
								include_locked = yes
							}	
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = dockyard
							level = 3
							instant_build = yes
						}
					}
				}
			}
					
			hidden_effect = {
				news_event = {
					hours = 6 id = news.188
				}
			}
		}
	}
	
	focus = {
		id = ITA_turkey_friend
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = LVN_med_security }
		available = {
			NOT = { has_completed_focus = ITA_claims_on_turkey }
			TUR = {
				exists = yes
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		
		x = 0
		y = 1
		relative_position_id = LVN_med_security
		cost = 5
		
		ai_will_do = { factor = 3 }
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
			
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no 
				}
				set_rule = { can_create_factions = yes }
				create_faction = ITA_med_entente
			}
			add_to_faction = TUR
			custom_effect_tooltip = invite_to_faction_balkan_entente_tt
			if = {
				limit = {
					has_idea = italia_victor_emmanuel
				}
				custom_effect_tooltip = King_opinion_good
				ITA = { add_to_variable = { var = king_opinion_level value = 5 } }
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						has_country_flag = LVN_befriended_me
						is_subject = no
						NOT = { has_war_with = ROOT }
					}
					country_event = lvn_generic.4
				}
				if = {
					limit = {
						ITA = { has_completed_focus = ITA_spanish_italian_faction }
						SPR = {
							OR = {
								is_subject = no
								is_subject_of = ROOT
							}
						}
					}
					SPR = { country_event = lvn_generic.4 }
				}
			}
		}
		
	}
	
	focus = {
		id = ITA_around_the_alps #Operation Green, this title is used because if france cedes, it would not make sense anymore
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = italia_savoy_or_war focus = ITA_turkey_friend }
		available = {
		}
		
		x = 0
		y = 1
		relative_position_id = italia_savoy_or_war
		cost = 2
		
		ai_will_do = { factor = 3 }
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
			
		completion_reward = {
			add_timed_idea = { idea = LVN_surprise_invasion days = 140 }
			if = {
				limit = { has_war_with = FRA }
				create_wargoal = {
					type = annex_everything
					target = SWI
					expire = 0
				}
			}
		}
	}
	
	
#latin entente part 2
	
	focus = {
		id = italia_propaganda_latin
		icon = GFX_focus_generic_strike_at_democracy2
		prerequisite = { focus = italia_latin_entente }
		available = {				
		}
		
		x = 2
		y = 1
		relative_position_id = italia_latin_entente
		cost = 10
		
		ai_will_do = {
			factor = 10
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_political_power = 120
			add_stability = 0.10
			add_timed_idea = { idea = LVN_latin_propaganda days = 720 }
			every_country = {
				limit = { 
					is_in_faction_with = ITA 
					NOT = { original_tag = ITA } 
				} 
				if ={ 
					limit = { has_government = fascism } 
					add_stability = 0.10
				} 
				else_if ={ 
					limit = { NOT = { has_government = fascism } } 
					add_stability = -0.10
				} 
				add_timed_idea = { idea = LVN_latin_propaganda days = 720 }
			}
		}
	}
	
	focus = {
		id = italia_war_albania
		icon = GFX_focus_ITA_albania
		prerequisite = { focus = italia_roman_axis focus = italia_latin_entente }
		available = {
		}
		bypass = {
			OR = {
				NOT = { country_exists = ALB }
				ALB = { is_puppet_of = ITA }
			}
		}
		
		x = 4
		y = 1
		relative_position_id = italia_latin_entente
		cost = 5
		will_lead_to_war_with = ALB
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.1.1
			}	
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			ALB = { country_event = { id = italy.3 } }
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_neg_05_tt
				add_to_variable = { var = ita_ready_military_progress value = -5 }
			}
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel 
				}
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 5 }
			}
		}
	}
	
	focus = {
		id = italia_war_greece
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = italia_war_albania  }
		available = {
			is_puppet = no
			GRE = {
				exists = yes
			}
			NOT = { GRE = { is_in_faction_with = ITA } }
			has_army_manpower = { size > 600000 }
		}
		bypass = {
			OR = {
				NOT = { country_exists = GRE }
				GRE = { is_puppet_of = ITA }
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_war_albania
		cost = 5
		will_lead_to_war_with = GRE
		
		ai_will_do = {
			factor = 10
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = GRE
				generator = { 182 185 186 187 }
			}
		}
	}
	
	focus = {
		id = italia_fate_of_yugoslavia
		icon = GFX_focus_ITA_attack_YUG
		prerequisite = { focus = italia_propaganda_latin }
		available = {
			is_puppet = no
			YUG = {
				exists = yes
			}
			YUG = { NOT = { is_in_faction_with = ITA }}			
			has_army_manpower = { size > 600000 }
		}
		bypass = {
			OR = {
				NOT = { country_exists = YUG }
				YUG = { is_puppet_of = ITA }
			}
		}
		
		x = -4
		y = 2
		relative_position_id = italia_propaganda_latin
		cost = 5
		will_lead_to_war_with = YUG
		
		ai_will_do = {
			factor = 10
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = YUG
				generator = { 102 103 }
			}
		}
	}
	
	focus = {
		id = italia_war_bulgaria
		icon = GFX_focus_generic_attack_bulgaria
		prerequisite = { focus = italia_fate_of_yugoslavia }
		available = {
			is_puppet = no
			BUL = {
				exists = yes
			}
			NOT = { BUL = { is_in_faction_with = ITA } }	
		}
		bypass = {
			OR = {
				NOT = { country_exists = BUL }
				BUL = { is_puppet_of = ITA }
			}
		}
		
		x = 1
		y = 1
		relative_position_id = italia_fate_of_yugoslavia
		cost = 10
		will_lead_to_war_with = BUL
		
		ai_will_do = {
			factor = 10
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BUL
				expire = 0
			}
		}
	}
	
	focus = {
		id = italia_secure_hungary
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = italia_fate_of_yugoslavia }
		available = {
			is_puppet = no
			HUN = {
				exists = yes
			}
			NOT = { HUN = { is_in_faction_with = ITA } }
			has_army_manpower = { size > 800000 }
		}
		bypass = {
			OR = {
				NOT = { country_exists = HUN }
				HUN = { is_puppet_of = ITA }
			}
		}
		
		x = -1
		y = 1
		relative_position_id = italia_fate_of_yugoslavia
		cost = 5
		will_lead_to_war_with = HUN
		
		ai_will_do = {
			factor = 10
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = HUN
				expire = 0
			}
		}
	}
	
	focus = {
		id = italia_recovery_aid_fascist_spain
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = italia_latin_entente }
		available = {
			is_puppet = no
			if = {
				limit = { 
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes 
					has_civil_war = no 
				}
			}
			else_if = {
				SPR = {
					has_government = ROOT 
					has_civil_war = no 
				}
			}
		}
		bypass = {
		}
		
		select_effect = {
			SPA = { 
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_latin_entente
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_neg_05_tt
				add_to_variable = { var = ita_ready_military_progress value = -5 }
			}
			if = {
				limit = { SPA = { has_idea = SPA_recovering_from_civil_war }}
				SPA = {add_ideas = SPA_recovering_from_civil_war_2}
			}
			else_if = {
				limit = { SPA = { has_idea = SPA_recovering_from_civil_war_2 }}
				SPA = {add_ideas = SPA_recovering_from_civil_war_3}
			}
			else_if = {
				limit = { SPA = { has_idea = SPA_recovering_from_civil_war_3 }}
				SPA = {remove_ideas = SPA_recovering_from_civil_war_3}
			}
			if = {
				limit = { NOT = { SPA = { has_idea = SPA_fascist_economic_aid }}}
				SPA = {add_ideas = SPA_fascist_economic_aid}
			}
			add_ideas = LVN_receiving_payment_country_generic
		}
	}
	
	focus = {
		id = italia_expand_latin_axis
		icon = GFX_focus_ITA_expand_latin_axis
		prerequisite = { focus = italia_propaganda_latin }
		available = {
			is_puppet = no
			has_army_manpower = { size > 999999 }
		}
		
		select_effect = {
			every_other_country = { #USA won't be happy about this!
				limit = {
					capital_scope = { is_on_continent = south_america }
					NOT = { is_subject_of = ENG }
					NOT = { is_subject_of = HOL }
					NOT = { tag = GUY }
					NOT = { tag = SUR }
				}
				add_timed_idea = {
					idea = fascist_influence
					days = 365
				}
			}
		}
		
		x = 0
		y = 1
		relative_position_id = italia_propaganda_latin
		cost = 10
		
		ai_will_do = {
			factor = 10
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = LVN_we_backed_down_latin_flag }
				}
				every_other_country = { #USA won't be happy about this!
					limit = {
						capital_scope = { is_on_continent = south_america }
						NOT = { is_subject_of = ENG }
						NOT = { is_subject_of = HOL }
						NOT = { tag = GUY }
						NOT = { tag = SUR }
					}
					country_event = lvn_generic.4
				}
			}
		}
	}
	
	focus = {
		id = italia_united_latin_world
		icon = GFX_focus_spa_the_war_of_vengeance
		prerequisite = { focus = italia_expand_latin_axis }
		available = {
			is_puppet = no
			LVN_controls_atlantic_port = yes
		}
		

		
		x = 0
		y = 1
		relative_position_id = italia_expand_latin_axis
		cost = 10
		
		ai_will_do = {
			factor = 10
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					AND =  {	
						NOT = { PHI = { is_in_faction_with = ITA }}
						SPA = { is_in_faction_with = ROOT}
					}
				}
				SPA = {
					create_wargoal = {
						type = annex_everything
						target = PHI
						expire = 0
					}
				}
			}
			every_other_country = {
				limit = {
					capital_scope = { is_on_continent = south_america }
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
					NOT = { has_war_with = ROOT }
					NOT = { has_war_together_with = ROOT }
				}
				ITA = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}

			ITA = {
				create_wargoal = {
					target = MEX
					type = puppet_wargoal_focus
					expire = 0
				}
			}
			
			every_country = {
				limit = {
					OR = {
						has_full_control_of_state = 466
						has_full_control_of_state = 468
					}
				}
				FRA = {
					create_wargoal = {
						target = PREV
						type = take_state_focus
						generator = { 468 466 }
					}
				}
			}
		}
	}
#in common with Stresa Front 	
	focus = {
		id = ITA_tackle_barbarian_threat
		icon = GFX_focus_attack_germany
		prerequisite = { focus = italia_secure_hungary focus = italia_invite_rom focus = italia_invite_yugo }
		mutually_exclusive = { focus = ITA_strike_england }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = GER }
			has_army_manpower = { size > 1000000 }
		}
		
		allow_branch = { 
			original_tag = ITA
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		bypass = {
			OR = {
				has_war_with = GER
				GER = {is_puppet_of = ITA}
				NOT = {country_exists = GER}
			}
		}
		
		
		x = 1
		y = 1
		relative_position_id = italia_invite_yugo
		cost = 10
		will_lead_to_war_with = GER
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = GER
				expire = 0
				generator = { 42 50 51 52 55 56 57 }
			} 
		}
	}
	
	focus = {
		id = ITA_strike_england
		icon = GFX_focus_attack_britain
		prerequisite = { focus = italia_secure_hungary focus = italia_invite_rom focus = italia_invite_yugo }
		mutually_exclusive = { focus = ITA_tackle_barbarian_threat }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = ENG }
			is_in_faction_with = FRA
			ROOT = {
				naval_strength_comparison = {
				other = ENG
				ratio > 0.80
				}
			}
		}
		allow_branch = { 
			original_tag = ITA
			NOT = { has_global_flag = LVN_release_the_pope }
		}
		
		bypass = {
			OR = {
				has_war_with = ENG
				ENG = {is_puppet_of = ITA}
				NOT = {country_exists = ENG}
			}
		}
		
		
		x = 2
		y = 0
		relative_position_id = ITA_tackle_barbarian_threat
		cost = 10
		will_lead_to_war_with = ENG
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = ENG
				expire = 0
			}	
		}
	}
	
	focus = {
		id = ITA_secure_tianjin
		icon = GFX_focus_ITA_tianjin
		prerequisite = { focus = ITA_strike_england focus = ITA_tackle_barbarian_threat }
		available = {
			is_subject = no
		}
		bypass = {
			ITA = { has_full_control_of_state = 608 }
		}
		
		
		x = 1
		y = 1
		relative_position_id = ITA_tackle_barbarian_threat
		cost = 5
		will_lead_to_war_with = CHI
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			hidden_effect = {
				random_other_country = {
					limit = {
						controls_state = 608
					}
					save_event_target_as = LVN_controls_china
				}
				ITA = { 
					create_wargoal = { 
						type = take_state_focus
						target = event_target:LVN_controls_china
						generator = { 608 }
					}
				}
			}
			custom_effect_tooltip = LVN_secure_china_tt
		}
	}
	
	focus = {
		id = ITA_pre_empt_the_ideological_threat
		icon = GFX_focus_ITA_soviet_menace
		prerequisite = { focus = italia_bulwark_against_bolshevism }	
		available = {
			is_subject = no
			NOT = { is_in_faction_with = SOV }
		}
		bypass = {
			OR = {
				has_war_with = SOV
				SOV = {is_puppet_of = ITA}
				NOT = {country_exists = SOV}
			}
		}
		
		x = 0
		y = 2
		relative_position_id = italia_bulwark_against_bolshevism
		cost = 5
		will_lead_to_war_with = SOV
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }		
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = ITA_toward_new_europe
		icon = GFX_focus_ITA_new_europe
		prerequisite = { focus = ITA_around_the_alps }	
		available = {
		}
		bypass = {
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_around_the_alps
		cost = 5
		
		ai_will_do = {
		}
		
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL }		
		
		completion_reward = {
			add_political_power = 120
			if = {
				limit = {
					FRA = {
						exists = yes
						NOT = { is_in_faction_with = ROOT }
						is_subject = no 
					}
				}
				add_state_claim = 735
				add_state_claim = 665
				add_state_claim = 458
				add_state_claim = 1
				create_wargoal = {
					type = take_claimed_state
					target = FRA
					expire = 0
				}
			}
			else_if = {
				limit = {
					OR = {
						FRA = { is_subject_of = ROOT }
						all_of_scopes = { #If we control all of France
							array = FRA.core_states
							is_controlled_by = ROOT
						}
					}
				}
				#mod decision to form your own Vichy 
			}
			else_if = {
				limit = {
					735 = {
						CONTROLLER = {
							OR = {
								tag = GER 
								tag = FRA 
							}
						}
					}
					1 = {
						CONTROLLER = {
							OR = {
								tag = GER 
								tag = FRA 
							}
						}
					}
					665 = {
						CONTROLLER = {
							OR = {
								tag = GER 
								tag = FRA 
							}
						}
					}
					458 = {
						CONTROLLER = {
							OR = {
								tag = GER 
								tag = FRA 
							}
						}
					}
					OR = {
						FRA = { 
							is_subject_of = GER 
							is_in_faction_with = GER
						}
					}
				}
				random_country = {
					limit = {
						is_in_faction_with = GER 
						is_faction_leader = yes 
					}
					country_event = italia_ita.99
				}
			}			
		}
	}
	
	
#diplomacy befriend or war - historical and Med entente	
	
	focus = {
		id = ITA_yugoslavia_friend
		icon = GFX_focus_invite_yugoslavia
		prerequisite = { focus = italia_med_entente focus = ITA_review_foreign_policy }
		mutually_exclusive = { focus = ITA_slovenia_dalmatia_claims }
		available = {
			country_exists = YUG
			NOT = {
				has_war_with = YUG
			}
			OR = {	
				YUG = { is_puppet = no}
				YUG = { is_puppet_of = ITA}
			}
		}
		select_effect = {
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		x = 3
		y = 1
		relative_position_id = italia_med_entente
		cost = 5
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				has_completed_focus = italia_med_entente
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_named_threat = { threat = 1 }
			YUG = {
				set_country_flag = LVN_befriended_me
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				give_guarantee = ITA
				if = {
					limit = { 
					ITA = {
						OR = {
						 has_completed_focus = italia_med_entente
						 has_completed_focus = ITA_review_foreign_policy }
						 }
						}
					add_timed_idea = { idea = fascist_influence days = 730 }
				}
				country_event = { id = generic.1 }
			}
			163 = { remove_core_of = YUG }
			736 = { remove_core_of = YUG }
			ITA = { 
				transfer_state = 103
				add_state_core = 103
				diplomatic_relation = {
					country = YUG
					relation = non_aggression_pact
					active = yes
				}
				give_guarantee = YUG				
			}
			FRA = { add_opinion_modifier = { target = YUG modifier = ROM_betrayed_by_france_gb } }
			ENG = { add_opinion_modifier = { target = YUG modifier = ROM_betrayed_by_france_gb } }
			hidden_effect = {
				FRA = { 
					diplomatic_relation = {
						country = YUG
						relation = non_aggression_pact
						active = no
					}			
				}
				CZE = { 
					diplomatic_relation = {
						country = YUG
						relation = non_aggression_pact
						active = no
					}			
				}
				ROM = { 
					diplomatic_relation = {
						country = YUG
						relation = non_aggression_pact
						active = no
					}			
				}
			}
			
			hidden_effect = {
				news_event = { id = news.193 }
			}
		}
	}
	
	focus = {
		id = ITA_slovenia_dalmatia_claims
		icon = GFX_focus_ITA_yugo_claims
		prerequisite = {  focus = italia_med_entente focus = ITA_review_foreign_policy }
		mutually_exclusive = { focus = ITA_yugoslavia_friend }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = YUG }
		}
		bypass = {
			has_war_with = YUG
			NOT = { country_exists = YUG }
		}
		
		x = 2
		y = 0
		relative_position_id = ITA_yugoslavia_friend
		cost = 5
		
		ai_will_do = {
			base = 10
			modifier = {
				factor = 1
				has_completed_focus = italia_med_entente
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_state_claim = 102
			add_state_claim = 103
			add_named_threat = { threat = 3 name = ITA_slovenia_dalmatia_claims_threat }
			USA = {
				set_country_flag = { flag = USA_yugoslavia_window days = 60 value = 1 }
			}
			YUG = {
				add_opinion_modifier = { target = ITA modifier = claimed_western_yugoslavia }
				if = {
					limit = {
						ROOT = { has_government = fascism }
						NOT = { has_government = fascism }
						NOT = { has_idea_with_trait = fascist_demagogue }
						fascism < 0.3
					}
					add_popularity = {
						ideology = fascism
						popularity = -0.07
					}
				}
				if = {
					limit = { 
						ROOT = { has_government = communism }
						NOT = { has_government = communism }
						NOT = { has_idea_with_trait = communist_revolutionary }
						NOT = { has_completed_focus = YUG_recognize_the_soviet_union }
						communism < 0.3
					}
					add_popularity = {
						ideology = communism
						popularity = -0.07
					}
				}
				if = {
					limit = {
						ROOT = { has_government = democratic }
						NOT = { has_government = democratic }
						NOT = { has_idea_with_trait = democratic_reformer }
						democratic < 0.3
					}
					add_popularity = {
						ideology = democratic
						popularity = -0.07
					}
				}
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.192 }
			}
		}
	}
		
	focus = {
		id = ITA_greece_friend
		icon = GFX_focus_generic_befriend_greece
		prerequisite = { focus = ITA_yugoslavia_friend focus = ITA_slovenia_dalmatia_claims }
		mutually_exclusive = { focus = ITA_greece_war_goal }
		available = {
			country_exists = GRE
			NOT = {
				has_war_with = GRE
			}
		}
		bypass = {
			GRE = {
				is_in_faction_with = ITA 
			}
		}
		select_effect = {
			GRE = {
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_yugoslavia_friend
		cost = 5
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				has_completed_focus = italia_med_entente
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_named_threat = { threat = -3 name = news.188.t }
			GRE = {
				set_country_flag = LVN_befriended_me
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { 
					ITA = {
						OR = {
						 has_completed_focus = italia_med_entente
						 has_completed_focus = ITA_review_foreign_policy }
						 }
						}
					add_timed_idea = { idea = fascist_influence days = 730 }
				}
			add_ai_strategy = {
				type = alliance
				id = ITA
				value = 200
				}
			add_ai_strategy = {
				type = befriend
				id = ITA
				value = 200
				}
				country_event = { id = lvn_generic.4 }
			}
			hidden_effect = {
				news_event = {
					hours = 6 id = news.188
				}
			}
		}
	}
	
	focus = {
		id = ITA_greece_war_goal
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = ITA_yugoslavia_friend focus = ITA_slovenia_dalmatia_claims }
		mutually_exclusive = { focus = ITA_greece_friend }
		available = {
			NOT = { is_in_faction_with = GRE }
			any_state = {
					is_core_of = GRE
					is_coastal = yes
					NOT = { is_controlled_by = ITA }
			}
			has_army_manpower = { size > 750000 }
		}
		x = 2
		y = 0
		relative_position_id = ITA_greece_friend
		cost = 5
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1
				has_completed_focus = italia_med_entente
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_named_threat = { threat = 5 }
			GRE = { country_event = { id = italia_ita.51 } }
		}
	}
	
	focus = {
		id = ITA_fate_albania
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_greece_friend focus = ITA_greece_war_goal }
		mutually_exclusive = { focus = ITA_albania_war_goal }
		available = {
			country_exists = ALB
			NOT = { has_completed_focus = ITA_albania_friend }
			OR = {
				country_exists = YUG
				country_exists = GRE
			}
			OR = {
				YUG = {
					has_opinion = {
						target = ITA
						value > 49
					}
				}
				GRE = {
					has_opinion = {
						target = ITA
						value > 49
					}
				}
			}
			

			OR = {
				has_completed_focus = ITA_yugoslavia_friend
				has_completed_focus = ITA_greece_friend
			}
			OR = {
				YUG = { has_government = neutrality }
				YUG = { has_government = fascism }
			}
			OR = {
				GRE = { has_government = neutrality }
				GRE = { has_government = fascism }
			}
		}
		
		bypass = {
			hidden_trigger = {
				OR = {
					has_completed_focus = ITA_greece_friend
					has_completed_focus = ITA_greece_war_goal
				}
			}
			ALB = {
				OR = {
					is_subject_of = ROOT 
					is_in_faction_with = ROOT 
					exists = no
					has_war_with = ROOT 
				}
			}
				
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_greece_friend
		cost = 5
		will_lead_to_war_with = ALB
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_political_power = 120
			country_event = { id = italia_ita.41 }
		}
	}
	
	focus = {
		id = ITA_albania_war_goal
		icon = GFX_focus_ITA_albania
		prerequisite = { focus = ITA_review_foreign_policy focus = italia_med_entente }
		mutually_exclusive = { focus = ITA_fate_albania }
		available = {
			country_exists = ALB
			ALB = {
				NOT = { is_in_faction_with = ROOT }
				NOT = { is_subject_of = ROOT }
			}
			NOT = { has_completed_focus = ITA_albania_friend } 
		}
		
		x = 2
		y = 0
		relative_position_id = ITA_fate_albania
		cost = 5
		will_lead_to_war_with = ALB
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			ALB = { country_event = { id = italy.3 } }
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				custom_effect_tooltip = ita_military_readiness_neg_05_tt
				add_to_variable = { var = ita_ready_military_progress value = -5 }
				}
			if = {
				limit = { 
					has_idea = italia_victor_emmanuel 
					NOT = { GER = {has_completed_focus = GER_end_of_czechoslovakia}}
				}
				custom_effect_tooltip = king_is_concerned
				subtract_from_variable = { var = King_opinion_level value = 5 }
			}
		}
	}
	
	focus = {
		id = ITA_claims_on_turkey
		icon = GFX_focus_ITA_turkey_claims
		prerequisite = { focus = ITA_greece_friend }
		available = {
			NOT = { is_in_faction_with = TUR }
			NOT = { has_completed_focus = italia_med_entente }
			TUR = {
				owns_state = 342
			}
			has_army_manpower = { size > 750000 }
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_greece_friend
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_named_threat = { threat = 5 name = news.189.t }
			create_wargoal = {
				target = TUR
				type = take_state_focus
				expire = 0
				generator = { 342 }
			}

			hidden_effect = {
				news_event = { hours = 6 id = news.189 }
			}
		}
	}
	
	focus = {
		id = LVN_naval_superiority
		icon = GFX_focus_ITA_big_brother
		prerequisite = { focus = ITA_fate_albania focus = ITA_albania_war_goal focus = ITA_claims_on_turkey }
		
		x = 0
		y = 1
		relative_position_id = ITA_fate_albania
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			country_event = { id = italia_ita.98 }	
		}
		
	}
	
	focus = {
		id = italia_strike_france
		icon = GFX_focus_focus_fra_down_marianne
		prerequisite = { focus = LVN_naval_superiority }
		mutually_exclusive = { focus = italia_attack_britain }
		available = {
			NOT = { is_in_faction_with = FRA }
			NOT = { FRA = { is_subject_of = GER } }
			has_army_manpower = { size > 1000000 }
		}
			
		x = -1
		y = 1
		relative_position_id =  LVN_naval_superiority
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = GER
					NOT = {
						GER = {
							has_war_with = FRA
						}
					}
				}
				add_state_claim = 1
				add_state_claim = 735
				add_state_claim = 665
				add_state_claim = 458
				add_state_claim = 773
				create_wargoal = {
					type = take_claimed_state
					target = FRA
				}
				add_timed_idea = { idea = italia_surprise_france days = 140 }
				custom_effect_tooltip = LVN_strike_first_tt
			}
			if = {
				limit = {
					is_in_faction_with = GER
					GER = {
						has_war_with = FRA
					}
				}
				create_wargoal = {
					type = annex_everything
					target = FRA
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				create_wargoal = {
					type = annex_everything
					target = FRA
				}
			}
		}
	}
	
	focus = {
		id = italia_attack_britain
		icon = GFX_focus_ITA_die_britain
		prerequisite = { focus = LVN_naval_superiority }
		mutually_exclusive = { focus = italia_strike_france }
		available = {
			NOT = { is_in_faction_with = ENG }
			NOT = { ENG = { is_subject_of = GER } }
			ROOT = {
				naval_strength_comparison = {
					other = ENG
					ratio > 0.80 #to be balanced later if its impossible even with all naval focus taken (you already have over 50% in parity with RN so not below 60%)
				}
			}
			
		}	
			
		x = 2
		y = 0
		relative_position_id = italia_strike_france
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = GER
					NOT = {
						GER = {
							has_war_with = ENG
						}
					}
				}
				add_state_claim = 116
				every_state = {
					limit = {
						CONTROLLER = { tag = ENG }
						OR = {
						region = 128
						region = 17}
						}
						add_claim_by = ITA 
					}
					
				create_wargoal = {
					type = take_claimed_state
					target = ENG
				}
				add_timed_idea = { idea = italia_surprise_england days = 140 }
				custom_effect_tooltip = LVN_strike_first_tt
			}
			if = {
				limit = {
					is_in_faction_with = GER
					GER = {
						has_war_with = ENG
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ENG
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				create_wargoal = {
					type = annex_everything
					target = ENG
				}
			}
		}
	}
	
	focus = {
		id = italia_support_the_golden_square
		icon = GFX_focus_TUR_support_the_golden_square
		prerequisite = { focus = italia_strike_france focus = italia_attack_britain }
		mutually_exclusive = { focus = italia_support_turkey_claims }
		available = {
			IRQ = { NOT = { has_government = fascism } }
		}
		
		x = 1
		y = 1
		relative_position_id = italia_strike_france
		cost = 10
		ai_will_do = {
			base = 1
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			IRQ = { country_event = { id = italia_ita.78 hours = 8 } }
			hidden_effect = { TUR = { unlock_national_focus = TUR_support_the_golden_square } }
		}
	}
	
	focus = {
		id = italia_support_turkey_claims
		icon = GFX_focus_TUR_pivot_to_the_past
		prerequisite = { focus = ITA_turkey_friend }
		mutually_exclusive = { focus = italia_support_the_golden_square }
		available = {
			is_subject = no
			OR = {
				TUR = { has_government = neutrality }
				TUR = { has_government = fascism }
				TUR = { is_subject_of = ITA }
			}
			AND = {
				TUR = { NOT = { has_completed_focus = TUR_kemalist_socialist_theory } }
				TUR = { NOT = { has_completed_focus = TUR_democratic_transition_focus } }
			}
		}
		
		x = 0
		y = 3
		relative_position_id = ITA_turkey_friend
		cost = 10
		ai_will_do = {
			base = 1
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_named_threat = { threat = 5 name = italianews.27.t }
			news_event = { id = italianews.27 days = 1 }
			hidden_effect = {
				TUR = {
					add_state_claim = 676
					add_state_claim = 675 
					add_state_claim = 291 
					add_state_claim = 656 
					add_state_claim = 680 
					add_state_claim = 677
					add_state_claim = 799 
					add_state_claim = 553
					add_state_claim = 455 
					add_state_claim = 454
					add_state_claim = 453
					add_state_claim = 292
					add_state_claim = 679
					add_state_claim = 678
				}
			}
			TUR = {
				create_wargoal = { type = annex_everything target = IRQ }
				create_wargoal = { type = annex_everything target = SAU }
			}
		}
	}
	
	####Spanish Civil War
	focus = {
		id = ITA_support_nationalist_spain
		icon = GFX_focus_ITA_support_nat_spain
		prerequisite = { focus = italia_the_hour_of_fate focus = ITA_italy_first }
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPR = {
					has_civil_war = no
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { has_civil_war = no }
			}
		}
		
		x = 0
		y = 2
		relative_position_id = ITA_victoryinETH
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			unlock_decision_category_tooltip = ITALIA_spain_decisions
			custom_effect_tooltip = ita_franco_influence_5_tt
			ROOT = { add_to_variable = { var = ita_influence_with_franco value = 5 } }
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}				
			add_ideas = italia_volunteers_in_spain_nationalist 
			if = {
				limit = { 
					has_active_mission = italia_ready_the_military }
				activate_targeted_decision = {
					target = SPA
					decision = italia_finish_spanish_civil_war
				}	
				custom_effect_tooltip = ita_military_readiness_neg_10_tt
				ROOT = { add_to_variable = { var = ita_ready_military_progress value = -10 } }
				}
		}
	}
			

####################################
#######TRIUMPH OF FASCISM###########
####################################

	focus = {
		id = ITA_new_political_direction #Triumph_of_fascism
		icon = GFX_focus_ITA_bold_fascism
		prerequisite = { focus = italia_united_latin_world focus = ITA_toward_new_europe focus = italia_loyalty_oath_ITA }
		available = {
			is_subject = no
			#is faction leader removed
			fascism > 0.75
			has_government = fascism 
			OR  = {
				ENG = { 
					LVN_we_beat_this_bad_boy = yes 	
				}
				GER = { 
					LVN_we_beat_this_bad_boy = yes 
				}
			}		
		}

		x = 0
		y = 2
		relative_position_id = ITA_toward_new_europe
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			add_political_power = 100
			if = {
				limit = {
					has_idea = italia_victor_emmanuel
				}
				country_event = { id = italia_ita.900 }
			}
			else_if = {
				limit = {
					has_idea = king_umberto
				}
				country_event = { id = italia_ita.901 }
			}
			hidden_effect = { 	
				if = {
					limit = {
						has_war = yes
						is_in_faction_with = GER
					}
					ITA = { country_event = { id = italia_ita.55 }} #Mod check if this event works correctly : if at war with USA, you should be able to peace them out if you or ally control (not total control) britain or France
				}
			}
		}
	}
	
#greater italy	
	focus = {
		id = ITA_italianisation
		icon = GFX_focus_ITA_quaderno
		prerequisite = { focus = ITA_new_political_direction }
		mutually_exclusive = { focus = ITA_integration_new_roman_doctrine }
		available = {
			is_subject = no 
		}
		
		x = 2
		y = 1
		relative_position_id = ITA_new_political_direction
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_political_power = 50
			add_stability = 0.15
			every_owned_state = {
				limit = {
					not = { is_core_of = ROOT }
					is_on_continent = europe
					is_fully_controlled_by = ROOT
				}
				add_compliance = -10
			}
			every_owned_state = {
				limit = {
					not = { is_core_of = ROOT }
					not = { is_on_continent = europe }
					is_fully_controlled_by = ROOT
				}
				add_compliance = -10
			}
			every_state = {
				limit = {
					controller = { is_subject_of = ROOT }
					NOT = { is_on_continent = europe }
				}
				add_compliance = -10
			}
		}
	}
	
	focus = {
		id = ITA_dream_greater_italy
		icon = GFX_focus_ITA_fascist_empire
		prerequisite = { focus = ITA_italianisation }
		available = {
		}

		x = 2
		y = 1
		relative_position_id = ITA_italianisation
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_political_power = 200
			drop_cosmetic_tag = yes
			set_cosmetic_tag = LVN_ITA_EMPIRE
			add_country_leader_trait = LVN_imperator
			if = {
				limit = {
					has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
			}
				set_country_leader_portrait = {
					ideology = fascism
					portrait = GFX_FINAL_MUSSOLINI
				}
			}		
		}
	}
	
	focus = {
		id = ITA_prepare_axis_betrayal
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = ITA_dream_greater_italy }
		available = {
			is_faction_leader = yes
			NOT = { is_in_faction_with = GER }
			has_completed_focus = ITA_pact_of_steel
		}

		x = -4
		y = 2
		relative_position_id = ITA_dream_greater_italy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_timed_idea = { idea = ITA_strike_first days = 365 }
			hidden_effect = {
				news_event = { id = italianews.18 days = 3 }
			}
		}
	}
	
	focus = {
		id = ITA_total_mobilisation
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = ITA_prepare_axis_betrayal }
		available = {
		}

		x = 1
		y = 1
		relative_position_id = ITA_prepare_axis_betrayal
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = tot_economic_mobilisation
			}
			if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 150
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
				set_state_flag = ITA_tot_mob_industry_2
			}
		}
	}

	focus = {
		id = ITA_consolidate_domination_med
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = ITA_dream_greater_italy }
		available = {
			OR = {
				has_full_control_of_state = 118
				has_full_control_of_state = 116
				has_full_control_of_state = 177
				has_full_control_of_state = 182
				has_full_control_of_state = 164
				has_full_control_of_state = 183
				has_full_control_of_state = 187
				has_full_control_of_state = 1
			}
		}

		x = -1
		y = 1
		relative_position_id = ITA_dream_greater_italy
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		
		completion_reward = {
			custom_effect_tooltip = ITA_mediterannean_basing
			hidden_effect = {
				118 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 4135
							level = 10
							instant_build = yes
						}
					}
				}
				177 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 9793
							level = 10
							instant_build = yes
						}
					}
				}
				1 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 3838
							level = 10
							instant_build = yes
						}
					}
				}
				116 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 12003
							level = 10
							instant_build = yes
						}
					}
				}
				182 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 9940
							level = 10
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							province = 12058
							level = 10
							instant_build = yes
						}
					}
				}
				183 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 7193
							level = 10
							instant_build = yes
						}
					}
				}
				164 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 10007
							level = 10
							instant_build = yes
						}
					}
				}
				187 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 8435
							level = 10
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							province = 6550
							level = 10
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = ITA_northern_domination
		icon = GFX_focus_generic_north_sea
		prerequisite = { focus = ITA_consolidate_domination_med }
		available = {
			OR = {
				country_exists = DEN
				country_exists = NOR
				country_exists = SWE
				country_exists = FIN
			}
			OR = {
				has_full_control_of_state = 100
				has_full_control_of_state = 337
				has_full_control_of_state = 120
			}
		}
		
		bypass = {
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_consolidate_domination_med
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = {
					DEN = {
						NOT = { has_government = fascism }
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = DEN
					}
				}
			}
			if = {
				limit = {
					NOR = {
						NOT = { has_government = fascism }
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = NOR
					}
				}
			}
			if = {
				limit = {
					SWE = {
						NOT = { has_government = fascism }
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = SWE
					}
				}
			}
			if = {
				limit = {
					FIN = {
						NOT = { has_government = fascism }
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = FIN
					}
				}
			}
			custom_effect_tooltip = ITA_northern_basing
			hidden_effect = {
				100 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 12674
							level = 8
							instant_build = yes
						}
					}
				}
				337 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 13003
							level = 8
							instant_build = yes
						}
					}
				}
				120 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 6196
							level = 8
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							province = 11064
							level = 10
							instant_build = yes
						}
					}
				}
			}
		}		
	}
	
	focus = {
		id = ITA_jewel_east_africa
		icon = GFX_focus_ITA_afrika_jewel
		prerequisite = { focus = ITA_dream_greater_italy }
		available = {
			559 = { is_controlled_by_ROOT_or_subject = yes }
			271 = { is_controlled_by_ROOT_or_subject = yes }
			550 = { is_controlled_by_ROOT_or_subject = yes }
			268 = { is_controlled_by_ROOT_or_subject = yes }
			269 = { is_controlled_by_ROOT_or_subject = yes }
		}
		

		x = 1
		y = 1
		relative_position_id = ITA_dream_greater_italy
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
				559 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				550 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				271 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				268 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				269 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				559 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 12941
							level = 6
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							province = 12991
							level = 10
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							province = 10891
							level = 6
							instant_build = yes
						}
					}
				}
				550 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 12766
							level = 10
							instant_build = yes
						}
					}
				}
				269 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 10833
							level = 10
							instant_build = yes
						}
					}
				}
				268 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = naval_base
							province = 8124
							level = 6
							instant_build = yes
						}
					}
				}
		}
	}
	
	focus = {
		id = ITA_domination_indian_ocean
		icon = GFX_focus_generic_indian_ocean
		prerequisite = { focus = ITA_jewel_east_africa }
		available = {
			OR = {
				country_exists = RAJ
				country_exists = PER
				country_exists = SIA
				country_exists = FRA
				country_exists = POR
				country_exists = ENG
			}
		}
		bypass = {
			AND = {
				NOT = {country_exists = RAJ}
				NOT = {country_exists = POR}
				NOT = {country_exists = PER}
				NOT = {country_exists = SIA}
				NOT = {country_exists = FRA}
				NOT = {country_exists = ENG}
			}
		}

		x = 0
		y = 1
		relative_position_id = ITA_jewel_east_africa
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			if = {
				limit = {
					POR = {
						has_full_control_of_state = 321
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = POR
					generator = { 321 }
				}
			}
			if = {
				limit = {
					FRA = {
						has_full_control_of_state = 320
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = FRA
					generator = { 321 }
				}
			}
			if = {
				limit = {
					ENG = {
						has_full_control_of_state = 281
						has_full_control_of_state = 422
						has_full_control_of_state = 733
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = ENG
					generator = { 281 422 733 }
				}
			}
			if = {
				limit = {
					country_exists = RAJ
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = RAJ
					}
				}
			}
			if = {
				limit = {
					country_exists = SIA
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = SIA
					}
				}
			}	
			if = {
				limit = {
					country_exists = PER
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PER
					}
				}
			}
		}
	}
	
	focus = {
		id = ITA_the_sun_never_sets
		icon = GFX_focus_ITA_muss_greatness
		prerequisite = { focus = ITA_northern_domination }
		prerequisite = { focus = ITA_domination_indian_ocean }
		available = {
			has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
			AND = {
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = europe
				}
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = north_america
				}
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = south_america
				}
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = africa
				}
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = asia
				}
				any_state = {
					is_controlled_by = ROOT
					is_on_continent = middle_east
				}
			}
		}

		x = 1
		y = 2
		relative_position_id = ITA_northern_domination
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			add_ideas = ITA_the_sun_never_sets_idea
		}
	}
	
###SUBSECTION THE ROMAN DREAM BABYYYYY
	
	focus = {
		id = ITA_integration_new_roman_doctrine
		icon = GFX_focus_ITA_leads_to_rome
		prerequisite = { focus = ITA_new_political_direction }
		mutually_exclusive = { focus = ITA_italianisation }
		available = {
			is_puppet = no
			has_government = fascism
			is_faction_leader = yes
		}

		x = -2
		y = 1
		relative_position_id = ITA_new_political_direction
		cost = 5
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			custom_effect_tooltip = ITA_pax_romana_tt
			hidden_effect = {
				add_dynamic_modifier = {modifier = ITA_pax_romana_modifier}
			}
			unlock_decision_tooltip = ITA_develop_roman_federation_project
			every_country = { 
				limit = { 
					is_in_faction_with = ITA
					NOT = { original_tag = ITA }
				}
				add_ideas = ITA_integration_romanitas_2
			}
		}
	}
	
	focus = {
		id = ITA_all_road_lead_to_rome
		icon = GFX_focus_ITA_roads_rome
		prerequisite = { focus = ITA_integration_new_roman_doctrine focus = ITA_italianisation }
		mutually_exclusive = { focus = ITA_train_run_on_time }
		available = {
			AND = {
				has_full_control_of_state = 2
				has_full_control_of_state = 39
				has_full_control_of_state = 44
				has_full_control_of_state = 735
				has_full_control_of_state = 736
				has_full_control_of_state = 103
				has_full_control_of_state = 105
				has_full_control_of_state = 115
				has_full_control_of_state = 117
				has_full_control_of_state = 156
				has_full_control_of_state = 157
				has_full_control_of_state = 158
				has_full_control_of_state = 159
				has_full_control_of_state = 160
				has_full_control_of_state = 161
				has_full_control_of_state = 162
				has_full_control_of_state = 163
				has_full_control_of_state = 805
			}
		}

		x = 1
		y = 1
		relative_position_id = ITA_integration_new_roman_doctrine
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY}
		
		completion_reward = {
			custom_effect_tooltip = ITA_all_roads_lead_rome_tt
			hidden_effect = {
				2 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				39 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				44 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				735 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				736 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				103 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				105 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				115 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				117 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}	
				156 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				157 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				158 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				159 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				160 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				161 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				162 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				163 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
				805 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 5
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = ITA_train_run_on_time
		icon = GFX_focus_ITA_muss_trains
		prerequisite = { focus = ITA_integration_new_roman_doctrine focus = ITA_italianisation }
		mutually_exclusive = { focus = ITA_all_road_lead_to_rome }
		available = {
			has_government = fascism
			has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
			has_full_control_of_state = 2
		}

		x = 3
		y = 1
		relative_position_id = ITA_integration_new_roman_doctrine
		cost = 10
		
		ai_will_do = {
			factor = 1
		}	
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			if = {
				limit = { 
					has_full_control_of_state = 115
				}
					
				build_railway = { #Palermo to Rome
					level = 5 
					start_state = 115
					target_state = 2
				}
			}
			if = {
				limit = { 
					has_full_control_of_state = 158
				}
					
				build_railway = { #Piedmont to Rome
					level = 5 
					start_state = 158
					target_state = 2
				}
			}
			if = {
				limit = { 
					has_full_control_of_state = 160
				}
					
				build_railway = { #Venice to Rome
					level = 5 
					start_state = 160
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 3
						any_allied_country = {
							has_full_control_of_state = 3
						}
					}
				}
					
				build_railway = { #Berne to Rome
					level = 5 
					start_state = 3
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 16
						any_allied_country = {
							has_full_control_of_state = 16
						}
					}
				}
					
				build_railway = { #Paris to Rome
					level = 5 
					start_state = 16
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 41
						any_allied_country = {
							has_full_control_of_state = 41
						}
					}
				}
					
				build_railway = { #Madrid to Rome
					level = 5 
					start_state = 41
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 112
						any_allied_country = {
							has_full_control_of_state = 112
						}
					}
				}
					
				build_railway = { #Lisbon to Rome
					level = 5 
					start_state = 112
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 7
						any_allied_country = {
							has_full_control_of_state = 7
						}
					}
				}
					
				build_railway = { #Amsterdam to Rome
					level = 5 
					start_state = 7
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 64
						any_allied_country = {
							has_full_control_of_state = 64
						}
					}
				}
					
				build_railway = { #Berlin to Rome
					level = 5 
					start_state = 64
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 47
						any_allied_country = {
							has_full_control_of_state = 47
						}
					}
				}
					
				build_railway = { #Athens to Rome
					level = 5 
					start_state = 47
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 797
						any_allied_country = {
							has_full_control_of_state = 797
						}
					}
				}
					
				build_railway = { #Constantinople to Rome
					level = 5 
					start_state = 797
					target_state = 2
				}
			}
			if = {
				limit = { 
					OR = {
						has_full_control_of_state = 10
						any_allied_country = {
							has_full_control_of_state = 10
						}
					}
				}
					
				build_railway = { #Warsaw to Rome
					level = 5 
					start_state = 10
					target_state = 2
				}
			}
		}
	}
	
	focus = {
		id = ITA_federation_roman_empire
		icon = GFX_focus_ITA_rome_conference
		prerequisite = { focus = ITA_integration_new_roman_doctrine }	
		available = {
			is_puppet = no
			has_government = fascism
			is_faction_leader = yes
			has_country_flag = ready_to_form_roman_federation
		}
		
		x = -2
		y = 1
		relative_position_id = ITA_integration_new_roman_doctrine
		cost = 5
		
		ai_will_do = {
			factor = 0 #AI would have too much trouble making it, player only 
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			activate_mission = ITA_conference_of_rome
			hidden_effect = {
			every_other_country = { 
				limit = { 
					is_in_faction_with = ITA 
					NOT = { has_autonomy_state = autonomy_LVNcolony }
					NOT = { original_tag = LBA }
				}
				add_to_array = { array = ITA.roman_empire_subjects } 
			}
			if = {
				limit = {
					TUR = { is_in_array = { array = ITA.roman_empire_subjects value = TUR } }
				}
					TUR = {
						set_variable = {
							var = roman_acceptance
							value = 0 
						}
					}
				ITA = {
					activate_targeted_decision = {
					target = TUR
					decision = ITA_sign_the_roman_union_pact
						}
				}	
			}
			ITA = {
				every_country = {
					limit = {
						is_in_array = { array = ITA.roman_empire_subjects value = THIS }
						NOT = { original_tag = TUR }
						fascism > 0.49
					}
					set_variable = {
						var = roman_acceptance
						value = 15 
					}
					set_country_flag = roman_conference_member
					ITA = {
						activate_targeted_decision = {
							target = PREV
							decision = ITA_sign_the_roman_union_pact
						}
					}
				}
				every_country = {
					limit = {
						is_in_array = { array = ITA.roman_empire_subjects value = THIS }
						NOT = { original_tag = TUR }
						fascism < 0.50
					}
					set_variable = {
						var = roman_acceptance
						value = 10 
					}
					set_country_flag = roman_conference_member
					ITA = {
						activate_targeted_decision = {
						target = PREV
						decision = ITA_sign_the_roman_union_pact
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = ITA_reform_latin_monetary_union
		icon = GFX_focus_fra_devalue_the_franc
		prerequisite = { focus = ITA_federation_roman_empire }	
		available = {
		}
		
		x = -2
		y = 1
		relative_position_id = ITA_federation_roman_empire
		cost = 5	
		
		cancel_if_invalid = yes
		available_if_capitulated = no

		search_filters = {  }
		
		completion_reward = {				
			custom_effect_tooltip = ITA_latin_monetary_union_tt
			hidden_effect = {
				set_variable = {ITA_pax_romana_consumer_goods_factor = 0.10} 
				set_variable = {ITA_pax_romana_industrial_capacity_dockyard = 0.15}
				set_variable = {ITA_pax_romana_industrial_capacity_factory = 0.15}
			}
		}
		
	}
	
	focus = {
		id = ITA_integrate_war_economies
		icon = GFX_focus_ITA_integrated_war
		prerequisite = { focus = ITA_federation_roman_empire }
		available = {
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_federation_roman_empire
		cost = 5
		
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			every_country = {
				limit = { has_autonomy_state = ROM_prefecture }
					random_owned_controlled_state = {
						limit = { is_controlled_by = PREV }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
						}
					}
				}
			}
		}

	
	focus = {
		id = ITA_new_roman_citizenship
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = ITA_federation_roman_empire }	
		available = {
		}
		
		x = 2
		y = 1
		relative_position_id = ITA_federation_roman_empire
		cost = 5	
		
		cancel_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {				
			custom_effect_tooltip = ITA_pax_romana_extended_citizenship_tt
			hidden_effect = {
				set_variable = {ITA_pax_romana_stability_weekly_factor = 0.02} 
				set_variable = {ITA_pax_romana_weekly_manpower = 2500}
				set_variable = {ITA_pax_romana_compliance_growth_on_our_occupied_states = 0.15}
			}
		}
		
	}
	
	focus = {
		id = ITA_realise_federation_neo_roman_empire
		icon = GFX_focus_ITA_roman_union
		prerequisite = { focus = ITA_integrate_war_economies }
		prerequisite = { focus = ITA_new_roman_citizenship }	
		prerequisite = { focus = ITA_reform_latin_monetary_union }		
		available = {
			is_puppet = no
			has_government = fascism	
			has_global_flag = ITA_roman_conference_concluded
			custom_trigger_tooltip = {
			tooltip = ITA_realise_federation_tt
				all_of_scopes = {
					array = ITA.roman_empire_subjects
					OR = {
						is_subject_of = ROOT
						has_country_flag = declined_roman_union
					}
				}
			}
		}
		
		x = 0
		y = 1
		relative_position_id = ITA_integrate_war_economies
		cost = 5
		
		cancel_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			news_event = { hours = 6 id = italianews.11 }
			custom_effect_tooltip = italia_annex_roman_union_tt
			every_state = {
				limit = { 
					OR = {
						is_on_continent = europe 
						region = 196
						region = 28
						region = 128
						region = 126
						region = 129
					}
					controller = { 
						has_autonomy_state = ROM_prefecture
						has_country_flag = said_yes_to_rome 
					 }
				}
				add_core_of = ITA
			}
			every_country = {
				limit = { 
					has_autonomy_state = ROM_prefecture
				}
				every_unit_leader = {
					set_nationality = ITA
				}
				transfer_navy = { target = ITA }
			}
			every_country = {
				limit = { 
					has_autonomy_state = ROM_prefecture 
					has_country_flag = said_yes_to_rome
				}
				ITA = { 
					annex_country = {
						target = PREV
						transfer_troops = yes 
					}
				}
			}
			if = {
				limit = {
					has_country_leader = { name = "Benito Mussolini" ruling_only = yes }
				}
				set_cosmetic_tag = ITA_roman_federation #May do this somewhere else
					set_country_leader_portrait = {
						ideology = fascism
						portrait = GFX_EMP_MUSSOLINI
					}
			}
			unlock_decision_tooltip = LVN_ITA_form_roman_empire
		}
	}
	
	###SUBSECTION ROMAN ARMY
	
	focus = {
		id = ITA_reform_roman_army
		icon = GFX_focus_ITA_roman
		prerequisite = { focus = ITA_realise_federation_neo_roman_empire }	
		available = {
		}
		
		x = -4
		y = 1
		relative_position_id = ITA_realise_federation_neo_roman_empire
		cost = 10
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			army_experience = 50
			custom_effect_tooltip = ITA_forming_roman_army_warning_tt
			if = {
				limit = { has_dynamic_modifier = {modifier = ITA_regio_esercito_modifier }}
				hidden_effect = {
					remove_dynamic_modifier = {modifier = ITA_regio_esercito_modifier}
					add_dynamic_modifier = {modifier = ITA_exercitus_romanus_modifier}
				}
				custom_effect_tooltip = ITA_roman_army_replace_tt
			}
			else = {
				hidden_effect = {
					add_dynamic_modifier = {modifier = ITA_exercitus_romanus_modifier}
				}
				custom_effect_tooltip = ITA_roman_army_forming_tt
			}
			set_country_flag = ITA_roman_army_reestablished_flag
			#Unlock Mussolini as a field marshall
		}
	}
	
	focus = {
		id = ITA_mare_nostrum
		icon = GFX_focus_ITA_mare_nostrum
		prerequisite = { focus = ITA_reform_roman_army }
		available = {
			is_subject = no
			has_full_control_of_state = 183
			has_full_control_of_state = 116
			has_full_control_of_state = 458
			has_full_control_of_state = 665
			has_full_control_of_state = 446
			has_full_control_of_state = 453
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_reform_roman_army
		cost = 10
		
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					industrial_complex < 1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				hidden_effect = {
					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_on_continent = europe
							NOT = { is_coastal = yes }
							industrial_complex > 1
						}
						remove_building = {
							type = industrial_complex
							level = 1
						}
					}
				}
			}
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					AND = {
						industrial_complex < 2
						industrial_complex > 0
					}
				}
				remove_building = {
						type = industrial_complex
						level = 2
					}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_on_continent = europe
							NOT = { is_coastal = yes }
							industrial_complex > 0
						}
						remove_building = {
							type = industrial_complex
							level = 2
						}
					}
				}
			}
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_on_continent = europe
					is_coastal = yes
					industrial_complex > 1
				}
				remove_building = {
						type = industrial_complex
						level = 2
					}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_ideas = ITA_italia_conquest_mare_nostrum
		}
	}
	
	focus = {
		id = ITA_roman_imperial_marines_focus
		icon = GFX_focus_ITA_marines
		prerequisite = { focus = ITA_mare_nostrum }
		
		x = 0
		y = 1
		relative_position_id = ITA_mare_nostrum
		cost = 10
		
		available_if_capitulated = yes	
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = ITA_roman_army_cmri_tt
			hidden_effect = {
				set_variable = {ITA_exercitus_romanus_invasion_preparation = -0.2}
				set_variable = {ITA_exercitus_romanus_amphibious_invasion = 0.15}
				set_variable = {ITA_exercitus_romanus_naval_invasion_capacity = 10}
				set_variable = {ITA_exercitus_romanus_naval_invasion_penalty = -0.25}
				add_to_variable = {ITA_exercitus_romanus_special_forces_cap = 0.03}
			}
			
			add_tech_bonus = {
				name = ita_amphibious_focus
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
		}
	}
	
	focus = {
		id = ITA_roman_airforce
		icon = GFX_focus_ITA_aerial_legion
		prerequisite = { focus = ITA_reform_roman_army }
		
		x = -1
		y = 1
		relative_position_id = ITA_reform_roman_army
		cost = 10
		
		available_if_capitulated = yes	
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = ITA_roman_airforce_tt
			hidden_effect = {
				set_variable = {ITA_exercitus_romanus_cas_damage_reduction = 0.15}			
			}
			add_ideas = ITA_aerial_legion_idea			
		}
	}
	
	focus = {
		id = ITA_flying_eagles
		icon = GFX_focus_ITA_aquila
		prerequisite = { focus = ITA_roman_airforce }
		
		x = 0
		y = 1
		relative_position_id = ITA_roman_airforce
		cost = 10
		
		available_if_capitulated = yes	
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = ITA_roman_aquila_tt
			hidden_effect = {
				set_variable = {ITA_exercitus_romanus_max_dig_in_factor = 0.10 }			
				set_variable = {ITA_exercitus_romanus_army_morale_factor = 0.12 }
				set_variable = {ITA_exercitus_romanus_supply_consumption_factor = -0.05 }
				set_variable = {ITA_exercitus_romanus_army_infantry_attack_factor = 0.15 }
			}
		}
	}
	
	###SUBSECTION WARGOALS
	focus = {
		id = ITA_reclaim_hispania
		icon = GFX_focus_ITA_hispana
		prerequisite = { focus = ITA_realise_federation_neo_roman_empire }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = SPR }
			NOT = { is_in_faction_with = POR }
			OR = {
				country_exists = SPR
				country_exists = POR
			}
		}
		
		x = -1
		y = 1
		relative_position_id = ITA_realise_federation_neo_roman_empire
		cost = 5
		will_lead_to_war_with = SPR
		will_lead_to_war_with = POR
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SPR
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = POR
				expire = 0
			}
		}
	}
	
	focus = {
		id = ITA_reach_trajan_wall
		icon = GFX_focus_ITA_trajan
		prerequisite = { focus = ITA_realise_federation_neo_roman_empire }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = ROM }
			NOT = { is_in_faction_with = BUL }
			NOT = { is_in_faction_with = HUN }
			NOT = { is_in_faction_with = ALB }
			NOT = { is_in_faction_with = GRE }
			NOT = { is_in_faction_with = YUG }
			OR = {
				country_exists = ROM
				country_exists = HUN
				country_exists = BUL
				country_exists = ALB
				country_exists = GRE
				country_exists = YUG
			}
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_realise_federation_neo_roman_empire
		cost = 10
		will_lead_to_war_with = ROM
		will_lead_to_war_with = HUN
		will_lead_to_war_with = BUL
		will_lead_to_war_with = ALB
		will_lead_to_war_with = GRE
		will_lead_to_war_with = YUG
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = ROM
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = HUN
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = BUL
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = ALB
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = GRE
				expire = 0
			}
			create_wargoal = {
				type = annex_everything
				target = YUG
				expire = 0
			}
		}
	}
	
	focus = {
		id = italia_war_turkey_byzantium
		icon = GFX_focus_ITA_avenge_biz
		prerequisite = { focus = ITA_reach_trajan_wall }
		prerequisite = { focus = ITA_reclaim_hispania}
		available = {
			is_subject = no
			797 = {
				CONTROLLER = { 
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		bypass = {
			has_completed_focus = ITA_realise_federation_neo_roman_empire
			OR = {
				797 = { is_controlled_by_ROOT_or_subject = yes }
				797 = { CONTROLLER = { is_in_faction_with = ROOT } }
				has_war_with = TUR
			}
		}
		
		x = 1
		y = 1
		relative_position_id = ITA_reclaim_hispania
		cost = 5
		
		cancel_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
	
		completion_reward = {
			if = {
				limit = {
					TUR = { has_war = no }
					797 = {
						is_fully_controlled_by = TUR 
					}
				}
				create_wargoal = {
					target = TUR
					type = annex_everything
					expire = 0
				}
			}
			else_if = {
				limit = {
					ROOT = {
						NOT = { controls_state = 797 }
					}
				}
				hidden_effect = {
					random_other_country = {
						limit = { controls_state = 797 }
						save_event_target_as = LVN_rome_wants_to_kill_you
					}
				}
				ITA = {
					create_wargoal = {
						target = event_target:LVN_rome_wants_to_kill_you
						type = take_claimed_state
						expire = 200
					}
				}
			}
			hidden_effect = {
				news_event = { id = italianews.31 hours = 5 random_hours = 25 }
			}
		}
	}
	
	focus = {
		id = ITA_amend_old_grudges
		icon = GFX_focus_ITA_middle_east
		prerequisite = { focus = italia_war_turkey_byzantium }
		available = {
			OR = {
				country_exists = PER
				country_exists = IRQ
				country_exists = AFG
			}
		}

		
		x = -1
		y = 1
		relative_position_id =  italia_war_turkey_byzantium
		cost = 5
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			if = {
				limit = {
					country_exists = PER
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PER
					}
				}
			}
			if = {
				limit = {
					country_exists = AFG
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = AFG
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = italia_support_the_golden_square
					country_exists = IRQ
					IRQ = { has_government = fascism }
				}
				IRQ = { country_event = { id = italia_ita.31 days = 3 random = 10 } }
			}
			else_if = {
				limit = {
					country_exists = IRQ
					IRQ = { NOT = { has_government = fascism } }
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						target = IRQ
						expire = 0
						generator = { 676 675 291}
					}
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							original_tag = IRQ
							original_tag = PER
							original_tag = AFG
						}
					}
					ROOT = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = ITA_southern_push
		icon = GFX_focus_ITA_invade_arabia2
		prerequisite = { focus = italia_war_turkey_byzantium }
		available = {
			OR = {
				country_exists = SAU
				country_exists = YEM
				country_exists = OMA
			}
		}

		
		x = 1
		y = 1
		relative_position_id =  italia_war_turkey_byzantium
		cost = 5
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			
			every_country = {
				limit = {
					OR = {
						original_tag = SAU
						original_tag = YEM
						original_tag = OMA
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
			
		}
	}
	
	focus = {
		id = ITA_retake_the_north
		icon = GFX_focus_ITA_strike_north
		prerequisite = { focus = ITA_realise_federation_neo_roman_empire focus = ITA_prepare_axis_betrayal }
		available = {
			is_puppet = no
			NOT = { is_in_faction_with = SWI }
		}
		bypass = {
			OR = {
				NOT = { country_exists = SWI }
				has_war_with = SWI
			}
		}
		
		x = 3
		y = 1
		relative_position_id = ITA_realise_federation_neo_roman_empire
		cost = 5
		will_lead_to_war_with = SWI
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SWI
				expire = 0
			}
		}
	}
	
	focus = {
		id = ITA_war_to_end_all_wars
		icon = GFX_focus_attack_germany
		prerequisite = { focus = ITA_retake_the_north }
		prerequisite = { focus = ITA_total_mobilisation }
		available = {
			is_puppet = no
			GER = {
				exists = yes 
				NOT = { has_war_with = ROOT }
				is_subject = no 
			}
		}
		
		will_lead_to_war_with = GER

		
		x = 1
		y = 1
		relative_position_id = ITA_retake_the_north
		cost = 5
		will_lead_to_war_with = GER
		
		cancel_if_invalid = yes
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction_with = GER
					NOT = { is_faction_leader = yes }
				}
				leave_faction = yes 
			}
			else_if = {
				limit = { 
					is_in_faction_with = GER
					is_faction_leader = yes 
				}
				remove_from_faction = GER 
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}
	
#########################POPE STUFF!########################
############ANYTHING ADDED NEEDS TO BE BEFORE THIS STUFF####
############################################################

	focus = {
		id = LVN_church_brings_stability
		icon = GFX_focus_ITA_pope_hat
		prerequisite = { focus = italia_the_pope }
		
		allow_branch = {
			has_global_flag = LVN_release_the_pope
		}
		
		x = 0
		y = 1
		
		relative_position_id = italia_the_pope
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			if = {
				limit = {
					has_idea = LVN_political_violence
				}
				remove_ideas = LVN_political_violence
			}
			add_stability = 0.10
		}
	}
	
	focus = {
		id = LVN_rebuild_roma
		icon = GFX_focus_ITA_rebuild_rome
		prerequisite = { focus = LVN_church_brings_stability }
		
		x = -1
		y = 1
		
		relative_position_id = LVN_church_brings_stability
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			add_timed_idea = {
				idea = LVN_rebuild_rome_idea
				days = 365
			}
			ITALIA_economy_level_up	= yes
		}
	}
	
	focus = {
		id = LVN_excommunication
		icon = GFX_focus_ITA_excommunication
		prerequisite = { focus = LVN_church_brings_stability }
		
		x = 1
		y = 1
		
		relative_position_id = LVN_church_brings_stability
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			if = {
				limit = {
					has_idea = italia_victor_emmanuel
				}
				remove_ideas = italia_victor_emmanuel
			}
			if = {
				limit = {
					has_idea = king_umberto 
				}
				remove_ideas = king_umberto 
			}
			add_country_leader_trait = disgraced_monarch
		}
	}
	
	focus = {
		id = LVN_holy_government
		icon = GFX_focus_ITA_pope_leader
		prerequisite = { focus = LVN_rebuild_roma }
		prerequisite = { focus = LVN_excommunication }
		
		x = 1
		y = 1
		
		relative_position_id = LVN_rebuild_roma
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS }
		
		completion_reward = {
			set_cosmetic_tag = LVN_POPE_COUNTRY
			set_party_name = { 
				ideology = neutrality 
				long_name = ITA_pope_party_long 
				name = ITA_pope_party 
			}
			hidden_effect = { 
				set_country_flag = LVN_catholic_italy 
			}
			promote_character = ITA_Pius_XII
			if = {
				limit = {
					NOT = { has_government = neutrality }
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
		}
	}
	
	focus = {
		id = LVN_college_mary
		icon = GFX_focus_ITA_church_school
		prerequisite = { focus = LVN_holy_government }
		mutually_exclusive = { focus = LVN_church_literacy }
		
		x = -2
		y = 1
		
		relative_position_id = LVN_holy_government
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_stability = 0.05
			add_war_support = -0.05
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_research_slot = 1
			
		}
	}
	
	focus = {
		id = LVN_church_literacy
		icon = GFX_focus_ITA_st_george
		prerequisite = { focus = LVN_holy_government }
		mutually_exclusive = { focus = LVN_college_mary }
		
		x = -2
		y = 0
		
		relative_position_id = LVN_college_mary
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_war_support = 0.05
			add_stability = -0.05
			add_doctrine_cost_reduction = {
			    cost_reduction = 0.5
			    uses = 1
				category = land_doctrine
			}		
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = support_tech
			}
			add_research_slot = 1
		}
	}
	
	focus = {
		id = LVN_use_church_riches
		prerequisite = { focus = LVN_holy_government }
		mutually_exclusive = { focus = LVN_church_austerity }
		x = 2
		y = 1
		
		relative_position_id = LVN_holy_government
		
		icon = GFX_focus_usa_reestablish_the_gold_standard
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_stability = 0.05
			add_ideas = LVN_church_gold_idea
		}
	}
	
	focus = {
		id = LVN_church_austerity
		prerequisite = { focus = LVN_holy_government }
		mutually_exclusive = { focus = LVN_use_church_riches }
		
		x = 2
		y = 0
		
		relative_position_id = LVN_use_church_riches
		
		icon = GFX_focus_ITA_church_factories
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_stability = -0.05
			add_ideas = LVN_church_austerity_idea
		}
	}
	
	focus = {
		id = LVN_appeal_to_the_faithful
		icon = GFX_focus_ITA_saint_peter
		prerequisite = { focus = LVN_holy_government }
		available = { has_war = no }
		x = 0
		y = 1
		
		relative_position_id = LVN_holy_government
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { has_government = communism }
					OR = {
						tag = MEX
						tag = BRA
						tag = IRE
						tag = FRA 
						tag = POR
						original_tag = SPR 
						tag = AUS 
						tag = POL
						tag = PHI
					}
				}
				add_timed_idea = {
					idea = LVN_growth_of_catholicism
					days = 365
				}
			}
			hidden_effect = {
				FRA = { country_event = { id = italia_ita.105 days = 20 random = 45 } }
			}
		}
	}
	
	
	focus = {
		id = LVN_gods_army
		icon = GFX_focus_ITA_god_army
		prerequisite = { focus = LVN_appeal_to_the_faithful }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_appeal_to_the_faithful
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {	
			if = {
				limit = {
					has_country_flag = LVN_armies_locked
				}
				country_lock_all_division_template = no
				clr_country_flag = LVN_armies_locked 
			}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = george_aspremont
			show_unit_leaders_tooltip = ITA_Georg_Aspremont		
		}
	}
	
	focus = {
		id = LVN_church_of_spies
		icon = GFX_focus_ITA_church_spies
		prerequisite = { focus = LVN_appeal_to_the_faithful }
		allow_branch = {
			has_dlc = "La Resistance"
			has_global_flag = LVN_release_the_pope
		}
		
		x = 4
		y = 0
		
		relative_position_id = LVN_gods_army
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {	
			add_ideas = LVN_papal_spies_idea
			if = {
				limit = {
					GER = {
						has_government = fascism
					}
				}
				create_operative_leader = {
					name = "Josef Mller"
					GFX = GFX_portrait_ITA_JMuller
					traits = { operative_infiltrator operative_linguist }
					bypass_recruitment = yes
					available_to_spy_master = no
					nationalities = { GER MEX }
				}
			}	
		}
	}

	
	focus = {
		id = LVN_militarize_templar
		icon = GFX_focus_ITA_templar
		prerequisite = { focus = LVN_gods_army }
		mutually_exclusive = { focus = LVN_swiss_guards }
		x = 1
		y = 1
		
		relative_position_id = LVN_gods_army
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			add_stability = -0.05
			add_war_support = 0.10
			add_ideas = LVN_templar_idea
			custom_effect_tooltip = LVN_templar_training_effect
			hidden_effect = { set_technology = { templar_tech = 1 } }
			
		}
	}
	
	focus = {
		id = LVN_swiss_guards
		icon = GFX_focus_ITA_swiss_training
		prerequisite = { focus = LVN_gods_army }
		mutually_exclusive = { focus = LVN_militarize_templar }
		
		x = 2
		y = 0
		
		relative_position_id = LVN_militarize_templar
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			add_ideas = LVN_swiss_guard_idea
			
		}
	}
	
	focus = {
		id = LVN_gods_fleet
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = LVN_gods_army }
		mutually_exclusive = { focus = LVN_gods_ports }
		
		icon = GFX_focus_generic_super_battleship
		x = -1
		y = 1
		relative_position_id = LVN_gods_army
		cost = 10

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					not = { has_dlc = "Man the Guns" }
				}
				add_tech_bonus = {
					bonus = 3.0
					uses = 1
					category = shbb_tech	
				}
			}
			else = {
				if = {
					limit = {
						not = { has_tech = ship_hull_super_heavy }
					}
					set_technology = {
						ship_hull_super_heavy = 1
					}
				}
				if = {
					limit = {
						not = { has_tech = dp_secondary_battery }
					}
					set_technology = { dp_secondary_battery = 1 }
				}
				create_equipment_variant = {
					name = "St. Peter Class"
					type = ship_hull_super_heavy_1
					name_group = ITA_BB_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_super_heavy_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = dp_ship_secondaries
						fixed_ship_armor_slot = ship_armor_shbb
						front_1_custom_slot = ship_super_heavy_battery_1
						front_2_custom_slot = ship_super_heavy_battery_1
						mid_1_custom_slot = dp_ship_secondaries
						mid_2_custom_slot = dp_ship_secondaries
						mid_3_custom_slot = dp_ship_secondaries
						rear_1_custom_slot = ship_super_heavy_battery_1
						rear_2_custom_slot = ship_airplane_launcher_1
					}
				}
				custom_effect_tooltip = LVN_PETER_PAUL_tt
				hidden_effect = {
					add_equipment_production = {
						equipment = {
							type = ship_hull_super_heavy_1
							creator = "ITA" 
							version_name = "St. Peter Class"
						}
						name = "St. Peter" 
						requested_factories = 1
						progress = 0.75
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_super_heavy_1
							creator = "ITA" 
							version_name = "St. Peter Class"
						}
						name = "St. Paul" 
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
				}
			}
		}
	}
	
	focus = {
		id = LVN_gods_ports
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = LVN_gods_army }
		mutually_exclusive = { focus = LVN_gods_fleet }
		
		icon = GFX_focus_generic_lvn_navy
		x = -2
		y = 0
		relative_position_id = LVN_gods_fleet
		cost = 10

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			navy_experience = 25
			add_doctrine_cost_reduction = {
			    cost_reduction = 0.75
			    uses = 2
				category = naval_doctrine
			}	
			random_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	
	focus = {
		id = LVN_catholic_alliance
		icon = GFX_focus_ITA_pope_letter
		prerequisite = { focus = LVN_gods_army }
		
		available = {
			is_in_faction = no
		}
		
		x = 0
		y = 2
		
		relative_position_id = LVN_gods_army
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = LVN_POPE_FACTION
		}
	}	
	
#####Catholic Federation##########
	focus = {
		id = LVN_holy_duty
		icon = GFX_focus_ITA_holy_duty
		prerequisite = { focus = LVN_catholic_alliance }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_catholic_alliance
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_war_support = 0.05
			add_political_power = 120
			if = {
				limit = {
					AUS = {
						has_country_flag = POPE_befriended_me
						NOT = { is_in_faction_with = ROOT }
						NOT = { has_war_with = ROOT }
						is_subject = no 
						exists = yes 
						NOT = { has_government = communism }
						NOT = { has_government = fascism }
					}
				}
				AUS = { country_event = lvn_generic.4 }
			}
			if = {
				limit = {
					POL = {
						has_country_flag = POPE_befriended_me
						NOT = { is_in_faction_with = ROOT }
						NOT = { has_war_with = ROOT }
						is_subject = no 
						exists = yes 
						NOT = { has_government = communism }
						NOT = { has_government = fascism }
					}
				}
				POL = { country_event = lvn_generic.4 }
			}
		}
	}
	
	
	focus = {
		id = LVN_catholic_brazil
		icon = GFX_focus_ITA_brazil_statue
		prerequisite = { focus = LVN_catholic_alliance }
		
		x = -3
		y = 1
		
		relative_position_id = LVN_catholic_alliance
		
		select_effect = {
			BRA = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 200
				}
			}
		}
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			hidden_effect = {
				BRA = { set_country_flag = LVN_this_country_is_now_catholic }
			}
			BRA = { country_event = lvn_generic.4 }
		}
	}
	
	focus = {
		id = LVN_brasil_industry
		icon = GFX_focus_generic_green_industry
		prerequisite = { focus = LVN_catholic_brazil }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_catholic_brazil
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			BRA = {
				random_owned_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				random_owned_state = {
					limit = { NOT = { state = PREV.PREV } }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
}
	
	focus = {
		id = LVN_catholic_mexico
		icon = GFX_focus_ITA_catholic_mexico
		prerequisite = { focus = LVN_catholic_alliance }
		
		x = 3
		y = 1
		
		relative_position_id = LVN_catholic_alliance
		
		select_effect = {
			MEX = {
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			hidden_effect = {
				MEX = { set_country_flag = LVN_this_country_is_now_catholic }
			}
			if = {
				limit = {
					MEX = { has_country_leader = { name = "Luis Mara Martnez" ruling_only = yes } }
				}
				MEX = { country_event = lvn_generic.4 }
			}
			else_if = {
				MEX = { country_event = mexico.28 }
			}
		}
	}
	
	focus = {
		id = LVN_attack_mexico
		icon = GFX_focus_attack_mexico
		prerequisite = { focus = LVN_catholic_mexico }
		available = {
			OR = {
				AND = {
					MEX = {
						has_civil_war = yes
					}
					any_country_with_original_tag = {
						original_tag_to_check = MEX
						has_country_leader = { name = "Luis Mara Martnez" ruling_only = yes }
					}
				}
				MEX = {
					has_civil_war = no 
					NOT = { has_country_leader = { name = "Luis Mara Martnez" ruling_only = yes } }
				}
			}
		}
		
		x = 0
		y = 1
		
		relative_position_id = LVN_catholic_mexico
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			
			if = {
				limit = {
					MEX = {
						has_civil_war = yes 
					}
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							original_tag = MEX
							has_country_leader = { name = "Luis Mara Martnez" ruling_only = yes }
						}
						save_event_target_as = cat_mex_target
						ROOT = {
							add_to_war = {
								targeted_alliance = PREV
								enemy = MEX
								hostility_reason = asked_to_join
							}
						}
					}
				}
				custom_effect_tooltip = church_joins_mex_war_tt
				ROOT = { add_to_faction = event_target:cat_mex_target }
			}
			else_if = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = MEX 
				}
			}
		}
	}
	
	focus = {
		id = LVN_catholic_spain
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		prerequisite = { focus = LVN_holy_duty }
		mutually_exclusive = { focus = LVN_catholic_nat_spain }
		available = {
			has_global_flag = scw_over
			all_country_with_original_tag = {
				original_tag_to_check = SPR 
				NOT = { has_war_with = ROOT }
			}
		}
		
		bypass = {
			hidden_trigger = { has_completed_focus = LVN_holy_duty }
			any_country_with_original_tag = {
				original_tag_to_check = SPR 
				is_in_faction_with = ROOT 
				has_civil_war = no 
				NOT = { has_country_leader = { name = "Francisco Franco" ruling_only = yes } }
			}
		}
		
		x = 1
		y = 1
		
		relative_position_id = LVN_holy_duty
		
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					SPB = {
						exists = yes
						NOT = { has_war_with = ROOT }
						has_civil_war = no
					}
					all_of_scopes = {
						array = SPR.core_states
						is_controlled_by = SPB
					}
				}
				add_to_faction = SPB
			}
			else_if = { #Spanish civil war is over, no Carlists
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SPR 
				}		
			}

		}
	}
	
	focus = {
		id = LVN_catholic_nat_spain
		icon = GFX_focus_ITA_franco_spain
		prerequisite = { focus = LVN_holy_duty }
		mutually_exclusive = { focus = LVN_catholic_spain }
		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					has_civil_war = no 
					has_country_leader = { name = "Francisco Franco" ruling_only = yes }
				}
			}
			else_if = {
				any_country_with_original_tag = {
					original_tag_to_check = SPR 
					has_country_leader = { name = "Francisco Franco" ruling_only = yes }
					has_civil_war = no 
				}
			}
		}
		
		select_effect = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
				}
			}
			else_if = {
				every_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
					}
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 200
					}
				}
			}		
		}
		
		x = -1
		y = 1
		
		relative_position_id = LVN_holy_duty
		
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
					SPA = { is_ai = no }
				}
				SPA = {
					country_event = lvn_generic.4
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					SPA = { is_ai = yes }
				}
				add_to_faction = SPA
			}
			else_if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR 
						is_ai = no 
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
					}
				}
				every_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
						is_ai = no
					}
					country_event = lvn_generic.4
				}
			}
			else_if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR 
						is_ai = yes 
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
					}
				}
				every_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
						is_ai = yes
					}
					set_country_flag = join_us_SPA_and_be_saved
				}
				ROOT = { add_to_faction = PREV }
			}
		}
	}
	
	focus = {
		id = LVN_catholic_portugal
		icon = GFX_focus_ITA_salazar_death
		prerequisite = { focus = LVN_catholic_spain focus = LVN_catholic_nat_spain }
		available = {
			POR = { has_country_leader = { name = "Antnio de Oliveira Salazar" ruling_only = yes } }
		}
		
		bypass = {
			hidden_trigger = { has_completed_focus = LVN_holy_duty }
			POR = { 
				OR = {
					is_in_faction_with = ROOT 
					is_subject_of = ROOT 
					exists = no
					AND = {
						is_subject = yes 
						NOT = { is_subject_of = ROOT }
					}
					NOT = { has_country_leader = { name = "Antnio de Oliveira Salazar" ruling_only = yes } }
				}
			}
		}
		
		x = -1
		y = 1
		
		relative_position_id = LVN_catholic_spain
		
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			POR = {
				country_event = italia_ita.108
			}
		}
	}

	
	focus = {
		id = LVN_children_of_god
		icon = GFX_focus_ITA_cog
		prerequisite = { focus = LVN_catholic_portugal }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_catholic_portugal
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR 
						is_in_faction_with = ROOT 
						NOT = { has_country_leader = { name = "Francisco Franco" ruling_only = yes } }
					}
				}
				annex_country = {
					target = SPR
					transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = SPR 
					}
					add_core_of = ROOT 
				}
			}
			else_if = {
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR 
						is_in_faction_with = ROOT 
						has_country_leader = { name = "Francisco Franco" ruling_only = yes }
					}
				}
				puppet = SPR
				hidden_effect = {
					every_country = {
						limit = {
							original_tag = SPR 
							is_subject_of = ROOT 
						}
						promote_character = SPA_francisco_franco
					}
				}
			}
			if = {
				limit = {
					POR = { is_in_faction_with = ROOT }
				}
				annex_country = {
					target = POR
					transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = POR 
					}
					add_core_of = ROOT 
				}
			}
			else_if = {
				limit = {
					POR = {
						NOT = { is_in_faction_with = ROOT }
						has_government = neutrality 
					}
				}
				POR = { country_event = lvn_generic.4 }
			}
			every_other_country = {
				limit = {
					NOT = { tag = POR }
					NOT = { original_tag = SPR }
					is_in_faction_with = ROOT 
					NOT = { is_subject_of = ROOT }
					has_country_flag = LVN_this_country_is_now_catholic
				}
				ITA = { puppet = PREV }
			}
		}
	}
	
#####HOLY DUTY
	focus = {
		id = LVN_european_catholics
		icon = GFX_focus_ITA_catholic_europe
		prerequisite = { focus = LVN_appeal_to_the_faithful }
		
		available = {
			OR = {
				AUS = {
					exists = yes 
					has_war = no 
				}
				POL = {
					exists = yes 
					has_war = no 
				}
			}
		}
		
		bypass = {
			AUS = {
				OR = {
					exists = no
					has_war = yes 
				}
			}
			POL = {
				OR = {
					exists = no
					has_war = yes 
				}
			}
		}
		
		x = 7
		y = 1
		
		relative_position_id = LVN_appeal_to_the_faithful
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			if = {
				limit = {
					AUS = {
						exists = yes 
						has_war = no 
					}
				}
				diplomatic_relation = {
					country = AUS
					relation = guarantee
					active = yes
				}
				AUS = { set_country_flag = POPE_befriended_me }
			}
			if = {
				limit = {
					POL = {
						exists = yes 
						has_war = no 
					}
				}
				diplomatic_relation = {
					country = POL
					relation = guarantee
					active = yes
				}
				POL = { set_country_flag = POPE_befriended_me }
			}
		}
	}


	focus = {
		id = LVN_oppose_germany
		icon = GFX_focus_ITA_pope_hitler
		prerequisite = { focus = LVN_european_catholics }
		mutually_exclusive = { focus = LVN_GER_catholics }
		mutually_exclusive = { focus = LVN_war_with_germany }
		
		available = {
			GER = {
				has_country_leader = { name = "Adolf Hitler" ruling_only = yes }
			}
		}
		
		x = 0
		y = 1
		
		relative_position_id = LVN_european_catholics
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_political_power = -100
			GER = { country_event = { id = italia_ita.112 days = 2 } }
		}
	}
	
	focus = {
		id = LVN_war_with_germany
		icon = GFX_focus_attack_germany
		prerequisite = { focus = LVN_european_catholics }
		mutually_exclusive = { focus = LVN_GER_catholics }
		mutually_exclusive = { focus = LVN_oppose_germany }
		
		available = {
			NOT = { has_war_with = GER }
			GER = {
				has_government = fascism 
			}
		}
		
		x = 2
		y = 0
		
		relative_position_id = LVN_oppose_germany
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_war_support = 0.02
			create_wargoal = {
				type = topple_government
				target = GER
			}
		}
	}
	
	focus = {
		id = LVN_GER_catholics
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = LVN_european_catholics }
		mutually_exclusive = { focus = LVN_oppose_germany }
		mutually_exclusive = { focus = LVN_war_with_germany }
		
		x = -2
		y = 0
		
		relative_position_id = LVN_oppose_germany
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = yes
			}
		}
	}
	
	focus = {
		id = LVN_safe_haven_cath
		icon = GFX_focus_ITA_safe_haven_church
		prerequisite = { focus = LVN_GER_catholics focus = LVN_oppose_germany focus = LVN_war_with_germany }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_oppose_germany
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			#mod
			add_ideas = ITA_safe_haven_europe
		}
	}
		
	focus = {
		id = LVN_condemn_false_faiths
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = LVN_safe_haven_cath }
		mutually_exclusive = { focus = LVN_peaceful_co-existence }
		available = {
			OR = {
				YUG = {
					exists = yes 
					NOT = { has_war_with = ROOT }
				}
				GRE = {
					exists = yes 
					NOT = { has_war_with = ROOT }
				}
			}
		}
		
		x = 1
		y = 1
		
		relative_position_id = LVN_safe_haven_cath
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_war_support = 0.05
			every_other_country = {
				limit = {
					OR = { 
						tag = GRE 
						tag = YUG 
					}
					exists = yes 
				}
				set_country_flag = LVN_false_faith_country
				add_opinion_modifier = {
					target = ROOT
					modifier = protest_action
				}
			}
		}
	}
	
	focus = {
		id = LVN_peaceful_co-existence
		icon = GFX_focus_generic_peace
		prerequisite = { focus = LVN_safe_haven_cath }
		mutually_exclusive = { focus = LVN_condemn_false_faiths }
		available = {
			OR = {
				YUG = {
					exists = yes 
					NOT = { has_war_with = ROOT }
					is_subject = no 
				}
				GRE = {
					exists = yes 
					NOT = { has_war_with = ROOT }
					is_subject = no 
				}
			}
		}
		
		x = -1
		y = 1
		
		relative_position_id = LVN_safe_haven_cath
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			every_other_country = {
				limit = {
					OR = { 
						tag = GRE 
						tag = YUG 
						tag = ALB
					}
					exists = yes 
					NOT = { has_war_with = ROOT }
					is_subject = no 
					NOT = { is_in_faction_with = ROOT }
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = yes
				}
			}
				
		}
	}
	
	focus = {
		id = LVN_joint_border_program
		icon = GFX_focus_generic_industry_1
		prerequisite = { focus = LVN_peaceful_co-existence }
		available = {
			OR = {
				YUG = {
					exists = yes 
					NOT = { has_war_with = ROOT }
					is_subject = no 
				}
				GRE = {
					exists = yes 
					NOT = { has_war_with = ROOT }
					is_subject = no 
				}
				ALB = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		
		x = 0
		y = 1
		
		relative_position_id = LVN_peaceful_co-existence
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					GRE = {
						exists = yes 
						NOT = { has_war_with = ROOT }
						is_subject = no 
					}
				}
				GRE = {
					random_owned_controlled_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					YUG = {
						exists = yes 
						NOT = { has_war_with = ROOT }
						is_subject = no 
					}
				}
				YUG = {
					random_owned_controlled_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					ALB = {
						exists = yes 
						NOT = { has_war_with = ROOT }
						is_subject = no 
					}
				}
				ALB = {
					random_owned_controlled_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
				
		}
	}
	
	focus = {
		id = LVN_attack_europe
		icon = GFX_focus_usa_focus_on_europe
		prerequisite = { focus = LVN_condemn_false_faiths }
		
		available = {
			OR = {
				GRE = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
				YUG = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
				ALB = {
					exists = yes
					NOT = { has_war_with = ROOT }
					NOT = { is_subject_of = ROOT }
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		
		x = 0
		y = 1
		
		relative_position_id = LVN_condemn_false_faiths
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		
		completion_reward = {
			if = {
				limit = {
					GRE = {
						exists = yes
						NOT = { has_war_with = ROOT }
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}	
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GRE 
				}
			}
			if = {
				limit = {
					YUG = {
						exists = yes
						NOT = { has_war_with = ROOT }
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}	
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = YUG 
				}
			}
			if = {
				limit = {
					ALB = {
						exists = yes
						NOT = { has_war_with = ROOT }
						NOT = { is_subject_of = ROOT }
						NOT = { is_in_faction_with = ROOT }
					}	
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ALB
				}
			}
		}
	}
	
######War with France or Britain
	focus = {
		id = LVN_french_catholics
		icon = GFX_focus_ITA_catholic_france
		prerequisite = { focus = LVN_children_of_god }
		
		x = 0
		y = 1
		
		relative_position_id = LVN_children_of_god
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			if = {
				limit = { #If Maurras idea has happened
					any_country_with_original_tag = {
						original_tag_to_check = FRA
						is_subject = no
						has_idea = LVN_charles_maurras 
					}
				}
				FRA = { country_event = italia_ita.106 } #Maurras stages coup
			}
			else_if = { #If we have France as a puppet, form the puppet
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = FRA 
						exists = yes 
						is_subject_of = ROOT 
					}
				}
				if = {
					limit = {
						NOT = { has_government = neutrality }
					}
					hidden_effect = {
						FRA = {
							set_politics = {
								ruling_party = neutrality
								elections_allowed = no
							}
						}
					}
				}
				FRA = {
					promote_character = LVN_Charles_Maurras
				}
			}
			else_if = {#indy France, no Charles Maurras perhaps because France was not the AI
				limit = {
					any_country_with_original_tag = {
						original_tag_to_check = FRA
						exists = yes 
						is_subject = no
						NOT = { has_idea = LVN_charles_maurras }
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			
			else_if = {#We've defeated France and control their cores, form puppet state 
				limit = {
					FRA = { LVN_we_beat_this_bad_boy = yes }
				}
				hidden_effect = { #set up French politics 
					FRA = {
						set_politics = {
							ruling_party = neutrality
							elections_allowed = no
						}
						promote_character = LVN_Charles_Maurras
					}
				}
				release_autonomy = {
					target = FRA
					autonomy_state = autonomy_lvnprotectorate
					freedom_level = 0.5
				}
				FRA = {
					set_cosmetic_tag = LVN_catholic_france_tag 
					hidden_effect = { load_focus_tree = generic_focus }
				}
				every_state = {
					limit = {
						is_controlled_by = FRA 
						NOT = { is_core_of = FRA }
					}
					ROOT = { set_state_owner = PREV }
				}
			}		
						
		}
	}
	
	focus = {
		id = LVN_free_ireland
		icon = GFX_focus_generic_ireland
		prerequisite = { focus = LVN_children_of_god }
		
		available = {
			NOT = { has_completed_focus = LVN_mediate_ireland }
			IRE = {
				exists = yes
				NOT = { has_government = communism }
				is_in_faction = no
				has_war = no
			}
		}
		
		x = 2
		y = 1
		
		select_effect = {
			IRE = {
				add_ai_strategy = {
					type = alliance
					id = ITA
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = ITA
					value = 200
				}
			}
		}
		
		relative_position_id = LVN_children_of_god
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			IRE = { country_event = lvn_generic.4 }
		}
	}
	
	focus = {
		id = LVN_mediate_ireland
		icon = GFX_focus_ITA_mediate_ireland
		prerequisite = { focus = LVN_children_of_god }
		
		available = {
			NOT = { has_completed_focus = LVN_free_ireland }
			IRE = {
				exists = yes
				NOT = { has_government = communism }
				is_in_faction = no
				has_war = no
			}
			119 = {
				is_owned_by = ENG 
				is_core_of = IRE
			}
		}
		
		x = -2
		y = 1
		
		relative_position_id = LVN_children_of_god
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			119 = { remove_core_of = IRE }
		}
	}
	
	focus = {
		id = LVN_destroy_anglican
		icon = GFX_focus_attack_britain
		prerequisite = { focus = LVN_free_ireland }
		prerequisite = { focus = LVN_french_catholics }
		mutually_exclusive = { focus = LVN_eden_agreement }
		
		available = {
			ENG = { 
				exists = yes 
				NOT = { has_war_with = ROOT }
				NOT = { is_in_faction_with = ROOT }
				NOT = { is_subject_of = ROOT }
			}
			has_army_manpower = { size > 500000 }
		}
		
		x = 1
		y = 1
		
		relative_position_id = LVN_french_catholics
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			}
		}
	}
	
	focus = {
		id = LVN_eden_agreement
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = LVN_french_catholics }
		prerequisite = { focus = LVN_mediate_ireland }
		mutually_exclusive = { focus = LVN_destroy_anglican }
		
		available = {
			ENG = {
				exists = yes 
				NOT = { has_war_with = ROOT }
				NOT = { is_subject_of = ROOT }
			}
			OR = {
				ENG = { controls_state = 454 }
				ENG = { controls_state = 455 }
			}					
			has_army_manpower = { size > 750000 }
			ROOT = {
				naval_strength_comparison = {
					other = ENG
					ratio > 0.70
				}
			}
		}
		
		x = -2
		y = 0
		
		relative_position_id = LVN_destroy_anglican
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
		
		completion_reward = {
			add_political_power = -100
			if = {
				limit = {
					ENG = { controls_state = 454 }
				}
				ENG = { release = PAL }
			}
			if = {
				limit = {
					ENG = { controls_state = 455 }
				}
				ENG = { release = JOR }
			}
			ENG = {
				diplomatic_relation = {
					country = ROOT
					relation = docking_rights
					active = yes
				}
				add_opinion_modifier = {
					target = ROOT 
					modifier = ita_diplomacy_focus
				}
			}
			diplomatic_relation = {
				country = ENG
				relation = non_aggression_pact
				active = yes
			}
			add_opinion_modifier = {
				target = ENG 
				modifier = 	ENG_non_interference_treaty
			}
		}
	}
	
	focus = {
		id = LVN_call_crusade
		icon = GFX_focus_ITA_last_crusade
		prerequisite = { focus = LVN_eden_agreement focus = LVN_destroy_anglican }
		available = {
			has_war_support > 0.8
		}
		
		x = 1
		y = 1
		
		relative_position_id = LVN_eden_agreement
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			custom_effect_tooltip = kamikaze_focus_tooltip
			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			if = {
				limit = {
					NOT = { has_idea = tot_economic_mobilisation }
				}
				add_ideas = tot_economic_mobilisation
			}
			else_if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 150
			}
			
			add_timed_idea = {
				idea = LVN_prepare_crusade_idea
				days = 365
			}
		}
	}
	
######CRUSADES
	focus = {
		id = LVN_holy_land
		icon = GFX_focus_generic_palestine
		prerequisite = { focus = LVN_call_crusade }
		available = {
			has_army_manpower = { size > 1000000 }
			has_war_support > 0.8
		}
		
		bypass = {
			hidden_trigger = { has_completed_focus = LVN_call_crusade }
			controls_state = 454
		}
		
		x = 0
		y = 1
		
		relative_position_id = LVN_call_crusade
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			add_state_claim = 454
			if = {
				limit = {
					PAL = {
						exists = yes
						is_subject = no 
					}
				}
				create_wargoal = {
					type = annex_everything
					target = PAL 
				}
			}
			else_if = {
				random_country = {
					limit = { 
						controls_state = 454
					}
					save_event_target_as = controller_of_holy_land
				}
				country_event = italia_ita.102
			}					
		}
	}
	
	focus = {
		id = LVN_invade_arabia
		icon = GFX_focus_ITA_invade_arabia
		prerequisite = { focus = LVN_holy_land }
		
		x = -1
		y = 1
		
		relative_position_id = LVN_holy_land
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			custom_effect_tooltip = catholic_war_arabia_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						capital_scope = { region = 196 }
						NOT = { is_subject_of = ROOT }
						is_in_faction = no
						has_war = no
					}
					ITA = {
						create_wargoal = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = LVN_invade_turkey
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = LVN_holy_land }
		available = {
			TUR = {
				exists = yes 
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_war_with = ROOT }
			}
		}
		
		x = 1
		y = 1
		
		relative_position_id = LVN_holy_land
		
		cost = 5
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = TUR 
			}
		}
	}
	
	focus = {
		id = LVN_kingdom_of_heaven
		icon = GFX_focus_ITA_holy_city
		prerequisite = { focus = LVN_holy_land }
		
		available = {
			controls_state = 454
			is_faction_leader = yes
			has_war = no
		}
		
		x = 0
		y = 2
		
		relative_position_id = LVN_holy_land
		
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ANNEXATION}
		
		completion_reward = {
			set_cosmetic_tag = LVN_kingdom_of_heaven
			454 = { 
				add_core_of = ROOT
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			hidden_effect = {
				add_victory_points = { #increase importance of Jerusalem
					province = 1086
					value = 10
				}
			}
			if = {
				limit = {
					FRA = {
						OR = {
							is_in_faction_with = ROOT 
							is_subject_of = ROOT 
						}
					}
				}
				annex_country = {
					target = FRA
					transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = FRA
						is_on_continent = EUROPE 
					}
					add_core_of = ROOT 
				}
			}
			if = {
				limit = {
					AUS = {
						OR = {
							is_in_faction_with = ROOT 
							is_subject_of = ROOT 
						}
					}
				}
				annex_country = {
					target = AUS
					transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = AUS
						is_on_continent = EUROPE 
					}
					add_core_of = ROOT 
				}
			}
			if = {
				limit = {
					all_of_scopes = {
						array = FRA.core_states
						is_owned_by = ROOT
					}
				}
				every_state = {
					limit = {
						is_core_of = FRA 
						is_on_continent = EUROPE 
					}
					add_core_of = ROOT 
				}
			}
			if = {
				limit = {
					all_of_scopes = {
						array = SPR.core_states
						is_owned_by = ROOT
					}
				}
				every_state = {
					limit = {
						is_core_of = SPR 
						is_on_continent = EUROPE 
					}
					add_core_of = ROOT 
				}
			}
			if = {
				limit = {
					all_of_scopes = {
						array = AUS.core_states
						is_owned_by = ROOT
					}
				}
				every_state = {
					limit = {
						is_core_of = AUS 
						is_on_continent = EUROPE 
					}
					add_core_of = ROOT 
				}
			}
		}
	}



	focus = {
		id = LVN_defense_bolshevism
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = LVN_appeal_to_the_faithful }
		available = { 
			any_other_country = { has_government = communism }
		}


		x = -7
		y = 0
		relative_position_id = LVN_gods_army
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_ideas = GER_bulwark_against_bolshevism
			SOV = { 
				add_opinion_modifier = { target = ITA modifier = embargo } 
			}
			every_other_country = {
				limit = {
					NOT = { has_government = communism }
					NOT = { is_in_faction_with = SOV }
					NOT = { has_war_with = ROOT }
					NOT = { has_war_together_with = SOV }
					NOT = { is_subject_of = ROOT }
					NOT = { is_subject_of = SOV }
				}
				add_opinion_modifier = { target = ITA modifier = LVN_took_stand_against_communism }
			}
					
			hidden_effect = {	
				if = {
					limit = {
						has_idea = communist_influence 
					}
					remove_ideas = communist_influence
				}
			}
		}
	}
	focus = {
		id = LVN_kennedy_deal
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = LVN_defense_bolshevism }
		available = { 
			USA = {
				exists = yes 
				is_subject = no
				NOT = {
					has_government = communism
					has_war_with = ROOT 
				}
			}
		}

		x = 0
		y = 1
		relative_position_id = LVN_defense_bolshevism
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_political_power = 120
			add_opinion_modifier = { 
				target = USA
				modifier = LVN_strengthened_relations_with_us
			}
			USA = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = LVN_strengthened_relations_with_us
				}
				diplomatic_relation = {
					country = ROOT 
					relation = non_aggression_pact
					active = yes
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				diplomatic_relation = {
					country = USA
					relation = non_aggression_pact
					active = yes
				}
			}

			USA = {
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = 20
				}
			}
			add_ai_strategy = {
				type = befriend
				id = USA
				value = 20
			}
		}
	}
	
	focus = {
		id = LVN_us_arm_equipment
		icon = GFX_focus_usa_build_the_pentagon
		prerequisite = { focus = LVN_kennedy_deal }
		mutually_exclusive = { focus = LVN_american_industry }
		available = { 
			USA = {
				exists = yes 
				is_subject = no
				has_opinion = {
					target = ROOT
					value > 49
				}
				NOT = {
					has_government = communism
					has_war_with = ROOT 
					has_war_together_with = SOV
				}
			}
		}
		bypass = {
			USA = {
				OR = {
					is_subject = yes
					exists = no
					has_government = communism
					has_war_with = ROOT 
					has_war_together_with = SOV
				}
			}
		}

		x = -1
		y = 1
		relative_position_id = LVN_kennedy_deal
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			#Latest Medium Tank license
			if = {
				limit = {
					USA = { has_tech = advanced_medium_tank }
				}
				USA = {
					create_production_license = {
						target = ROOT
							equipment = {
								type = medium_tank_equipment_3
							}
							cost_factor = 0
					}
				}
				add_equipment_to_stockpile = {
					type = medium_tank_equipment_3
					amount = 200
					producer = USA
				}
			}
			else_if = {
				limit = {
					USA = { has_tech = improved_medium_tank }
				}
				USA = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = medium_tank_equipment_2
						}
						cost_factor = 0
					}
				}
				add_equipment_to_stockpile = {
					type = medium_tank_equipment_2
					amount = 200
					producer = USA
				}
			}
			else_if = {
				limit = {
					USA = { has_tech = basic_medium_tank }
				}
				USA = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = medium_tank_equipment_1
						}
						cost_factor = 0
					}
				}
				add_equipment_to_stockpile = {
					type = medium_tank_equipment_1
					amount = 200
					producer = USA
				}
			}
			else_if = {
				add_tech_bonus = {
					bonus = 1.0
					uses = 1
					category = armor
				}
			}
			if = {
				limit = {
					USA = { has_tech = fighter3 }
				}
				USA = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = fighter_equipment_3
						}
						cost_factor = 0
					}
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_3
					amount = 200
					producer = USA
				}
			}
			else_if = {
				limit = {
					USA = { has_tech = fighter2 }
				}
				USA = {
					create_production_license = {
						target = ROOT
						equipment = {
							type = fighter_equipment_2
						}
						cost_factor = 0
					}
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_2
					amount = 250
					producer = USA
				}
			}
			else_if = {
				limit = {
					USA = { has_tech = fighter1 }
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_1
					amount = 200
					producer = USA
				}
				add_tech_bonus = {
					bonus = 1.0
					uses = 1
					category = air_equipment
				}
			}
			else_if = {
				add_tech_bonus = {
					bonus = 1.0
					uses = 1
					category = air_equipment
				}	
			}
		}
	}
	
	focus = {
		id = LVN_american_industry
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = LVN_kennedy_deal }
		mutually_exclusive = { focus = LVN_us_arm_equipment }
		available = { 
			USA = {
				exists = yes 
				is_subject = no
				has_opinion = {
					target = ROOT
					value > 49
				}
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
			}
		}


		x = 1
		y = 1
		
		relative_position_id = LVN_kennedy_deal
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			random_owned_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = { NOT = { state = PREV.PREV } }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}	
		}
	}
	
	focus = {
		id = LVN_catholic_soviet
		icon = GFX_focus_ITA_soviet_menace
		prerequisite = { focus = LVN_us_arm_equipment focus = LVN_american_industry }
		available = { 
			SOV = {
				exists = yes
				has_government = communism
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_war_with = ROOT }
			}
		}


		x = 1
		y = 1
		
		relative_position_id = LVN_us_arm_equipment
		cost = 10
		
		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV 
			}
		}
	}
	
}#Closing Bracket for Focus Tree
